var fd=Object.defineProperty;var gd=(n,e,t)=>e in n?fd(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Be=(n,e,t)=>gd(n,typeof e!="symbol"?e+"":e,t);import{r as N,b as Pe,u as Ie,c as Bl,d as Wl,j as M,B as an,e as hd,g as Xo,h as pd,aJ as Kl,P as lo,s as $s,k as Ms,aK as md,t as Ul,x as Qo,aL as Ui,a as _d,S as yd,aM as bd,aN as xd,y as vd,aO as jl,C as Je,aP as ji,aQ as es,R as Tt,ab as zr,O as J,T as Sd,aq as Hi,W as Cd,a1 as Oo,af as wd}from"./index-9x2Uqv4i.js";import{c as Td}from"./PRReviewLazy-PcF7-6Vp.js";import{markdownCss as Ed}from"./MarkdownRenderer-B-dfvI3X.js";function kd(n){return n.currentTarget instanceof HTMLElement&&n.relatedTarget instanceof HTMLElement?n.currentTarget.contains(n.relatedTarget):!1}function Nd({onBlur:n,onFocus:e}={}){const t=N.useRef(null),[r,o]=N.useState(!1),s=N.useRef(!1),i=u=>{o(u),s.current=u},a=u=>{s.current||(i(!0),e==null||e(u))},l=u=>{s.current&&!kd(u)&&(i(!1),n==null||n(u))};return N.useEffect(()=>{const u=t.current;if(u)return u.addEventListener("focusin",a),u.addEventListener("focusout",l),()=>{u==null||u.removeEventListener("focusin",a),u==null||u.removeEventListener("focusout",l)}},[a,l]),{ref:t,focused:r}}function Ad(n){const e=N.useRef(void 0);return N.useEffect(()=>{e.current=n},[n]),e.current}function Hl(n){return typeof n=="string"?{value:n,label:n}:"value"in n&&!("label"in n)?{value:n.value,label:n.value,disabled:n.disabled}:typeof n=="number"?{value:n.toString(),label:n.toString()}:"group"in n?{group:n.group,items:n.items.map(e=>Hl(e))}:n}function Fd(n){return n?n.map(e=>Hl(e)):[]}function Jl(n){return n.reduce((e,t)=>"group"in t?{...e,...Jl(t.items)}:(e[t.value]=t,e),{})}var Fe={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const Od={error:null},Id=Wl((n,{size:e,color:t})=>({chevron:{"--combobox-chevron-size":Xo(e,"combobox-chevron-size"),"--combobox-chevron-color":t?hd(t,n):void 0}})),Ds=Pe((n,e)=>{const t=Ie("ComboboxChevron",Od,n),{size:r,error:o,style:s,className:i,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...f}=t,h=Bl({name:"ComboboxChevron",classes:Fe,props:t,style:s,className:i,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:Id,rootSelector:"chevron"});return M.jsx(an,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},d],ref:e,children:M.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});Ds.classes=Fe;Ds.displayName="@mantine/core/ComboboxChevron";const[Ld,qe]=pd("Combobox component was not found in tree"),ql=N.forwardRef(({size:n,onMouseDown:e,onClick:t,onClear:r,...o},s)=>M.jsx(Kl.ClearButton,{ref:s,tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:i=>{i.preventDefault(),e==null||e(i)},onClick:i=>{r(),t==null||t(i)}}));ql.displayName="@mantine/core/ComboboxClearButton";const Pd={},Rs=Pe((n,e)=>{const{classNames:t,styles:r,className:o,style:s,hidden:i,...a}=Ie("ComboboxDropdown",Pd,n),l=qe();return M.jsx(lo.Dropdown,{...a,ref:e,role:"presentation","data-hidden":i||void 0,...l.getStyles("dropdown",{className:o,style:s,classNames:t,styles:r})})});Rs.classes=Fe;Rs.displayName="@mantine/core/ComboboxDropdown";const $d={refProp:"ref"},Vl=Pe((n,e)=>{const{children:t,refProp:r}=Ie("ComboboxDropdownTarget",$d,n);if(qe(),!$s(t))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return M.jsx(lo.Target,{ref:e,refProp:r,children:t})});Vl.displayName="@mantine/core/ComboboxDropdownTarget";const Md={},zs=Pe((n,e)=>{const{classNames:t,className:r,style:o,styles:s,vars:i,...a}=Ie("ComboboxEmpty",Md,n),l=qe();return M.jsx(an,{ref:e,...l.getStyles("empty",{className:r,classNames:t,styles:s,style:o}),...a})});zs.classes=Fe;zs.displayName="@mantine/core/ComboboxEmpty";function Bs({onKeyDown:n,withKeyboardNavigation:e,withAriaAttributes:t,withExpandedAttribute:r,targetType:o,autoComplete:s}){const i=qe(),[a,l]=N.useState(null),u=d=>{if(n==null||n(d),!i.readOnly&&e){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),i.store.dropdownOpened?l(i.store.selectNextOption()):(i.store.openDropdown("keyboard"),l(i.store.selectActiveOption()),i.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),i.store.dropdownOpened?l(i.store.selectPreviousOption()):(i.store.openDropdown("keyboard"),l(i.store.selectActiveOption()),i.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=i.store.getSelectedOptionIndex();i.store.dropdownOpened&&f!==-1?(d.preventDefault(),i.store.clickSelectedOption()):o==="button"&&(d.preventDefault(),i.store.openDropdown("keyboard"))}d.key==="Escape"&&i.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&o==="button"&&(d.preventDefault(),i.store.toggleDropdown("keyboard"))}};return{...t?{"aria-haspopup":"listbox","aria-expanded":r&&!!(i.store.listId&&i.store.dropdownOpened)||void 0,"aria-controls":i.store.dropdownOpened?i.store.listId:void 0,"aria-activedescendant":i.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":i.store.dropdownOpened||void 0,"data-mantine-stop-propagation":i.store.dropdownOpened||void 0}:{},onKeyDown:u}}const Dd={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Gl=Pe((n,e)=>{const{children:t,refProp:r,withKeyboardNavigation:o,withAriaAttributes:s,withExpandedAttribute:i,targetType:a,autoComplete:l,...u}=Ie("ComboboxEventsTarget",Dd,n);if(!$s(t))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=qe(),d=Bs({targetType:a,withAriaAttributes:s,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:t.props.onKeyDown,autoComplete:l});return N.cloneElement(t,{...d,...u,[r]:Ms(e,c.store.targetRef,md(t))})});Gl.displayName="@mantine/core/ComboboxEventsTarget";const Rd={},Ws=Pe((n,e)=>{const{classNames:t,className:r,style:o,styles:s,vars:i,...a}=Ie("ComboboxFooter",Rd,n),l=qe();return M.jsx(an,{ref:e,...l.getStyles("footer",{className:r,classNames:t,style:o,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});Ws.classes=Fe;Ws.displayName="@mantine/core/ComboboxFooter";const zd={},Ks=Pe((n,e)=>{const{classNames:t,className:r,style:o,styles:s,vars:i,children:a,label:l,...u}=Ie("ComboboxGroup",zd,n),c=qe();return M.jsxs(an,{ref:e,...c.getStyles("group",{className:r,classNames:t,style:o,styles:s}),...u,children:[l&&M.jsx("div",{...c.getStyles("groupLabel",{classNames:t,styles:s}),children:l}),a]})});Ks.classes=Fe;Ks.displayName="@mantine/core/ComboboxGroup";const Bd={},Us=Pe((n,e)=>{const{classNames:t,className:r,style:o,styles:s,vars:i,...a}=Ie("ComboboxHeader",Bd,n),l=qe();return M.jsx(an,{ref:e,...l.getStyles("header",{className:r,classNames:t,style:o,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});Us.classes=Fe;Us.displayName="@mantine/core/ComboboxHeader";function Yl({value:n,valuesDivider:e=",",...t}){return M.jsx("input",{type:"hidden",value:Array.isArray(n)?n.join(e):n||"",...t})}Yl.displayName="@mantine/core/ComboboxHiddenInput";const Wd={},js=Pe((n,e)=>{const t=Ie("ComboboxOption",Wd,n),{classNames:r,className:o,style:s,styles:i,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:g,mod:p,..._}=t,b=qe(),m=N.useId(),y=u||m;return M.jsx(an,{...b.getStyles("option",{className:o,classNames:r,styles:i,style:s}),..._,ref:e,id:y,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":g},p],role:"option",onClick:x=>{var S;h?x.preventDefault():((S=b.onOptionSubmit)==null||S.call(b,t.value,t),l==null||l(x))},onMouseDown:x=>{x.preventDefault(),d==null||d(x)},onMouseOver:x=>{b.resetSelectionOnOptionHover&&b.store.resetSelectedOption(),f==null||f(x)}})});js.classes=Fe;js.displayName="@mantine/core/ComboboxOption";const Kd={},Hs=Pe((n,e)=>{const t=Ie("ComboboxOptions",Kd,n),{classNames:r,className:o,style:s,styles:i,id:a,onMouseDown:l,labelledBy:u,...c}=t,d=qe(),f=Ul(a);return N.useEffect(()=>{d.store.setListId(f)},[f]),M.jsx(an,{ref:e,...d.getStyles("options",{className:o,style:s,classNames:r,styles:i}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});Hs.classes=Fe;Hs.displayName="@mantine/core/ComboboxOptions";const Ud={withAriaAttributes:!0,withKeyboardNavigation:!0},Js=Pe((n,e)=>{const t=Ie("ComboboxSearch",Ud,n),{classNames:r,styles:o,unstyled:s,vars:i,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=t,f=qe(),h=f.getStyles("search"),g=Bs({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return M.jsx(Kl,{ref:Ms(e,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},o],size:c||f.size,...g,...d,__staticSelector:"Combobox"})});Js.classes=Fe;Js.displayName="@mantine/core/ComboboxSearch";const jd={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Zl=Pe((n,e)=>{const{children:t,refProp:r,withKeyboardNavigation:o,withAriaAttributes:s,withExpandedAttribute:i,targetType:a,autoComplete:l,...u}=Ie("ComboboxTarget",jd,n);if(!$s(t))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=qe(),d=Bs({targetType:a,withAriaAttributes:s,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:t.props.onKeyDown,autoComplete:l}),f=N.cloneElement(t,{...d,...u});return M.jsx(lo.Target,{ref:Ms(e,c.store.targetRef),children:f})});Zl.displayName="@mantine/core/ComboboxTarget";function Hd(n,e,t){for(let r=n-1;r>=0;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(t){for(let r=e.length-1;r>-1;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return n}function Jd(n,e,t){for(let r=n+1;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(t){for(let r=0;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return n}function qd(n){for(let e=0;e<n.length;e+=1)if(!n[e].hasAttribute("data-combobox-disabled"))return e;return-1}function Xl({defaultOpened:n,opened:e,onOpenedChange:t,onDropdownClose:r,onDropdownOpen:o,loop:s=!0,scrollBehavior:i="instant"}={}){const[a,l]=Qo({value:e,defaultValue:n,finalValue:!1,onChange:t}),u=N.useRef(null),c=N.useRef(-1),d=N.useRef(null),f=N.useRef(null),h=N.useRef(-1),g=N.useRef(-1),p=N.useRef(-1),_=N.useCallback(($="unknown")=>{a||(l(!0),o==null||o($))},[l,o,a]),b=N.useCallback(($="unknown")=>{a&&(l(!1),r==null||r($))},[l,r,a]),m=N.useCallback(($="unknown")=>{a?b($):_($)},[b,_,a]),y=N.useCallback(()=>{const $=document.querySelector(`#${u.current} [data-combobox-selected]`);$==null||$.removeAttribute("data-combobox-selected"),$==null||$.removeAttribute("aria-selected")},[]),x=N.useCallback($=>{const j=document.getElementById(u.current),W=j==null?void 0:j.querySelectorAll("[data-combobox-option]");if(!W)return null;const H=$>=W.length?0:$<0?W.length-1:$;return c.current=H,W!=null&&W[H]&&!W[H].hasAttribute("data-combobox-disabled")?(y(),W[H].setAttribute("data-combobox-selected","true"),W[H].setAttribute("aria-selected","true"),W[H].scrollIntoView({block:"nearest",behavior:i}),W[H].id):null},[i,y]),S=N.useCallback(()=>{const $=document.querySelector(`#${u.current} [data-combobox-active]`);if($){const j=document.querySelectorAll(`#${u.current} [data-combobox-option]`),W=Array.from(j).findIndex(H=>H===$);return x(W)}return x(0)},[x]),v=N.useCallback(()=>x(Jd(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[x,s]),w=N.useCallback(()=>x(Hd(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[x,s]),T=N.useCallback(()=>x(qd(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[x]),C=N.useCallback(($="selected",j)=>{p.current=window.setTimeout(()=>{var ge;const W=document.querySelectorAll(`#${u.current} [data-combobox-option]`),H=Array.from(W).findIndex(Ve=>Ve.hasAttribute(`data-combobox-${$}`));c.current=H,j!=null&&j.scrollIntoView&&((ge=W[H])==null||ge.scrollIntoView({block:"nearest",behavior:i}))},0)},[]),F=N.useCallback(()=>{c.current=-1,y()},[y]),P=N.useCallback(()=>{const $=document.querySelectorAll(`#${u.current} [data-combobox-option]`),j=$==null?void 0:$[c.current];j==null||j.click()},[]),R=N.useCallback($=>{u.current=$},[]),U=N.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),B=N.useCallback(()=>{g.current=window.setTimeout(()=>f.current.focus(),0)},[]),K=N.useCallback(()=>c.current,[]);return N.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(g.current),window.clearTimeout(p.current)},[]),{dropdownOpened:a,openDropdown:_,closeDropdown:b,toggleDropdown:m,selectedOptionIndex:c.current,getSelectedOptionIndex:K,selectOption:x,selectFirstOption:T,selectActiveOption:S,selectNextOption:v,selectPreviousOption:w,resetSelectedOption:F,updateSelectedOptionIndex:C,listId:u.current,setListId:R,clickSelectedOption:P,searchRef:d,focusSearchInput:U,targetRef:f,focusTarget:B}}const Vd={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},Gd=Wl((n,{size:e,dropdownPadding:t})=>({options:{"--combobox-option-fz":Ui(e),"--combobox-option-padding":Xo(e,"combobox-option-padding")},dropdown:{"--combobox-padding":t===void 0?void 0:_d(t),"--combobox-option-fz":Ui(e),"--combobox-option-padding":Xo(e,"combobox-option-padding")}}));function Z(n){const e=Ie("Combobox",Vd,n),{classNames:t,styles:r,unstyled:o,children:s,store:i,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:g,...p}=e,_=Xl(),b=i||_,m=Bl({name:h||"Combobox",classes:Fe,props:e,classNames:t,styles:r,unstyled:o,vars:a,varsResolver:Gd}),y=()=>{u==null||u(),b.closeDropdown()};return M.jsx(Ld,{value:{getStyles:m,store:b,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:f,readOnly:g},children:M.jsx(lo,{opened:b.dropdownOpened,...p,onChange:x=>!x&&y(),withRoles:!1,unstyled:o,children:s})})}const Yd=n=>n;Z.extend=Yd;Z.classes=Fe;Z.displayName="@mantine/core/Combobox";Z.Target=Zl;Z.Dropdown=Rs;Z.Options=Hs;Z.Option=js;Z.Search=Js;Z.Empty=zs;Z.Chevron=Ds;Z.Footer=Ws;Z.Header=Us;Z.EventsTarget=Gl;Z.DropdownTarget=Vl;Z.Group=Ks;Z.ClearButton=ql;Z.HiddenInput=Yl;function Zn(n){return"group"in n}function Ql({options:n,search:e,limit:t}){const r=e.trim().toLowerCase(),o=[];for(let s=0;s<n.length;s+=1){const i=n[s];if(o.length===t)return o;Zn(i)&&o.push({group:i.group,items:Ql({options:i.items,search:e,limit:t-o.length})}),Zn(i)||i.label.toLowerCase().includes(r)&&o.push(i)}return o}function Zd(n){if(n.length===0)return!0;for(const e of n)if(!("group"in e)||e.items.length>0)return!1;return!0}function eu(n,e=new Set){if(Array.isArray(n))for(const t of n)if(Zn(t))eu(t.items,e);else{if(typeof t.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof t.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof t.value}`);if(e.has(t.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${t.value}" was provided more than once`);e.add(t.value)}}function Xd(n,e){return Array.isArray(n)?n.includes(e):n===e}function tu({data:n,withCheckIcon:e,value:t,checkIconPosition:r,unstyled:o,renderOption:s}){if(!Zn(n)){const a=Xd(t,n.value),l=e&&a&&M.jsx(bd,{className:Fe.optionsDropdownCheckIcon}),u=M.jsxs(M.Fragment,{children:[r==="left"&&l,M.jsx("span",{children:n.label}),r==="right"&&l]});return M.jsx(Z.Option,{value:n.value,disabled:n.disabled,className:xd({[Fe.optionsDropdownOption]:!o}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:n,checked:a}):u})}const i=n.items.map(a=>M.jsx(tu,{data:a,value:t,unstyled:o,withCheckIcon:e,checkIconPosition:r,renderOption:s},a.value));return M.jsx(Z.Group,{label:n.group,children:i})}function Qd({data:n,hidden:e,hiddenWhenEmpty:t,filter:r,search:o,limit:s,maxDropdownHeight:i,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:g,renderOption:p,scrollAreaProps:_,"aria-label":b}){eu(n);const y=typeof o=="string"?(r||Ql)({options:n,search:l?o:"",limit:s??1/0}):n,x=Zd(y),S=y.map(v=>M.jsx(tu,{data:v,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h,renderOption:p},Zn(v)?v.group:v.value));return M.jsx(Z.Dropdown,{hidden:e||t&&x,"data-composed":!0,children:M.jsxs(Z.Options,{labelledBy:g,"aria-label":b,children:[a?M.jsx(yd.Autosize,{mah:i??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",..._,children:S}):S,x&&f&&M.jsx(Z.Empty,{children:f})]})})}const ef={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},uo=Pe((n,e)=>{const t=Ie("Select",ef,n),{classNames:r,styles:o,unstyled:s,vars:i,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:g,data:p,value:_,defaultValue:b,selectFirstOptionOnChange:m,onOptionSubmit:y,comboboxProps:x,readOnly:S,disabled:v,filter:w,limit:T,withScrollArea:C,maxDropdownHeight:F,size:P,searchable:R,rightSection:U,checkIconPosition:B,withCheckIcon:K,nothingFoundMessage:$,name:j,form:W,searchValue:H,defaultSearchValue:ge,onSearchChange:Ve,allowDeselect:he,error:Ct,rightSectionPointerEvents:Ce,id:De,clearable:we,clearButtonProps:tt,hiddenInputProps:Ge,renderOption:ft,onClear:nt,autoComplete:cn,scrollAreaProps:No,__defaultRightSection:xr,__clearSection:lm,__clearable:um,chevronColor:ld,...vr}=t,Ao=N.useMemo(()=>Fd(p),[p]),dn=N.useMemo(()=>Jl(Ao),[Ao]),Di=Ul(De),[Re,Ri,zi]=Qo({value:_,defaultValue:b,finalValue:null,onChange:g}),Ye=typeof Re=="string"?dn[Re]:void 0,fn=Ad(Ye),[Sr,ud,cd]=Qo({value:H,defaultValue:ge,finalValue:Ye?Ye.label:"",onChange:Ve}),ze=Xl({opened:a,defaultOpened:l,onDropdownOpen:()=>{c==null||c(),ze.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),ze.resetSelectedOption()}}),Rt=pe=>{ud(pe),ze.resetSelectedOption()},{resolvedClassNames:Bi,resolvedStyles:Wi}=vd({props:t,styles:o,classNames:r});N.useEffect(()=>{m&&ze.selectFirstOption()},[m,Sr]),N.useEffect(()=>{_===null&&Rt(""),typeof _=="string"&&Ye&&((fn==null?void 0:fn.value)!==Ye.value||(fn==null?void 0:fn.label)!==Ye.label)&&Rt(Ye.label)},[_,Ye]),N.useEffect(()=>{var pe;!zi&&!cd&&Rt(typeof Re=="string"&&((pe=dn[Re])==null?void 0:pe.label)||"")},[p,Re]);const dd=M.jsx(Z.ClearButton,{...tt,onClear:()=>{Ri(null,null),Rt(""),nt==null||nt()}}),Ki=we&&!!Re&&!v&&!S;return M.jsxs(M.Fragment,{children:[M.jsxs(Z,{store:ze,__staticSelector:"Select",classNames:Bi,styles:Wi,unstyled:s,readOnly:S,onOptionSubmit:pe=>{y==null||y(pe);const gt=he&&dn[pe].value===Re?null:dn[pe],Fo=gt?gt.value:null;Fo!==Re&&Ri(Fo,gt),!zi&&Rt(typeof Fo=="string"&&(gt==null?void 0:gt.label)||""),ze.closeDropdown()},size:P,...x,children:[M.jsx(Z.Target,{targetType:R?"input":"button",autoComplete:cn,children:M.jsx(jl,{id:Di,ref:e,__defaultRightSection:M.jsx(Z.Chevron,{size:P,error:Ct,unstyled:s,color:ld}),__clearSection:dd,__clearable:Ki,rightSection:U,rightSectionPointerEvents:Ce||(Ki?"all":"none"),...vr,size:P,__staticSelector:"Select",disabled:v,readOnly:S||!R,value:Sr,onChange:pe=>{Rt(pe.currentTarget.value),ze.openDropdown(),m&&ze.selectFirstOption()},onFocus:pe=>{R&&ze.openDropdown(),d==null||d(pe)},onBlur:pe=>{var gt;R&&ze.closeDropdown(),Rt(Re!=null&&((gt=dn[Re])==null?void 0:gt.label)||""),f==null||f(pe)},onClick:pe=>{R?ze.openDropdown():ze.toggleDropdown(),h==null||h(pe)},classNames:Bi,styles:Wi,unstyled:s,pointer:!R,error:Ct})}),M.jsx(Qd,{data:Ao,hidden:S||v,filter:w,search:Sr,limit:T,hiddenWhenEmpty:!$,withScrollArea:C,maxDropdownHeight:F,filterOptions:R&&(Ye==null?void 0:Ye.label)!==Sr,value:Re,checkIconPosition:B,withCheckIcon:K,nothingFoundMessage:$,unstyled:s,labelId:vr.label?`${Di}-label`:void 0,"aria-label":vr.label?void 0:vr["aria-label"],renderOption:ft,scrollAreaProps:No})]}),M.jsx(Z.HiddenInput,{value:Re,name:j,form:W,disabled:v,...Ge})]})});uo.classes={...jl.classes,...Z.classes};uo.displayName="@mantine/core/Select";/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tf=Je("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nu=Je("outline","code","IconCode",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nf=Je("outline","h-1","IconH1",[["path",{d:"M19 18v-8l-2 2",key:"svg-0"}],["path",{d:"M4 6v12",key:"svg-1"}],["path",{d:"M12 6v12",key:"svg-2"}],["path",{d:"M11 18h2",key:"svg-3"}],["path",{d:"M3 18h2",key:"svg-4"}],["path",{d:"M4 12h8",key:"svg-5"}],["path",{d:"M3 6h2",key:"svg-6"}],["path",{d:"M11 6h2",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rf=Je("outline","h-2","IconH2",[["path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0",key:"svg-0"}],["path",{d:"M4 6v12",key:"svg-1"}],["path",{d:"M12 6v12",key:"svg-2"}],["path",{d:"M11 18h2",key:"svg-3"}],["path",{d:"M3 18h2",key:"svg-4"}],["path",{d:"M4 12h8",key:"svg-5"}],["path",{d:"M3 6h2",key:"svg-6"}],["path",{d:"M11 6h2",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var of=Je("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sf=Je("outline","link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var af=Je("outline","list-numbers","IconListNumbers",[["path",{d:"M11 6h9",key:"svg-0"}],["path",{d:"M11 12h9",key:"svg-1"}],["path",{d:"M12 18h8",key:"svg-2"}],["path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4",key:"svg-3"}],["path",{d:"M6 10v-6l-2 2",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lf=Je("outline","list","IconList",[["path",{d:"M9 6l11 0",key:"svg-0"}],["path",{d:"M9 12l11 0",key:"svg-1"}],["path",{d:"M9 18l11 0",key:"svg-2"}],["path",{d:"M5 6l0 .01",key:"svg-3"}],["path",{d:"M5 12l0 .01",key:"svg-4"}],["path",{d:"M5 18l0 .01",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uf=Je("outline","quote","IconQuote",[["path",{d:"M10 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5",key:"svg-0"}],["path",{d:"M19 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cf=Je("outline","strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var df=Je("outline","text-scan-2","IconTextScan2",[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}],["path",{d:"M8 12h8",key:"svg-4"}],["path",{d:"M8 9h6",key:"svg-5"}],["path",{d:"M8 15h4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ff=Je("outline","underline","IconUnderline",[["path",{d:"M7 5v5a5 5 0 0 0 10 0v-5",key:"svg-0"}],["path",{d:"M5 19h14",key:"svg-1"}]]);const ru=N.createContext(null);function gf(n,e){return{getTheme:function(){return e??null}}}function $e(){const n=N.useContext(ru);return n==null&&function(e,...t){const r=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams;o.append("code",e);for(const s of t)o.append("v",s);throw r.search=o.toString(),Error(`Minified Lexical error #${e}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),n}function A(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const et=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,hf=et&&"documentMode"in document?document.documentMode:null,st=et&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),At=et&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Br=!(!et||!("InputEvent"in window)||hf)&&"getTargetRanges"in new window.InputEvent("input"),Xn=et&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Tn=et&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,pf=et&&/Android/.test(navigator.userAgent),ou=et&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Ji=et&&pf&&ou,Wr=et&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ou;function Kr(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}const mf=1,_f=3,yf=9,bf=11,Yt=0,su=1,En=2,xf=0,vf=1,Sf=2,Ur=4,jr=8,qs=128,Cf=1792|(112|(3|Ur|jr)|qs),Vs=1,Gs=2,Ys=3,Zs=4,Xs=5,Qs=6,co=Xn||Tn||Wr?" ":"​",xt=`

`,wf=At?" ":co,iu="֑-߿יִ-﷽ﹰ-ﻼ",au="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Tf=new RegExp("^[^"+au+"]*["+iu+"]"),Ef=new RegExp("^[^"+iu+"]*["+au+"]"),Zt={bold:1,capitalize:1024,code:16,highlight:qs,italic:2,lowercase:256,strikethrough:Ur,subscript:32,superscript:64,underline:jr,uppercase:512},kf={directionless:1,unmergeable:2},qi={center:Gs,end:Qs,justify:Zs,left:Vs,right:Ys,start:Xs},Nf={[Gs]:"center",[Qs]:"end",[Zs]:"justify",[Vs]:"left",[Ys]:"right",[Xs]:"start"},Af={normal:0,segmented:2,token:1},Ff={[xf]:"normal",[Sf]:"segmented",[vf]:"token"},Of="$";function lu(n,e,t,r,o,s){let i=n.getFirstChild();for(;i!==null;){const a=i.__key;i.__parent===e&&(E(i)&&lu(i,a,t,r,o,s),t.has(a)||s.delete(a),o.push(a)),i=i.getNextSibling()}}const If=100;let ts=!1,ei=0;function Lf(n){ei=n.timeStamp}function Io(n,e,t){const r=n.nodeName==="BR",o=e.__lexicalLineBreak;return o&&(n===o||r&&n.previousSibling===o)||r&&So(n,t)!==void 0}function Pf(n,e,t){const r=Xe(He(t));let o=null,s=null;r!==null&&r.anchorNode===n&&(o=r.anchorOffset,s=r.focusOffset);const i=n.nodeValue;i!==null&&_i(e,i,o,s,!1)}function $f(n,e,t){if(k(n)){const r=n.anchor.getNode();if(r.is(t)&&n.format!==r.getFormat())return!1}return St(e)&&t.isAttached()}function Mf(n,e,t,r){for(let o=n;o&&!Ag(o);o=pr(o)){const s=So(o,e);if(s!==void 0){const i=te(s,t);if(i)return q(i)||!ee(o)?void 0:[o,i]}else if(o===r)return[r,nc(t)]}}function uu(n,e,t){ts=!0;const r=performance.now()-ei>If;try{Le(n,()=>{const o=O()||function(f){return f.getEditorState().read(()=>{const h=O();return h!==null?h.clone():null})}(n),s=new Map,i=n.getRootElement(),a=n._editorState,l=n._blockCursorElement;let u=!1,c="";for(let f=0;f<e.length;f++){const h=e[f],g=h.type,p=h.target,_=Mf(p,n,a,i);if(!_)continue;const[b,m]=_;if(g==="characterData")r&&I(m)&&St(p)&&$f(o,p,m)&&Pf(p,m,n);else if(g==="childList"){u=!0;const y=h.addedNodes;for(let v=0;v<y.length;v++){const w=y[v],T=ec(w),C=w.parentNode;if(C!=null&&w!==l&&T===null&&!Io(w,C,n)){if(At){const F=(ee(w)?w.innerText:null)||w.nodeValue;F&&(c+=F)}C.removeChild(w)}}const x=h.removedNodes,S=x.length;if(S>0){let v=0;for(let w=0;w<S;w++){const T=x[w];(Io(T,p,n)||l===T)&&(p.appendChild(T),v++)}S!==v&&s.set(b,m)}}}if(s.size>0)for(const[f,h]of s)h.reconcileObservedMutation(f,n);const d=t.takeRecords();if(d.length>0){for(let f=0;f<d.length;f++){const h=d[f],g=h.addedNodes,p=h.target;for(let _=0;_<g.length;_++){const b=g[_],m=b.parentNode;m==null||b.nodeName!=="BR"||Io(b,p,n)||m.removeChild(b)}}t.takeRecords()}o!==null&&(u&&fe(o),At&&ic(n)&&o.insertRawText(c))})}finally{ts=!1}}function cu(n){const e=n._observer;e!==null&&uu(n,e.takeRecords(),e)}function du(n){(function(e){ei===0&&He(e).addEventListener("textInput",Lf,!0)})(n),n._observer=new MutationObserver((e,t)=>{uu(n,e,t)})}let Df=class fu{constructor(e,t=new Map,r=void 0,o=new Map,s=void 0){this.node=e,this.sharedConfigMap=t,this.unknownState=r,this.knownState=o;const i=s!==void 0?s:function(a,l,u){let c=u.size;if(l)for(const d in l){const f=a.get(d);f&&u.has(f)||c++}return c}(t,r,o);this.size=i}getValue(e){const t=this.knownState.get(e);if(t!==void 0)return t;this.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const o=this.unknownState[e.key];o!==void 0&&(r=e.parse(o)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState};for(const[t,r]of this.knownState)t.isEqual(r,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(r);return Cr(e)?{[Of]:e}:{}}getWritable(e){if(this.node===e)return this;const t=new Map(this.knownState),r=Cr(o=this.unknownState)&&{...o};var o;if(r)for(const s of t.keys())delete r[s.key];return new fu(e,this.sharedConfigMap,Cr(r),t,this.size)}updateFromKnown(e,t){const r=e.key;this.sharedConfigMap.set(r,e);const{knownState:o,unknownState:s}=this;o.has(e)||s&&r in s||this.size++,o.set(e,t)}updateFromUnknown(e,t){const r=this.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const r of t.keys())t.set(r,r.defaultValue);if(this.size=t.size,this.unknownState={},e)for(const[r,o]of Object.entries(e))this.updateFromUnknown(r,o);this.unknownState=Cr(this.unknownState)}};function Cr(n){if(n)for(const e in n)return n}function Rf(n){const e=n.getWritable(),t=e.__state?e.__state.getWritable(e):new Df(e);return e.__state=t,t}function Vi(n,e){const t=n.__mode,r=n.__format,o=n.__style,s=e.__mode,i=e.__format,a=e.__style,l=n.__state,u=e.__state;return(t===null||t===s)&&(r===null||r===i)&&(o===null||o===a)&&(n.__state===null||l===u||function(c,d){if(c===d)return!0;if(c&&d&&c.size!==d.size)return!1;const f=new Set,h=(p,_)=>{for(const[b,m]of p.knownState){if(f.has(b.key))continue;f.add(b.key);const y=_?_.getValue(b):b.defaultValue;if(y!==m&&!b.isEqual(y,m))return!0}return!1},g=(p,_)=>{const{unknownState:b}=p,m=_?_.unknownState:void 0;if(b){for(const[y,x]of Object.entries(b))if(!f.has(y)&&(f.add(y),x!==(m?m[y]:void 0)))return!0}return!1};return!(c&&h(c,d)||d&&h(d,c)||c&&g(c,d)||d&&g(d,c))}(l,u))}function Gi(n,e){const t=n.mergeWithSibling(e),r=ne()._normalizedNodes;return r.add(n.__key),r.add(e.__key),t}function Yi(n){let e,t,r=n;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&I(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(Vi(e,r)){r=Gi(e,r);break}break}e.remove()}for(;(t=r.getNextSibling())!==null&&I(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(Vi(r,t)){r=Gi(r,t);break}break}t.remove()}}else r.remove()}function kn(n){return Zi(n.anchor),Zi(n.focus),n}function Zi(n){for(;n.type==="element";){const e=n.getNode(),t=n.offset;let r,o;if(t===e.getChildrenSize()?(r=e.getChildAtIndex(t-1),o=!0):(r=e.getChildAtIndex(t),o=!1),I(r)){n.set(r.__key,o?r.getTextContentSize():0,"text",!0);break}if(!E(r))break;n.set(r.__key,o?r.getChildrenSize():0,"element",!0)}}let It,ke,Qn,fo,ns,rs,Xt,Ze,os,er,ie="",Ee="",rt=null,ot="",_t="",gu=!1,tr=!1,Lr=null;function Hr(n,e){const t=Xt.get(n);if(e!==null){const r=as(n);r.parentNode===e&&e.removeChild(r)}if(Ze.has(n)||ke._keyToDOMMap.delete(n),E(t)){const r=qr(t,Xt);ss(r,0,r.length-1,null)}t!==void 0&&yi(er,Qn,fo,t,"destroyed")}function ss(n,e,t,r){let o=e;for(;o<=t;++o){const s=n[o];s!==void 0&&Hr(s,r)}}function zt(n,e){n.setProperty("text-align",e)}const zf="40px";function hu(n,e){const t=It.theme.indent;if(typeof t=="string"){const o=n.classList.contains(t);e>0&&!o?n.classList.add(t):e<1&&o&&n.classList.remove(t)}const r=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||zf;n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function pu(n,e){const t=n.style;e===0?zt(t,""):e===Vs?zt(t,"left"):e===Gs?zt(t,"center"):e===Ys?zt(t,"right"):e===Zs?zt(t,"justify"):e===Xs?zt(t,"start"):e===Qs&&zt(t,"end")}function Jr(n,e){const t=Ze.get(n);t===void 0&&A(60);const r=t.createDOM(It,ke);if(function(o,s,i){const a=i._keyToDOMMap;(function(l,u,c){const d=`__lexicalKey_${u._key}`;l[d]=c})(s,i,o),a.set(o,s)}(n,r,ke),I(t)?r.setAttribute("data-lexical-text","true"):q(t)&&r.setAttribute("data-lexical-decorator","true"),E(t)){const o=t.__indent,s=t.__size;if(o!==0&&hu(r,o),s!==0){const a=s-1;(function(l,u,c,d){const f=Ee;Ee="",is(l,c,0,u,c.getDOMSlot(d)),_u(c,d),Ee=f})(qr(t,Ze),a,t,r)}const i=t.__format;i!==0&&pu(r,i),t.isInline()||mu(null,t,r),Co(t)&&(ie+=xt,_t+=xt)}else{const o=t.getTextContent();if(q(t)){const s=t.decorate(ke,It);s!==null&&yu(n,s),r.contentEditable="false"}else I(t)&&(t.isDirectionless()||(Ee+=o));ie+=o,_t+=o}return e!==null&&e.insertChild(r),yi(er,Qn,fo,t,"created"),r}function is(n,e,t,r,o){const s=ie;ie="";let i=t;for(;i<=r;++i){Jr(n[i],o);const a=Ze.get(n[i]);a!==null&&I(a)&&(rt===null&&(rt=a.getFormat()),ot===""&&(ot=a.getStyle()))}Co(e)&&(ie+=xt),o.element.__lexicalTextContent=ie,ie=s+ie}function Xi(n,e){if(n){const t=n.__last;if(t){const r=e.get(t);if(r)return X(r)?"line-break":q(r)&&r.isInline()?"decorator":null}return"empty"}return null}function mu(n,e,t){const r=Xi(n,Xt),o=Xi(e,Ze);r!==o&&e.getDOMSlot(t).setManagedLineBreak(o)}function _u(n,e){const t=e.__lexicalDirTextContent||"",r=e.__lexicalDir||"";if(t!==Ee||r!==Lr){const o=Ee==="",s=o?Lr:function(i){return Tf.test(i)?"rtl":Ef.test(i)?"ltr":null}(Ee);if(s!==r){const i=e.classList,a=It.theme;let l=r!==null?a[r]:void 0,u=s!==null?a[s]:void 0;if(l!==void 0){if(typeof l=="string"){const c=Kr(l);l=a[r]=c}i.remove(...l)}if(s===null||o&&s==="ltr")e.removeAttribute("dir");else{if(u!==void 0){if(typeof u=="string"){const c=Kr(u);u=a[s]=c}u!==void 0&&i.add(...u)}e.dir=s}tr||(n.getWritable().__dir=s)}Lr=s,e.__lexicalDirTextContent=Ee,e.__lexicalDir=s}}function Bf(n,e,t){const r=Ee;var o;Ee="",rt=null,ot="",function(s,i,a){const l=ie,u=s.__size,c=i.__size;ie="";const d=a.element;if(u===1&&c===1){const f=s.__first,h=i.__first;if(f===h)Kn(f,d);else{const p=as(f),_=Jr(h,null);try{d.replaceChild(_,p)}catch(b){if(typeof b=="object"&&b!=null){const m=`${b.toString()} Parent: ${d.tagName}, new child: {tag: ${_.tagName} key: ${h}}, old child: {tag: ${p.tagName}, key: ${f}}.`;throw new Error(m)}throw b}Hr(f,null)}const g=Ze.get(h);I(g)&&(rt===null&&(rt=g.getFormat()),ot===""&&(ot=g.getStyle()))}else{const f=qr(s,Xt),h=qr(i,Ze);if(f.length!==u&&A(227),h.length!==c&&A(228),u===0)c!==0&&is(h,i,0,c-1,a);else if(c===0){if(u!==0){const g=a.after==null&&a.before==null&&a.element.__lexicalLineBreak==null;ss(f,0,u-1,g?null:d),g&&(d.textContent="")}}else(function(g,p,_,b,m,y){const x=b-1,S=m-1;let v,w,T=y.getFirstChild(),C=0,F=0;for(;C<=x&&F<=S;){const U=p[C],B=_[F];if(U===B)T=Lo(Kn(B,y.element)),C++,F++;else{v===void 0&&(v=new Set(p)),w===void 0&&(w=new Set(_));const $=w.has(U),j=v.has(B);if($)if(j){const W=Fn(ke,B);W===T?T=Lo(Kn(B,y.element)):(y.withBefore(T).insertChild(W),Kn(B,y.element)),C++,F++}else Jr(B,y.withBefore(T)),F++;else T=Lo(as(U)),Hr(U,y.element),C++}const K=Ze.get(B);K!==null&&I(K)&&(rt===null&&(rt=K.getFormat()),ot===""&&(ot=K.getStyle()))}const P=C>x,R=F>S;if(P&&!R){const U=_[S+1],B=U===void 0?null:ke.getElementByKey(U);is(_,g,F,S,y.withBefore(B))}else R&&!P&&ss(p,C,x,y.element)})(i,f,h,u,c,a)}Co(i)&&(ie+=xt),d.__lexicalTextContent=ie,ie=l+ie}(n,e,e.getDOMSlot(t)),_u(e,t),o=e,rt==null||rt===o.__textFormat||tr||o.setTextFormat(rt),function(s){ot===""||ot===s.__textStyle||tr||s.setTextStyle(ot)}(e),Ee=r}function qr(n,e){const t=[];let r=n.__first;for(;r!==null;){const o=e.get(r);o===void 0&&A(101),t.push(r),r=o.__next}return t}function Kn(n,e){const t=Xt.get(n);let r=Ze.get(n);t!==void 0&&r!==void 0||A(61);const o=gu||rs.has(n)||ns.has(n),s=Fn(ke,n);if(t===r&&!o){if(E(t)){const i=s.__lexicalTextContent;i!==void 0&&(ie+=i,_t+=i);const a=s.__lexicalDirTextContent;a!==void 0&&(Ee+=a)}else{const i=t.getTextContent();I(t)&&!t.isDirectionless()&&(Ee+=i),_t+=i,ie+=i}return s}if(t!==r&&o&&yi(er,Qn,fo,r,"updated"),r.updateDOM(t,s,It)){const i=Jr(n,null);return e===null&&A(62),e.replaceChild(i,s),Hr(n,null),i}if(E(t)&&E(r)){const i=r.__indent;i!==t.__indent&&hu(s,i);const a=r.__format;a!==t.__format&&pu(s,a),o&&(Bf(t,r,s),ve(r)||r.isInline()||mu(t,r,s)),Co(r)&&(ie+=xt,_t+=xt)}else{const i=r.getTextContent();if(q(r)){const a=r.decorate(ke,It);a!==null&&yu(n,a)}else I(r)&&!r.isDirectionless()&&(Ee+=i);ie+=i,_t+=i}if(!tr&&ve(r)&&r.__cachedText!==_t){const i=r.getWritable();i.__cachedText=_t,r=i}return s}function yu(n,e){let t=ke._pendingDecorators;const r=ke._decorators;if(t===null){if(r[n]===e)return;t=tc(ke)}t[n]=e}function Lo(n){let e=n.nextSibling;return e!==null&&e===ke._blockCursorElement&&(e=e.nextSibling),e}function Wf(n,e,t,r,o,s){ie="",_t="",Ee="",gu=r===En,Lr=null,ke=t,It=t._config,Qn=t._nodes,fo=ke._listeners.mutation,ns=o,rs=s,Xt=n._nodeMap,Ze=e._nodeMap,tr=e._readOnly,os=new Map(t._keyToDOMMap);const i=new Map;return er=i,Kn("root",null),ke=void 0,Qn=void 0,ns=void 0,rs=void 0,Xt=void 0,Ze=void 0,It=void 0,os=void 0,er=void 0,i}function as(n){const e=os.get(n);return e===void 0&&A(75,n),e}function z(n){return{type:n}}const go=z("SELECTION_CHANGE_COMMAND"),Kf=z("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),ti=z("CLICK_COMMAND"),jt=z("DELETE_CHARACTER_COMMAND"),bn=z("INSERT_LINE_BREAK_COMMAND"),nr=z("INSERT_PARAGRAPH_COMMAND"),xn=z("CONTROLLED_TEXT_INSERTION_COMMAND"),ho=z("PASTE_COMMAND"),ls=z("REMOVE_TEXT_COMMAND"),rr=z("DELETE_WORD_COMMAND"),or=z("DELETE_LINE_COMMAND"),bt=z("FORMAT_TEXT_COMMAND"),bu=z("UNDO_COMMAND"),xu=z("REDO_COMMAND"),Uf=z("KEYDOWN_COMMAND"),vu=z("KEY_ARROW_RIGHT_COMMAND"),us=z("MOVE_TO_END"),Su=z("KEY_ARROW_LEFT_COMMAND"),Vr=z("MOVE_TO_START"),Nn=z("KEY_ARROW_UP_COMMAND"),Gr=z("KEY_ARROW_DOWN_COMMAND"),Yr=z("KEY_ENTER_COMMAND"),Cu=z("KEY_SPACE_COMMAND"),wu=z("KEY_BACKSPACE_COMMAND"),Tu=z("KEY_ESCAPE_COMMAND"),Eu=z("KEY_DELETE_COMMAND"),ni=z("KEY_TAB_COMMAND"),cs=z("INSERT_TAB_COMMAND"),Ht=z("INDENT_CONTENT_COMMAND"),_n=z("OUTDENT_CONTENT_COMMAND"),ku=z("DROP_COMMAND"),jf=z("FORMAT_ELEMENT_COMMAND"),Nu=z("DRAGSTART_COMMAND"),Au=z("DRAGOVER_COMMAND"),Hf=z("DRAGEND_COMMAND"),po=z("COPY_COMMAND"),ri=z("CUT_COMMAND"),ds=z("SELECT_ALL_COMMAND"),Jf=z("FOCUS_COMMAND"),qf=z("BLUR_COMMAND"),Vf=z("KEY_MODIFIER_COMMAND"),ht=Object.freeze({}),fs=30,gs=[["keydown",function(n,e){if(Jn=n.timeStamp,Fu=n.key,!e.isComposing()&&!L(e,Uf,n)&&n.key!=null){if(Po&&Ea(n))return Le(e,()=>{wr(e,$o)}),Po=!1,void($o="");if(function(t){return Y(t,"ArrowRight",{shiftKey:"any"})}(n))L(e,vu,n);else if(function(t){return Y(t,"ArrowRight",mt)}(n))L(e,us,n);else if(function(t){return Y(t,"ArrowLeft",{shiftKey:"any"})}(n))L(e,Su,n);else if(function(t){return Y(t,"ArrowLeft",mt)}(n))L(e,Vr,n);else if(function(t){return Y(t,"ArrowUp",{altKey:"any",shiftKey:"any"})}(n))L(e,Nn,n);else if(function(t){return Y(t,"ArrowDown",{altKey:"any",shiftKey:"any"})}(n))L(e,Gr,n);else if(function(t){return Y(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(n))qn=!0,L(e,Yr,n);else if(function(t){return t.key===" "}(n))L(e,Cu,n);else if(function(t){return st&&Y(t,"o",{ctrlKey:!0})}(n))n.preventDefault(),qn=!0,L(e,bn,!0);else if(function(t){return Y(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(n))qn=!1,L(e,Yr,n);else if(function(t){return Y(t,"Backspace",{shiftKey:"any"})||st&&Y(t,"h",{ctrlKey:!0})}(n))Ea(n)?L(e,wu,n):(n.preventDefault(),L(e,jt,!0));else if(function(t){return t.key==="Escape"}(n))L(e,Tu,n);else if(function(t){return Y(t,"Delete",{})||st&&Y(t,"d",{ctrlKey:!0})}(n))(function(t){return t.key==="Delete"})(n)?L(e,Eu,n):(n.preventDefault(),L(e,jt,!1));else if(function(t){return Y(t,"Backspace",Ta)}(n))n.preventDefault(),L(e,rr,!0);else if(function(t){return Y(t,"Delete",Ta)}(n))n.preventDefault(),L(e,rr,!1);else if(function(t){return st&&Y(t,"Backspace",{metaKey:!0})}(n))n.preventDefault(),L(e,or,!0);else if(function(t){return st&&(Y(t,"Delete",{metaKey:!0})||Y(t,"k",{ctrlKey:!0}))}(n))n.preventDefault(),L(e,or,!1);else if(function(t){return Y(t,"b",mt)}(n))n.preventDefault(),L(e,bt,"bold");else if(function(t){return Y(t,"u",mt)}(n))n.preventDefault(),L(e,bt,"underline");else if(function(t){return Y(t,"i",mt)}(n))n.preventDefault(),L(e,bt,"italic");else if(function(t){return Y(t,"Tab",{shiftKey:"any"})}(n))L(e,ni,n);else if(function(t){return Y(t,"z",mt)}(n))n.preventDefault(),L(e,bu,void 0);else if(function(t){return st?Y(t,"z",{metaKey:!0,shiftKey:!0}):Y(t,"y",{ctrlKey:!0})||Y(t,"z",{ctrlKey:!0,shiftKey:!0})}(n))n.preventDefault(),L(e,xu,void 0);else{const t=e._editorState._selection;t===null||k(t)?!At&&ka(n)&&(n.preventDefault(),L(e,ds,n)):function(r){return Y(r,"c",mt)}(n)?(n.preventDefault(),L(e,po,n)):function(r){return Y(r,"x",mt)}(n)?(n.preventDefault(),L(e,ri,n)):ka(n)&&(n.preventDefault(),L(e,ds,n))}(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey})(n)&&L(e,Vf,n)}}],["pointerdown",function(n,e){const t=n.target,r=n.pointerType;Ln(t)&&r!=="touch"&&n.button===0&&Le(e,()=>{Sa(t)||(ps=!0)})}],["compositionstart",function(n,e){Le(e,()=>{const t=O();if(k(t)&&!e.isComposing()){const r=t.anchor,o=t.anchor.getNode();me(r.key),(n.timeStamp<Jn+fs||r.type==="element"||!t.isCollapsed()||o.getFormat()!==t.format||I(o)&&o.getStyle()!==t.style)&&L(e,xn,wf)}})}],["compositionend",function(n,e){At?zn=!0:Tn||!Xn&&!Wr?Le(e,()=>{wr(e,n.data)}):(Po=!0,$o=n.data)}],["input",function(n,e){n.stopPropagation(),Le(e,()=>{if(ee(n.target)&&Sa(n.target))return;const t=O(),r=n.data,o=$u(n);if(r!=null&&k(t)&&Lu(t,o,r,n.timeStamp,!1)){zn&&(wr(e,r),zn=!1);const s=t.anchor.getNode(),i=Xe(He(e));if(i===null)return;const a=t.isBackward(),l=a?t.anchor.offset:t.focus.offset,u=a?t.focus.offset:t.anchor.offset;Br&&!t.isCollapsed()&&I(s)&&i.anchorNode!==null&&s.getTextContent().slice(0,l)+r+s.getTextContent().slice(l+u)===sc(i.anchorNode)||L(e,xn,r);const c=r.length;At&&c>1&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=c),Xn||Tn||Wr||!e.isComposing()||(Jn=0,me(null))}else mi(!1,e,r!==null?r:void 0),zn&&(wr(e,r||void 0),zn=!1);(function(){xe();const s=ne();cu(s)})()},{event:n}),pn=null}],["click",function(n,e){Le(e,()=>{const t=O(),r=Xe(He(e)),o=un();if(r){if(k(t)){const s=t.anchor,i=s.getNode();if(s.type==="element"&&s.offset===0&&t.isCollapsed()&&!ve(i)&&re().getChildrenSize()===1&&i.getTopLevelElementOrThrow().isEmpty()&&o!==null&&t.is(o))r.removeAllRanges(),t.dirty=!0;else if(n.detail===3&&!t.isCollapsed()&&i!==t.focus.getNode()){const a=function(l,u){let c=l;for(;c!==re()&&c!=null;){if(u(c))return c;c=c.getParent()}return null}(i,l=>E(l)&&!l.isInline());E(a)&&a.select(0)}}else if(n.pointerType==="touch"){const s=r.anchorNode;(ee(s)||St(s))&&fe(ai(o,r,e,n))}}L(e,ti,n)})}],["cut",ht],["copy",ht],["dragstart",ht],["dragover",ht],["dragend",ht],["paste",ht],["focus",ht],["blur",ht],["drop",ht]];Br&&gs.push(["beforeinput",(n,e)=>function(t,r){const o=t.inputType,s=$u(t);o==="deleteCompositionText"||At&&ic(r)||o!=="insertCompositionText"&&Le(r,()=>{const i=O();if(o==="deleteContentBackward"){if(i===null){const h=un();if(!k(h))return;fe(h.clone())}if(k(i)){const h=i.anchor.key===i.focus.key;if(a=t.timeStamp,Fu==="MediaLast"&&a<Jn+fs&&r.isComposing()&&h){if(me(null),Jn=0,setTimeout(()=>{Le(r,()=>{me(null)})},fs),k(i)){const g=i.anchor.getNode();g.markDirty(),I(g)||A(142),Pu(i,g)}}else{me(null),t.preventDefault();const g=i.anchor.getNode(),p=g.getTextContent(),_=g.canInsertTextAfter(),b=i.anchor.offset===0&&i.focus.offset===p.length;let m=Ji&&h&&!b&&_;if(m&&i.isCollapsed()&&(m=!q(bs(i.anchor,!0))),!m){L(r,jt,!0);const y=O();Ji&&k(y)&&y.isCollapsed()&&(Kt=y,setTimeout(()=>Kt=null))}}return}}var a;if(!k(i))return;const l=t.data;pn!==null&&mi(!1,r,pn),i.dirty&&pn===null||!i.isCollapsed()||ve(i.anchor.getNode())||s===null||i.applyDOMRange(s),pn=null;const u=i.anchor,c=i.focus,d=u.getNode(),f=c.getNode();if(o!=="insertText"&&o!=="insertTranspose")switch(t.preventDefault(),o){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":L(r,xn,t);break;case"insertFromComposition":me(null),L(r,xn,t);break;case"insertLineBreak":me(null),L(r,bn,!1);break;case"insertParagraph":me(null),qn&&!Tn?(qn=!1,L(r,bn,!1)):L(r,nr,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":L(r,ho,t);break;case"deleteByComposition":(function(h,g){return h!==g||E(h)||E(g)||!h.isToken()||!g.isToken()})(d,f)&&L(r,ls,t);break;case"deleteByDrag":case"deleteByCut":L(r,ls,t);break;case"deleteContent":L(r,jt,!1);break;case"deleteWordBackward":L(r,rr,!0);break;case"deleteWordForward":L(r,rr,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":L(r,or,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":L(r,or,!1);break;case"formatStrikeThrough":L(r,bt,"strikethrough");break;case"formatBold":L(r,bt,"bold");break;case"formatItalic":L(r,bt,"italic");break;case"formatUnderline":L(r,bt,"underline");break;case"historyUndo":L(r,bu,void 0);break;case"historyRedo":L(r,xu,void 0)}else{if(l===`
`)t.preventDefault(),L(r,bn,!1);else if(l===xt)t.preventDefault(),L(r,nr,void 0);else if(l==null&&t.dataTransfer){const h=t.dataTransfer.getData("text/plain");t.preventDefault(),i.insertRawText(h)}else l!=null&&Lu(i,s,l,t.timeStamp,!0)?(t.preventDefault(),L(r,xn,l)):pn=l;Ou=t.timeStamp}})}(n,e)]);let Jn=0,Fu=null,Ou=0,pn=null;const Zr=new WeakMap;let hs=!1,ps=!1,qn=!1,zn=!1,Po=!1,$o="",Kt=null,Iu=[0,"",0,"root",0];function Lu(n,e,t,r,o){const s=n.anchor,i=n.focus,a=s.getNode(),l=ne(),u=Xe(He(l)),c=u!==null?u.anchorNode:null,d=s.key,f=l.getElementByKey(d),h=t.length;return d!==i.key||!I(a)||(!o&&(!Br||Ou<r+50)||a.isDirty()&&h<2||rc(t))&&s.offset!==i.offset&&!a.isComposing()||mn(a)||a.isDirty()&&h>1||(o||!Br)&&f!==null&&!a.isComposing()&&c!==An(f)||u!==null&&e!==null&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||a.getFormat()!==n.format||a.getStyle()!==n.style||function(g,p){if(p.isSegmented())return!0;if(!g.isCollapsed())return!1;const _=g.anchor.offset,b=p.getParentOrThrow(),m=p.isToken();return _===0?!p.canInsertTextBefore()||!b.canInsertTextBefore()&&!p.isComposing()||m||function(y){const x=y.getPreviousSibling();return(I(x)||E(x)&&x.isInline())&&!x.canInsertTextAfter()}(p):_===p.getTextContentSize()&&(!p.canInsertTextAfter()||!b.canInsertTextAfter()&&!p.isComposing()||m)}(n,a)}function Qi(n,e){return St(n)&&n.nodeValue!==null&&e!==0&&e!==n.nodeValue.length}function ea(n,e,t){const{anchorNode:r,anchorOffset:o,focusNode:s,focusOffset:i}=n;hs&&(hs=!1,Qi(r,o)&&Qi(s,i)&&!Kt)||Le(e,()=>{if(!t)return void fe(null);if(!hr(e,r,s))return;let a=O();if(Kt&&k(a)&&a.isCollapsed()){const l=a.anchor,u=Kt.anchor;(l.key===u.key&&l.offset===u.offset+1||l.offset===1&&u.getNode().is(l.getNode().getPreviousSibling()))&&(a=Kt.clone(),fe(a))}if(Kt=null,k(a)){const l=a.anchor,u=l.getNode();if(a.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(a.dirty=!0);const c=He(e).event,d=c?c.timeStamp:performance.now(),[f,h,g,p,_]=Iu,b=re(),m=e.isComposing()===!1&&b.getTextContent()==="";if(d<_+200&&l.offset===g&&l.key===p)Pr(a,f,h);else if(l.type==="text")I(u)||A(141),Pu(a,u);else if(l.type==="element"&&!m){E(u)||A(259);const y=l.getNode();y.isEmpty()?function(x,S){const v=S.getTextFormat(),w=S.getTextStyle();Pr(x,v,w)}(a,y):Pr(a,0,"")}}else{const c=l.key,d=a.focus.key,f=a.getNodes(),h=f.length,g=a.isBackward(),p=g?i:o,_=g?o:i,b=g?d:c,m=g?c:d;let y=Cf,x=!1;for(let S=0;S<h;S++){const v=f[S],w=v.getTextContentSize();if(I(v)&&w!==0&&!(S===0&&v.__key===b&&p===w||S===h-1&&v.__key===m&&_===0)&&(x=!0,y&=v.getFormat(),y===0))break}a.format=x?y:0}}L(e,go,void 0)})}function Pr(n,e,t){n.format===e&&n.style===t||(n.format=e,n.style=t,n.dirty=!0)}function Pu(n,e){Pr(n,e.getFormat(),e.getStyle())}function $u(n){if(!n.getTargetRanges)return null;const e=n.getTargetRanges();return e.length===0?null:e[0]}function wr(n,e){const t=n._compositionKey;if(me(null),t!==null&&e!=null){if(e===""){const r=te(t),o=An(n.getElementByKey(t));return void(o!==null&&o.nodeValue!==null&&I(r)&&_i(r,o.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=O();if(k(r)){const o=r.focus;return r.anchor.set(o.key,o.offset,o.type),void L(n,Yr,null)}}}mi(!0,n,e)}function Mu(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}const vn=new Map;function Du(n){const e=Eg(n.target);if(e===null)return;const t=Qu(e.anchorNode);if(t===null)return;ps&&(ps=!1,Le(t,()=>{const l=un(),u=e.anchorNode;(ee(u)||St(u))&&fe(ai(l,e,t,n))}));const r=pi(t),o=r[r.length-1],s=o._key,i=vn.get(s),a=i||o;a!==t&&ea(e,a,!1),ea(e,t,!0),t!==o?vn.set(s,t):i&&vn.delete(s)}function ta(n){n._lexicalHandled=!0}function na(n){return n._lexicalHandled===!0}function Gf(n){const e=n.ownerDocument,t=Zr.get(e);if(t===void 0)return;const r=t-1;r>=0||A(164),Zr.set(e,r),r===0&&e.removeEventListener("selectionchange",Du);const o=vo(n);gi(o)?(function(i){if(i._parentEditor!==null){const a=pi(i),l=a[a.length-1]._key;vn.get(l)===i&&vn.delete(l)}else vn.delete(i._key)}(o),n.__lexicalEditor=null):o&&A(198);const s=Mu(n);for(let i=0;i<s.length;i++)s[i]();n.__lexicalEventHandles=[]}function ms(n,e,t){xe();const r=n.__key,o=n.getParent();if(o===null)return;const s=function(a){const l=O();if(!k(l)||!E(a))return l;const{anchor:u,focus:c}=l,d=u.getNode(),f=c.getNode();return no(d,a)&&u.set(a.__key,0,"element"),no(f,a)&&c.set(a.__key,0,"element"),l}(n);let i=!1;if(k(s)&&e){const a=s.anchor,l=s.focus;a.key===r&&(Qr(a,n,o,n.getPreviousSibling(),n.getNextSibling()),i=!0),l.key===r&&(Qr(l,n,o,n.getPreviousSibling(),n.getNextSibling()),i=!0)}else ue(s)&&e&&n.isSelected()&&n.selectPrevious();if(k(s)&&e&&!i){const a=n.getIndexWithinParent();Jt(n),Xr(s,o,a,-1)}else Jt(n);t||le(o)||o.canBeEmpty()||!o.isEmpty()||ms(o,e),e&&s&&ve(o)&&o.isEmpty()&&o.selectEnd()}class mo{static getType(){A(64,this.name)}static clone(e){A(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),yg(this,e)}getType(){return this.__type}isInline(){A(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const t=te(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){const t=e||O();if(t==null)return!1;const r=t.getNodes().some(o=>o.__key===this.__key);if(I(this))return r;if(k(t)&&t.anchor.type==="element"&&t.focus.type==="element"){if(t.isCollapsed())return!1;const o=this.getParent();if(q(this)&&this.isInline()&&o){const s=t.isBackward()?t.focus:t.anchor;if(o.is(s.getNode())&&s.offset===o.getChildrenSize()&&this.is(o.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),r=0;for(;t!==null;){if(this.is(t))return r;r++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:te(e)}getParentOrThrow(){const e=this.getParent();return e===null&&A(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(le(t))return E(e)||e===this&&q(e)||A(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&A(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:te(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(t===null)return e;let r=t.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:te(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=E(this)?this:this.getParent(),r=E(e)?e:e.getParent(),o=t&&r?Dr(t,r):null;return o?o.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const t=Dr(this,e);return t!==null&&(t.type==="descendant"||(t.type==="branch"?cc(t)===-1:(t.type!=="same"&&t.type!=="ancestor"&&A(279),!1)))}isParentOf(e){const t=Dr(this,e);return t!==null&&t.type==="ancestor"}getNodesBetween(e){const t=this.isBefore(e),r=[],o=new Set;let s=this;for(;s!==null;){const i=s.__key;if(o.has(i)||(o.add(i),r.push(s)),s===e)break;const a=E(s)?t?s.getFirstChild():s.getLastChild():null;if(a!==null){s=a;continue}const l=t?s.getNextSibling():s.getPreviousSibling();if(l!==null){s=l;continue}const u=s.getParentOrThrow();if(o.has(u.__key)||r.push(u),u===e)break;let c=null,d=u;do{if(d===null&&A(68),c=t?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),d===null)break;c!==null||o.has(d.__key)||r.push(d)}while(c===null);s=c}return t||r.reverse(),r}isDirty(){const e=ne()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=te(this.__key);return e===null&&A(113),e}getWritable(){xe();const e=$t(),t=ne(),r=e._nodeMap,o=this.__key,s=this.getLatest(),i=t._cloneNotNeeded,a=O();if(a!==null&&a.setCachedNodes(null),i.has(o))return to(s),s;const l=vi(s);return i.add(o),to(l),r.set(o,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){A(70)}updateDOM(e,t,r){A(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){A(18,this.name)}updateFromJSON(e){return function(t,r){const o=t.getWritable();return(r||o.__state)&&Rf(t).updateFromJSON(r),o}(this,e.$)}static transform(){return null}remove(e){ms(this,!0,e)}replace(e,t){xe();let r=O();r!==null&&(r=r.clone()),Wo(this,e);const o=this.getLatest(),s=this.__key,i=e.__key,a=e.getWritable(),l=this.getParentOrThrow().getWritable(),u=l.__size;Jt(a);const c=o.getPreviousSibling(),d=o.getNextSibling(),f=o.__prev,h=o.__next,g=o.__parent;if(ms(o,!1,!0),c===null?l.__first=i:c.getWritable().__next=i,a.__prev=f,d===null?l.__last=i:d.getWritable().__prev=i,a.__next=h,a.__parent=g,l.__size=u,t&&(E(this)&&E(a)||A(139),this.getChildren().forEach(p=>{a.append(p)})),k(r)){fe(r);const p=r.anchor,_=r.focus;p.key===s&&ia(p,a),_.key===s&&ia(_,a)}return Et()===s&&me(i),a}insertAfter(e,t=!0){xe(),Wo(this,e);const r=this.getWritable(),o=e.getWritable(),s=o.getParent(),i=O();let a=!1,l=!1;if(s!==null){const h=e.getIndexWithinParent();if(Jt(o),k(i)){const g=s.__key,p=i.anchor,_=i.focus;a=p.type==="element"&&p.key===g&&p.offset===h+1,l=_.type==="element"&&_.key===g&&_.offset===h+1}}const u=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),d=o.__key,f=r.__next;if(u===null?c.__last=d:u.getWritable().__prev=d,c.__size++,r.__next=d,o.__next=f,o.__prev=r.__key,o.__parent=r.__parent,t&&k(i)){const h=this.getIndexWithinParent();Xr(i,c,h+1);const g=c.__key;a&&i.anchor.set(g,h+2,"element"),l&&i.focus.set(g,h+2,"element")}return e}insertBefore(e,t=!0){xe(),Wo(this,e);const r=this.getWritable(),o=e.getWritable(),s=o.__key;Jt(o);const i=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=r.__prev,u=this.getIndexWithinParent();i===null?a.__first=s:i.getWritable().__next=s,a.__size++,r.__prev=s,o.__prev=l,o.__next=r.__key,o.__parent=r.__parent;const c=O();return t&&k(c)&&Xr(c,this.getParentOrThrow(),u),e}isParentRequired(){return!1}createParentElementNode(){return Q()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){xe();const r=this.getPreviousSibling(),o=this.getParentOrThrow();if(r===null)return o.select(0,0);if(E(r))return r.select();if(!I(r)){const s=r.getIndexWithinParent()+1;return o.select(s,s)}return r.select(e,t)}selectNext(e,t){xe();const r=this.getNextSibling(),o=this.getParentOrThrow();if(r===null)return o.select();if(E(r))return r.select(0,0);if(!I(r)){const s=r.getIndexWithinParent();return o.select(s,s)}return r.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class ur extends mo{static getType(){return"linebreak"}static clone(e){return new ur(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(t){const r=t.parentElement;if(r!==null&&ro(r)){const o=r.firstChild;if(o===t||o.nextSibling===t&&Tr(o)){const s=r.lastChild;if(s===t||s.previousSibling===t&&Tr(s))return!0}}return!1}(e)||function(t){const r=t.parentElement;if(r!==null&&ro(r)){const o=r.firstChild;if(o===t||o.nextSibling===t&&Tr(o))return!1;const s=r.lastChild;if(s===t||s.previousSibling===t&&Tr(s))return!0}return!1}(e)?null:{conversion:Yf,priority:0}}}static importJSON(e){return je().updateFromJSON(e)}}function Yf(n){return{node:je()}}function je(){return Se(new ur)}function X(n){return n instanceof ur}function Tr(n){return St(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function Mo(n,e){return 16&e?"code":e&qs?"mark":32&e?"sub":64&e?"sup":null}function Do(n,e){return 1&e?"strong":2&e?"em":"span"}function Ru(n,e,t,r,o){const s=r.classList;let i=Sn(o,"base");i!==void 0&&s.add(...i),i=Sn(o,"underlineStrikethrough");let a=!1;const l=e&jr&&e&Ur;i!==void 0&&(t&jr&&t&Ur?(a=!0,l||s.add(...i)):l&&s.remove(...i));for(const u in Zt){const c=Zt[u];if(i=Sn(o,u),i!==void 0)if(t&c){if(a&&(u==="underline"||u==="strikethrough")){e&c&&s.remove(...i);continue}e&c&&(!l||u!=="underline")&&u!=="strikethrough"||s.add(...i)}else e&c&&s.remove(...i)}}function zu(n,e,t){const r=e.firstChild,o=t.isComposing(),s=n+(o?co:"");if(r==null)e.textContent=s;else{const i=r.nodeValue;if(i!==s)if(o||At){const[a,l,u]=function(c,d){const f=c.length,h=d.length;let g=0,p=0;for(;g<f&&g<h&&c[g]===d[g];)g++;for(;p+g<f&&p+g<h&&c[f-p-1]===d[h-p-1];)p++;return[g,f-g-p,d.slice(g,h-p)]}(i,s);l!==0&&r.deleteData(a,l),r.insertData(a,u)}else r.nodeValue=s}}function ra(n,e,t,r,o,s){zu(o,n,e);const i=s.theme.text;i!==void 0&&Ru(0,0,r,n,i)}function Er(n,e){const t=document.createElement(e);return t.appendChild(n),t}class vt extends mo{static getType(){return"text"}static clone(e){return new vt(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return Ff[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Et()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=Zt[e];return!!(this.getFormat()&t)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return eo(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const r=this.__format,o=Mo(0,r),s=Do(0,r),i=o===null?s:o,a=document.createElement(i);let l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),o!==null&&(l=document.createElement(s),a.appendChild(l)),ra(l,this,0,r,this.__text,e);const u=this.__style;return u!==""&&(a.style.cssText=u),a}updateDOM(e,t,r){const o=this.__text,s=e.__format,i=this.__format,a=Mo(0,s),l=Mo(0,i),u=Do(0,s),c=Do(0,i);if((a===null?u:a)!==(l===null?c:l))return!0;if(a===l&&u!==c){const p=t.firstChild;p==null&&A(48);const _=document.createElement(c);return ra(_,this,0,i,o,r),t.replaceChild(_,p),!1}let d=t;l!==null&&a!==null&&(d=t.firstChild,d==null&&A(49)),zu(o,d,this);const f=r.theme.text;f!==void 0&&s!==i&&Ru(0,s,i,d,f);const h=e.__style,g=this.__style;return h!==g&&(t.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:eg,priority:0}),b:()=>({conversion:Xf,priority:0}),code:()=>({conversion:pt,priority:0}),em:()=>({conversion:pt,priority:0}),i:()=>({conversion:pt,priority:0}),mark:()=>({conversion:pt,priority:0}),s:()=>({conversion:pt,priority:0}),span:()=>({conversion:Zf,priority:0}),strong:()=>({conversion:pt,priority:0}),sub:()=>({conversion:pt,priority:0}),sup:()=>({conversion:pt,priority:0}),u:()=>({conversion:pt,priority:0})}}static importJSON(e){return oe().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return ee(t)||A(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=Er(t,"b")),this.hasFormat("italic")&&(t=Er(t,"i")),this.hasFormat("strikethrough")&&(t=Er(t,"s")),this.hasFormat("underline")&&(t=Er(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format=typeof e=="string"?Zt[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail=typeof e=="string"?kf[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=eo(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=Af[e];if(this.__mode===t)return this;const r=this.getWritable();return r.__mode=t,r}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){xe();let r=e,o=t;const s=O(),i=this.getTextContent(),a=this.__key;if(typeof i=="string"){const l=i.length;r===void 0&&(r=l),o===void 0&&(o=l)}else r=0,o=0;if(!k(s))return Ku(a,r,a,o,"text","text");{const l=Et();l!==s.anchor.key&&l!==s.focus.key||me(a),s.setTextNodeRange(this,r,this,o)}return s}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,r,o){const s=this.getWritable(),i=s.__text,a=r.length;let l=e;l<0&&(l=a+l,l<0&&(l=0));const u=O();if(o&&k(u)){const d=e+a;u.setTextNodeRange(s,d,s,d)}const c=i.slice(0,l)+r+i.slice(l+t);return s.__text=c,s}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){xe();const t=this.getLatest(),r=t.getTextContent();if(r==="")return[];const o=t.__key,s=Et(),i=r.length;e.sort((T,C)=>T-C),e.push(i);const a=[],l=e.length;for(let T=0,C=0;T<i&&C<=l;C++){const F=e[C];F>T&&(a.push(r.slice(T,F)),T=F)}const u=a.length;if(u===1)return[t];const c=a[0],d=t.getParent();let f;const h=t.getFormat(),g=t.getStyle(),p=t.__detail;let _=!1,b=null,m=null;const y=O();if(k(y)){const[T,C]=y.isBackward()?[y.focus,y.anchor]:[y.anchor,y.focus];T.type==="text"&&T.key===o&&(b=T),C.type==="text"&&C.key===o&&(m=C)}t.isSegmented()?(f=oe(c),f.__format=h,f.__style=g,f.__detail=p,_=!0):(f=t.getWritable(),f.__text=c);const x=[f];for(let T=1;T<u;T++){const C=oe(a[T]);C.__format=h,C.__style=g,C.__detail=p;const F=C.__key;s===o&&me(F),x.push(C)}const S=b?b.offset:null,v=m?m.offset:null;let w=0;for(const T of x){if(!b&&!m)break;const C=w+T.getTextContentSize();if(b!==null&&S!==null&&S<=C&&S>=w&&(b.set(T.getKey(),S-w,"text"),S<C&&(b=null)),m!==null&&v!==null&&v<=C&&v>=w){m.set(T.getKey(),v-w,"text");break}w=C}if(d!==null){(function(F){const P=F.getPreviousSibling(),R=F.getNextSibling();P!==null&&to(P),R!==null&&to(R)})(this);const T=d.getWritable(),C=this.getIndexWithinParent();_?(T.splice(C,0,x),this.remove()):T.splice(C,1,x),k(y)&&Xr(y,d,C,u-1)}return x}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||A(50);const r=this.__key,o=e.__key,s=this.__text,i=s.length;Et()===o&&me(r);const a=O();if(k(a)){const d=a.anchor,f=a.focus;d!==null&&d.key===o&&ga(d,t,r,e,i),f!==null&&f.key===o&&ga(f,t,r,e,i)}const l=e.__text,u=t?l+s:s+l;this.setTextContent(u);const c=this.getWritable();return e.remove(),c}isTextEntity(){return!1}}function Zf(n){return{forChild:oi(n.style),node:null}}function Xf(n){const e=n,t=e.style.fontWeight==="normal";return{forChild:oi(e.style,t?void 0:"bold"),node:null}}const oa=new WeakMap;function Qf(n){if(!ee(n))return!1;if(n.nodeName==="PRE")return!0;const e=n.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function eg(n){const e=n;n.parentElement===null&&A(129);let t=e.textContent||"";if(function(r){let o,s=r.parentNode;const i=[r];for(;s!==null&&(o=oa.get(s))===void 0&&!Qf(s);)i.push(s),s=s.parentNode;const a=o===void 0?s:o;for(let l=0;l<i.length;l++)oa.set(i[l],a);return a}(e)!==null){const r=t.split(/(\r?\n|\t)/),o=[],s=r.length;for(let i=0;i<s;i++){const a=r[i];a===`
`||a===`\r
`?o.push(je()):a==="	"?o.push(Ke()):a!==""&&o.push(oe(a))}return{node:o}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let r=e,o=!0;for(;r!==null&&(r=sa(r,!1))!==null;){const s=r.textContent||"";if(s.length>0){/[ \t\n]$/.test(s)&&(t=t.slice(1)),o=!1;break}}o&&(t=t.slice(1))}if(t[t.length-1]===" "){let r=e,o=!0;for(;r!==null&&(r=sa(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){o=!1;break}o&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:oe(t)}}function sa(n,e){let t=n;for(;;){let r;for(;(r=e?t.nextSibling:t.previousSibling)===null;){const s=t.parentElement;if(s===null)return null;t=s}if(t=r,ee(t)){const s=t.style.display;if(s===""&&!Ss(t)||s!==""&&!s.startsWith("inline"))return null}let o=t;for(;(o=e?t.firstChild:t.lastChild)!==null;)t=o;if(St(t))return t;if(t.nodeName==="BR")return null}}const tg={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function pt(n){const e=tg[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:oi(n.style,e),node:null}}function oe(n=""){return Se(new vt(n))}function I(n){return n instanceof vt}function oi(n,e){const t=n.fontWeight,r=n.textDecoration.split(" "),o=t==="700"||t==="bold",s=r.includes("line-through"),i=n.fontStyle==="italic",a=r.includes("underline"),l=n.verticalAlign;return u=>(I(u)&&(o&&!u.hasFormat("bold")&&u.toggleFormat("bold"),s&&!u.hasFormat("strikethrough")&&u.toggleFormat("strikethrough"),i&&!u.hasFormat("italic")&&u.toggleFormat("italic"),a&&!u.hasFormat("underline")&&u.toggleFormat("underline"),l!=="sub"||u.hasFormat("subscript")||u.toggleFormat("subscript"),l!=="super"||u.hasFormat("superscript")||u.toggleFormat("superscript"),e&&!u.hasFormat(e)&&u.toggleFormat(e)),u)}class cr extends vt{static getType(){return"tab"}static clone(e){return new cr(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),r=Sn(e.theme,"tab");return r!==void 0&&t.classList.add(...r),t}static importJSON(e){return Ke().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&A(126),super.setTextContent(e)}setDetail(e){return e!==2&&A(127),this}setMode(e){return e!=="normal"&&A(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Ke(){return Se(new cr)}function _e(n){return n instanceof cr}class ng{constructor(e,t,r){this._selection=null,this.key=e,this.offset=t,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:uc(Ue(Pt(this,"next")),Ue(Pt(e,"next")))<0}getNode(){const e=te(this.key);return e===null&&A(20),e}set(e,t,r,o){const s=this._selection,i=this.key;o&&this.key===e&&this.offset===t&&this.type===r||(this.key=e,this.offset=t,this.type=r,dr()||(Et()===i&&me(e),s!==null&&(s.setCachedNodes(null),s.dirty=!0)))}}function ct(n,e,t){return new ng(n,e,t)}function Ro(n,e){let t=e.__key,r=n.offset,o="element";if(I(e)){o="text";const s=e.getTextContentSize();r>s&&(r=s)}else if(!E(e)){const s=e.getNextSibling();if(I(s))t=s.__key,r=0,o="text";else{const i=e.getParent();i&&(t=i.__key,r=e.getIndexWithinParent()+1)}}n.set(t,r,o)}function ia(n,e){if(E(e)){const t=e.getLastDescendant();E(t)||I(t)?Ro(n,t):Ro(n,e)}else Ro(n,e)}class _o{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!ue(e))return!1;const t=this._nodes,r=e._nodes;return t.size===r.size&&Array.from(t).every(o=>r.has(o))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new _o(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),r=t.length,o=t[r-1];let s;if(I(o))s=o.select();else{const i=o.getIndexWithinParent()+1;s=o.getParentOrThrow().select(i,i)}s.insertNodes(e);for(let i=0;i<r;i++)t[i].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this._nodes,r=[];for(const o of t){const s=te(o);s!==null&&r.push(s)}return dr()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((O()||un())===this&&e[0]){const t=be(e[0],"next");Rg(rn(t,t))}for(const t of e)t.remove()}}function k(n){return n instanceof ln}class ln{constructor(e,t,r,o){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=r,this.style=o,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!k(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=function(r){const o=[],[s,i]=r.getTextSlices();s&&o.push(s.caret.origin);const a=new Set,l=new Set;for(const u of r)if(ut(u)){const{origin:c}=u;o.length===0?a.add(c):(l.add(c),o.push(c))}else{const{origin:c}=u;E(c)&&l.has(c)||o.push(c)}if(i&&o.push(i.caret.origin),tn(r.focus)&&E(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let u=Qe(r.focus.origin,"previous");ut(u)&&a.has(u.origin)&&!u.origin.isEmpty()&&u.origin.is(o[o.length-1]);u=Ti(u))a.delete(u.origin),o.pop();for(;o.length>1;){const u=o[o.length-1];if(!E(u)||l.has(u)||u.isEmpty()||a.has(u))break;o.pop()}if(o.length===0&&r.isCollapsed()){const u=Ue(r.anchor),c=Ue(r.anchor.getFlipped()),d=h=>qt(h)?h.origin:h.getNodeAtCaret(),f=d(u)||d(c)||(r.anchor.getNodeAtCaret()?u.origin:c.origin);o.push(f)}return o}(fc(La(this),"next"));return dr()||(this._cachedNodes=t),t}setTextNodeRange(e,t,r,o){this.anchor.set(e.__key,t,"text"),this.focus.set(r.__key,o,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],r=e[e.length-1],o=this.anchor,s=this.focus,i=o.isBefore(s),[a,l]=_s(this);let u="",c=!0;for(let d=0;d<e.length;d++){const f=e[d];if(E(f)&&!f.isInline())c||(u+=`
`),c=!f.isEmpty();else if(c=!1,I(f)){let h=f.getTextContent();f===t?f===r?o.type==="element"&&s.type==="element"&&s.offset!==o.offset||(h=a<l?h.slice(a,l):h.slice(l,a)):h=i?h.slice(a):h.slice(l):f===r&&(h=i?h.slice(0,l):h.slice(0,a)),u+=h}else!q(f)&&!X(f)||f===r&&this.isCollapsed()||(u+=f.getTextContent())}return u}applyDOMRange(e){const t=ne(),r=t.getEditorState()._selection,o=Wu(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,r);if(o===null)return;const[s,i]=o;this.anchor.set(s.key,s.offset,s.type,!0),this.focus.set(i.key,i.offset,i.type,!0),kn(this)}clone(){const e=this.anchor,t=this.focus;return new ln(ct(e.key,e.offset,e.type),ct(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=eo(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=Zt[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),r=[],o=t.length;for(let s=0;s<o;s++){const i=t[s];i===`
`||i===`\r
`?r.push(je()):i==="	"?r.push(Ke()):r.push(oe(i))}this.insertNodes(r)}insertText(e){const t=this.anchor,r=this.focus,o=this.format,s=this.style;let i=t,a=r;!this.isCollapsed()&&r.isBefore(t)&&(i=r,a=t),i.type==="element"&&function(_,b,m,y){const x=_.getNode(),S=x.getChildAtIndex(_.offset),v=oe(),w=ve(x)?Q().append(v):v;v.setFormat(m),v.setStyle(y),S===null?x.append(w):S.insertBefore(w),_.is(b)&&b.set(v.__key,0,"text"),_.set(v.__key,0,"text")}(i,a,o,s),a.type==="element"&&on(a,Ue(Pt(a,"next")));const l=i.offset;let u=a.offset;const c=this.getNodes(),d=c.length;let f=c[0];I(f)||A(26);const h=f.getTextContent().length,g=f.getParentOrThrow();let p=c[d-1];if(d===1&&a.type==="element"&&(u=h,a.set(i.key,u,"text")),this.isCollapsed()&&l===h&&(f.isSegmented()||f.isToken()||!f.canInsertTextAfter()||!g.canInsertTextAfter()&&f.getNextSibling()===null)){let _=f.getNextSibling();if(I(_)&&_.canInsertTextBefore()&&!mn(_)||(_=oe(),_.setFormat(o),_.setStyle(s),g.canInsertTextAfter()?f.insertAfter(_):g.insertAfter(_)),_.select(0,0),f=_,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&l===0&&(f.isSegmented()||f.isToken()||!f.canInsertTextBefore()||!g.canInsertTextBefore()&&f.getPreviousSibling()===null)){let _=f.getPreviousSibling();if(I(_)&&!mn(_)||(_=oe(),_.setFormat(o),g.canInsertTextBefore()?f.insertBefore(_):g.insertBefore(_)),_.select(),f=_,e!=="")return void this.insertText(e)}else if(f.isSegmented()&&l!==h){const _=oe(f.getTextContent());_.setFormat(o),f.replace(_),f=_}else if(!this.isCollapsed()&&e!==""){const _=p.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||E(_)&&(!_.canInsertTextBefore()||!_.canInsertTextAfter()))return this.insertText(""),Bu(this.anchor,this.focus,null),void this.insertText(e)}if(d===1){if(f.isToken()){const y=oe(e);return y.select(),void f.replace(y)}const _=f.getFormat(),b=f.getStyle();if(l!==u||_===o&&b===s){if(_e(f)){const y=oe(e);return y.setFormat(o),y.setStyle(s),y.select(),void f.replace(y)}}else{if(f.getTextContent()!==""){const y=oe(e);if(y.setFormat(o),y.setStyle(s),y.select(),l===0)f.insertBefore(y,!1);else{const[x]=f.splitText(l);x.insertAfter(y,!1)}return void(y.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}f.setFormat(o),f.setStyle(s)}const m=u-l;f=f.spliceText(l,m,e,!0),f.getTextContent()===""?f.remove():this.anchor.type==="text"&&(f.isComposing()?this.anchor.offset-=e.length:(this.format=_,this.style=b))}else{const _=new Set([...f.getParentKeys(),...p.getParentKeys()]),b=E(f)?f:f.getParentOrThrow();let m=E(p)?p:p.getParentOrThrow(),y=p;if(!b.is(m)&&m.isInline())do y=m,m=m.getParentOrThrow();while(m.isInline());if(a.type==="text"&&(u!==0||p.getTextContent()==="")||a.type==="element"&&p.getIndexWithinParent()<u)if(I(p)&&!p.isToken()&&u!==p.getTextContentSize()){if(p.isSegmented()){const T=oe(p.getTextContent());p.replace(T),p=T}ve(a.getNode())||a.type!=="text"||(p=p.spliceText(0,u,"")),_.add(p.__key)}else{const T=p.getParentOrThrow();T.canBeEmpty()||T.getChildrenSize()!==1?p.remove():T.remove()}else _.add(p.__key);const x=m.getChildren(),S=new Set(c),v=b.is(m),w=b.isInline()&&f.getNextSibling()===null?b:f;for(let T=x.length-1;T>=0;T--){const C=x[T];if(C.is(f)||E(C)&&C.isParentOf(f))break;C.isAttached()&&(!S.has(C)||C.is(y)?v||w.insertAfter(C,!1):C.remove())}if(!v){let T=m,C=null;for(;T!==null;){const F=T.getChildren(),P=F.length;(P===0||F[P-1].is(C))&&(_.delete(T.__key),C=T),T=T.getParent()}}if(f.isToken())if(l===h)f.select();else{const T=oe(e);T.select(),f.replace(T)}else f=f.spliceText(l,h-l,e,!0),f.getTextContent()===""?f.remove():f.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let T=1;T<d;T++){const C=c[T],F=C.__key;_.has(F)||C.remove()}}}removeText(){const e=O()===this;Rr(this,zg(La(this))),e&&O()!==this&&fe(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void me(null);const r=this.getNodes(),o=[];for(const x of r)I(x)&&o.push(x);const s=x=>{r.forEach(S=>{if(E(S)){const v=S.getFormatFlags(e,x);S.setTextFormat(v)}})},i=o.length;if(i===0)return this.toggleFormat(e),me(null),void s(t);const a=this.anchor,l=this.focus,u=this.isBackward(),c=u?l:a,d=u?a:l;let f=0,h=o[0],g=c.type==="element"?0:c.offset;if(c.type==="text"&&g===h.getTextContentSize()&&(f=1,h=o[1],g=0),h==null)return;const p=h.getFormatFlags(e,t);s(p);const _=i-1;let b=o[_];const m=d.type==="text"?d.offset:b.getTextContentSize();if(h.is(b)){if(g===m)return;if(mn(h)||g===0&&m===h.getTextContentSize())h.setFormat(p);else{const x=h.splitText(g,m),S=g===0?x[0]:x[1];S.setFormat(p),c.type==="text"&&c.set(S.__key,0,"text"),d.type==="text"&&d.set(S.__key,m-g,"text")}return void(this.format=p)}g===0||mn(h)||([,h]=h.splitText(g),g=0),h.setFormat(p);const y=b.getFormatFlags(e,p);m>0&&(m===b.getTextContentSize()||mn(b)||([b]=b.splitText(m)),b.setFormat(y));for(let x=f+1;x<_;x++){const S=o[x],v=S.getFormatFlags(e,y);S.setFormat(v)}c.type==="text"&&c.set(h.__key,g,"text"),d.type==="text"&&d.set(b.__key,m,"text"),this.format=p|y}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const g=O();return k(g)||A(134),g.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),r=Uo(t,wt),o=e[e.length-1];if(E(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const g=zo(this);r.splice(g,0,e),o.selectEnd()}return}if(!e.some(g=>(E(g)||q(g))&&!g.isInline())){E(r)||A(211,t.constructor.name,t.getType());const g=zo(this);return r.splice(g,0,e),void o.selectEnd()}const s=function(g){const p=Q();let _=null;for(let b=0;b<g.length;b++){const m=g[b],y=X(m);if(y||q(m)&&m.isInline()||E(m)&&m.isInline()||I(m)||m.isParentRequired()){if(_===null&&(_=m.createParentElementNode(),p.append(_),y))continue;_!==null&&_.append(m)}else p.append(m),_=null}return p}(e),i=s.getLastDescendant(),a=s.getChildren(),l=!E(r)||!r.isEmpty()?this.insertParagraph():null,u=a[a.length-1];let c=a[0];var d;E(d=c)&&wt(d)&&!d.isEmpty()&&E(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(E(r)||A(211,t.constructor.name,t.getType()),r.append(...c.getChildren()),c=a[1]),c&&(r===null&&A(212,t.constructor.name,t.getType()),function(g,p,_){const b=p.getParentOrThrow().getLastChild();let m=p;const y=[p];for(;m!==b;)m.getNextSibling()||A(140),m=m.getNextSibling(),y.push(m);let x=g;for(const S of y)x=x.insertAfter(S)}(r,c));const f=Uo(i,wt);l&&E(f)&&(l.canMergeWhenEmpty()||wt(u))&&(f.append(...l.getChildren()),l.remove()),E(r)&&r.isEmpty()&&r.remove(),i.selectEnd();const h=E(r)?r.getLastChild():null;X(h)&&f!==r&&h.remove()}insertParagraph(){if(this.anchor.key==="root"){const i=Q();return re().splice(this.anchor.offset,0,[i]),i.select(),i}const e=zo(this),t=Uo(this.anchor.getNode(),wt);E(t)||A(213);const r=t.getChildAtIndex(e),o=r?[r,...r.getNextSiblings()]:[],s=t.insertNewAfter(this,!1);return s?(s.append(...o),s.selectStart(),s):null}insertLineBreak(e){const t=je();if(this.insertNodes([t]),e){const r=t.getParentOrThrow(),o=t.getIndexWithinParent();r.select(o,o)}}extract(){const e=this.getNodes(),t=e.length,r=t-1,o=this.anchor,s=this.focus;let i=e[0],a=e[r];const[l,u]=_s(this);if(t===0)return[];if(t===1){if(I(i)&&!this.isCollapsed()){const d=l>u?u:l,f=l>u?l:u,h=i.splitText(d,f),g=d===0?h[0]:h[1];return g!=null?[g]:[]}return[i]}const c=o.isBefore(s);if(I(i)){const d=c?l:u;d===i.getTextContentSize()?e.shift():d!==0&&([,i]=i.splitText(d),e[0]=i)}if(I(a)){const d=a.getTextContent().length,f=c?u:l;f===0?e.pop():f!==d&&([a]=a.splitText(f),e[r]=a)}return e}modify(e,t,r){if(ha(this,e,t,r))return;const o=e==="move",s=ne(),i=Xe(He(s));if(!i)return;const a=s._blockCursorElement,l=s._rootElement,u=this.focus.getNode();if(l===null||a===null||!E(u)||u.isInline()||u.canBeEmpty()||xs(a,s,l),this.dirty){let c=Fn(s,this.anchor.key),d=Fn(s,this.focus.key);this.anchor.type==="text"&&(c=An(c)),this.focus.type==="text"&&(d=An(d)),c&&d&&Uu(i,c,this.anchor.offset,d,this.focus.offset)}if(function(c,d,f,h){c.modify(d,f,h)}(i,e,t?"backward":"forward",r),i.rangeCount>0){const c=i.getRangeAt(0),d=this.anchor.getNode(),f=ve(d)?d:wg(d);if(this.applyDOMRange(c),this.dirty=!0,!o){const h=this.getNodes(),g=[];let p=!1;for(let _=0;_<h.length;_++){const b=h[_];no(b,f)?g.push(b):p=!0}if(p&&g.length>0)if(t){const _=g[0];E(_)?_.selectStart():_.getParentOrThrow().selectStart()}else{const _=g[g.length-1];E(_)?_.selectEnd():_.getParentOrThrow().selectEnd()}i.anchorNode===c.startContainer&&i.anchorOffset===c.startOffset||function(_){const b=_.focus,m=_.anchor,y=m.key,x=m.offset,S=m.type;m.set(b.key,b.offset,b.type,!0),b.set(y,x,S,!0)}(this)}}r==="lineboundary"&&ha(this,e,t,r,"decorators")}forwardDeletion(e,t,r){if(!r&&(e.type==="element"&&E(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){const o=t.getParent(),s=t.getNextSibling()||(o===null?null:o.getNextSibling());if(E(s)&&s.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let o=r.getNode();if(this.forwardDeletion(r,o,e))return;const s=ki(Pt(r,e?"previous":"next"));if(s.getTextSlices().every(a=>a===null||a.distance===0)){let a={type:"initial"};for(const l of s.iterNodeCarets("shadowRoot"))if(ut(l)){if(!l.origin.isInline()){if(l.origin.isShadowRoot()){if(a.type==="merge-block")break;if(E(s.anchor.origin)&&s.anchor.origin.isEmpty()){const u=Ue(l);Rr(this,rn(u,u)),s.anchor.origin.remove()}return}a.type!=="merge-next-block"&&a.type!=="merge-block"||(a={block:a.block,caret:l,type:"merge-block"})}}else{if(a.type==="merge-block")break;if(tn(l)){if(E(l.origin)){if(l.origin.isInline()){if(!l.origin.isParentOf(s.anchor.origin))break}else a={block:l.origin,type:"merge-next-block"};continue}if(q(l.origin)){if(!l.origin.isIsolated())if(a.type==="merge-next-block"&&(l.origin.isKeyboardSelectable()||!l.origin.isInline())&&E(s.anchor.origin)&&s.anchor.origin.isEmpty()){s.anchor.origin.remove();const u=ii();u.add(l.origin.getKey()),fe(u)}else l.origin.remove();return}break}}if(a.type==="merge-block"){const{caret:l,block:u}=a;return Rr(this,rn(!l.origin.isEmpty()&&u.isEmpty()?Ai(be(u,l.direction)):s.anchor,l)),this.removeText()}}const i=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&la(this,r.getNode()))return}else{const a=i.type==="text"?i.getNode():null;if(o=r.type==="text"?r.getNode():null,a!==null&&a.isSegmented()){const l=i.offset,u=a.getTextContentSize();if(a.is(o)||e&&l!==u||!e&&l!==0)return void ua(a,e,l)}else if(o!==null&&o.isSegmented()){const l=r.offset,u=o.getTextContentSize();if(o.is(a)||e&&l!==0||!e&&l!==u)return void ua(o,e,l)}(function(l,u){const c=l.anchor,d=l.focus,f=c.getNode(),h=d.getNode();if(f===h&&c.type==="text"&&d.type==="text"){const g=c.offset,p=d.offset,_=g<p,b=_?g:p,m=_?p:g,y=m-1;b!==y&&function(x){return!(rc(x)||rg(x))}(f.getTextContent().slice(b,m))&&(u?d.set(d.key,y,d.type):c.set(c.key,y,c.type))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&ve(r.getParent())&&r.getPreviousSibling()===null&&la(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,r=t.getNode();if(this.forwardDeletion(t,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function ue(n){return n instanceof _o}function aa(n){const e=n.offset;if(n.type==="text")return e;const t=n.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function _s(n){const e=n.getStartEndPoints();if(e===null)return[0,0];const[t,r]=e;return t.type==="element"&&r.type==="element"&&t.key===r.key&&t.offset===r.offset?[0,0]:[aa(t),aa(r)]}function la(n,e){for(let t=e;t;t=t.getParent()){if(E(t)){if(t.collapseAtStart(n))return!0;if(le(t))break}if(t.getPreviousSibling())break}return!1}const rg=(()=>{try{const n=new RegExp("\\p{Emoji}","u"),e=n.test.bind(n);if(e("❤️")&&e("#️⃣")&&e("👍"))return e}catch{}return()=>!1})();function ua(n,e,t){const r=n,o=r.getTextContent().split(/(?=\s)/g),s=o.length;let i=0,a=0;for(let u=0;u<s;u++){const c=u===s-1;if(a=i,i+=o[u].length,e&&i===t||i>t||c){o.splice(u,1),c&&(a=void 0);break}}const l=o.join("").trim();l===""?r.remove():(r.setTextContent(l),r.select(a,a))}function ca(n,e,t,r){let o,s=e;if(ee(n)){let i=!1;const a=n.childNodes,l=a.length,u=r._blockCursorElement;s===l&&(i=!0,s=l-1);let c=a[s],d=!1;if(c===u)c=a[s+1],d=!0;else if(u!==null){const f=u.parentNode;n===f&&e>Array.prototype.indexOf.call(f.children,u)&&s--}if(o=yn(c),I(o))s=wa(o,i);else{let f=yn(n);if(f===null)return null;if(E(f)){const h=r.getElementByKey(f.getKey());h===null&&A(214),[f,s]=f.getDOMSlot(h).resolveChildIndex(f,h,n,e),E(f)||A(215),i&&s>=f.getChildrenSize()&&(s=Math.max(0,f.getChildrenSize()-1));let p=f.getChildAtIndex(s);if(E(p)&&function(_,b,m){const y=_.getParent();return m===null||y===null||!y.canBeEmpty()||y!==m.getNode()}(p,0,t)){const _=i?p.getLastDescendant():p.getFirstDescendant();_===null?f=p:(p=_,f=E(p)?p:p.getParentOrThrow()),s=0}I(p)?(o=p,f=null,s=wa(p,i)):p!==f&&i&&!d&&(E(f)||A(216),s=Math.min(f.getChildrenSize(),s+1))}else{const h=f.getIndexWithinParent();s=e===0&&q(f)&&yn(n)===f?h:h+1,f=f.getParentOrThrow()}if(E(f))return ct(f.__key,s,"element")}}else o=yn(n);return I(o)?ct(o.__key,s,"text"):null}function da(n,e,t){const r=n.offset,o=n.getNode();if(r===0){const s=o.getPreviousSibling(),i=o.getParent();if(e){if((t||!e)&&s===null&&E(i)&&i.isInline()){const a=i.getPreviousSibling();I(a)&&n.set(a.__key,a.getTextContent().length,"text")}}else E(s)&&!t&&s.isInline()?n.set(s.__key,s.getChildrenSize(),"element"):I(s)&&n.set(s.__key,s.getTextContent().length,"text")}else if(r===o.getTextContent().length){const s=o.getNextSibling(),i=o.getParent();if(e&&E(s)&&s.isInline())n.set(s.__key,0,"element");else if((t||e)&&s===null&&E(i)&&i.isInline()&&!i.canInsertTextAfter()){const a=i.getNextSibling();I(a)&&n.set(a.__key,0,"text")}}}function Bu(n,e,t){if(n.type==="text"&&e.type==="text"){const r=n.isBefore(e),o=n.is(e);da(n,r,o),da(e,!r,o),o&&e.set(n.key,n.offset,n.type);const s=ne();if(s.isComposing()&&s._compositionKey!==n.key&&k(t)){const i=t.anchor,a=t.focus;n.set(i.key,i.offset,i.type,!0),e.set(a.key,a.offset,a.type,!0)}}}function Wu(n,e,t,r,o,s){if(n===null||t===null||!hr(o,n,t))return null;const i=ca(n,e,k(s)?s.anchor:null,o);if(i===null)return null;const a=ca(t,r,k(s)?s.focus:null,o);if(a===null)return null;if(i.type==="element"&&a.type==="element"){const l=yn(n),u=yn(t);if(q(l)&&q(u))return null}return Bu(i,a,s),[i,a]}function ys(n){return E(n)&&!n.isInline()}function Ku(n,e,t,r,o,s){const i=$t(),a=new ln(ct(n,e,o),ct(t,r,s),0,"");return a.dirty=!0,i._selection=a,a}function si(){const n=ct("root",0,"element"),e=ct("root",0,"element");return new ln(n,e,0,"")}function ii(){return new _o(new Set)}function ai(n,e,t,r){const o=t._window;if(o===null)return null;const s=r||o.event,i=s?s.type:void 0,a=i==="selectionchange",l=!ts&&(a||i==="beforeinput"||i==="compositionstart"||i==="compositionend"||i==="click"&&s&&s.detail===3||i==="drop"||i===void 0);let u,c,d,f;if(k(n)&&!l)return n.clone();if(e===null)return null;if(u=e.anchorNode,c=e.focusNode,d=e.anchorOffset,f=e.focusOffset,a&&k(n)&&!hr(t,u,c))return n.clone();const h=Wu(u,d,c,f,t,n);if(h===null)return null;const[g,p]=h;return new ln(g,p,k(n)?n.format:0,k(n)?n.style:"")}function O(){return $t()._selection}function un(){return ne()._editorState._selection}function Xr(n,e,t,r=1){const o=n.anchor,s=n.focus,i=o.getNode(),a=s.getNode();if(!e.is(i)&&!e.is(a))return;const l=e.__key;if(n.isCollapsed()){const u=o.offset;if(t<=u&&r>0||t<u&&r<0){const c=Math.max(0,u+r);o.set(l,c,"element"),s.set(l,c,"element"),fa(n)}}else{const u=n.isBackward(),c=u?s:o,d=c.getNode(),f=u?o:s,h=f.getNode();if(e.is(d)){const g=c.offset;(t<=g&&r>0||t<g&&r<0)&&c.set(l,Math.max(0,g+r),"element")}if(e.is(h)){const g=f.offset;(t<=g&&r>0||t<g&&r<0)&&f.set(l,Math.max(0,g+r),"element")}}fa(n)}function fa(n){const e=n.anchor,t=e.offset,r=n.focus,o=r.offset,s=e.getNode(),i=r.getNode();if(n.isCollapsed()){if(!E(s))return;const a=s.getChildrenSize(),l=t>=a,u=l?s.getChildAtIndex(a-1):s.getChildAtIndex(t);if(I(u)){let c=0;l&&(c=u.getTextContentSize()),e.set(u.__key,c,"text"),r.set(u.__key,c,"text")}}else{if(E(s)){const a=s.getChildrenSize(),l=t>=a,u=l?s.getChildAtIndex(a-1):s.getChildAtIndex(t);if(I(u)){let c=0;l&&(c=u.getTextContentSize()),e.set(u.__key,c,"text")}}if(E(i)){const a=i.getChildrenSize(),l=o>=a,u=l?i.getChildAtIndex(a-1):i.getChildAtIndex(o);if(I(u)){let c=0;l&&(c=u.getTextContentSize()),r.set(u.__key,c,"text")}}}}function Qr(n,e,t,r,o){let s=null,i=0,a=null;r!==null?(s=r.__key,I(r)?(i=r.getTextContentSize(),a="text"):E(r)&&(i=r.getChildrenSize(),a="element")):o!==null&&(s=o.__key,I(o)?a="text":E(o)&&(a="element")),s!==null&&a!==null?n.set(s,i,a):(i=e.getIndexWithinParent(),i===-1&&(i=t.getChildrenSize()),n.set(t.__key,i,"element"))}function ga(n,e,t,r,o){n.type==="text"?n.set(t,n.offset+(e?0:o),"text"):n.offset>r.getIndexWithinParent()&&n.set(n.key,n.offset-1,"element")}function Uu(n,e,t,r,o){try{n.setBaseAndExtent(e,t,r,o)}catch{}}function og(n,e,t,r,o,s,i){const a=r.anchorNode,l=r.focusNode,u=r.anchorOffset,c=r.focusOffset,d=document.activeElement;if(o.has(Zu)&&d!==s||d!==null&&fi(d))return;if(!k(e))return void(n!==null&&hr(t,a,l)&&r.removeAllRanges());const f=e.anchor,h=e.focus,g=f.key,p=h.key,_=Fn(t,g),b=Fn(t,p),m=f.offset,y=h.offset,x=e.format,S=e.style,v=e.isCollapsed();let w=_,T=b,C=!1;if(f.type==="text"){w=An(_);const K=f.getNode();C=K.getFormat()!==x||K.getStyle()!==S}else k(n)&&n.anchor.type==="text"&&(C=!0);var F,P,R,U,B;if(h.type==="text"&&(T=An(b)),w!==null&&T!==null&&(v&&(n===null||C||k(n)&&(n.format!==x||n.style!==S))&&(F=x,P=S,R=m,U=g,B=performance.now(),Iu=[F,P,R,U,B]),u!==m||c!==y||a!==w||l!==T||r.type==="Range"&&v||(d!==null&&s.contains(d)||s.focus({preventScroll:!0}),f.type==="element"))){if(Uu(r,w,m,T,y),!o.has(cg)&&e.isCollapsed()&&s!==null&&s===document.activeElement){const K=k(e)&&e.anchor.type==="element"?w.childNodes[m]||null:r.rangeCount>0?r.getRangeAt(0):null;if(K!==null){let $;if(K instanceof Text){const j=document.createRange();j.selectNode(K),$=j.getBoundingClientRect()}else $=K.getBoundingClientRect();(function(j,W,H){const ge=ac(H),Ve=bi(ge);if(ge===null||Ve===null)return;let{top:he,bottom:Ct}=W,Ce=0,De=0,we=H;for(;we!==null;){const tt=we===ge.body;if(tt)Ce=0,De=He(j).innerHeight;else{const ft=we.getBoundingClientRect();Ce=ft.top,De=ft.bottom}let Ge=0;if(he<Ce?Ge=-(Ce-he):Ct>De&&(Ge=Ct-De),Ge!==0)if(tt)Ve.scrollBy(0,Ge);else{const ft=we.scrollTop;we.scrollTop+=Ge;const nt=we.scrollTop-ft;he-=nt,Ct-=nt}if(tt)break;we=pr(we)}})(t,$,s)}}hs=!0}}function ju(n){let e=O()||un();e===null&&(e=re().selectEnd()),e.insertNodes(n)}function zo(n){let e=n;n.isCollapsed()||e.removeText();const t=O();k(t)&&(e=t),k(e)||A(161);const r=e.anchor;let o=r.getNode(),s=r.offset;for(;!wt(o);){const i=o;if([o,s]=sg(o,s),i.is(o))break}return s}function sg(n,e){const t=n.getParent();if(!t){const o=Q();return re().append(o),o.select(),[re(),0]}if(I(n)){const o=n.splitText(e);if(o.length===0)return[t,n.getIndexWithinParent()];const s=e===0?0:1;return[t,o[0].getIndexWithinParent()+s]}if(!E(n)||e===0)return[t,n.getIndexWithinParent()];const r=n.getChildAtIndex(e);if(r){const o=new ln(ct(n.__key,e,"element"),ct(n.__key,e,"element"),0,""),s=n.insertNewAfter(o);s&&s.append(r,...r.getNextSiblings())}return[t,n.getIndexWithinParent()+1]}function ha(n,e,t,r,o="decorators-and-blocks"){if(e==="move"&&r==="character"&&!n.isCollapsed()){const[c,d]=t===n.isBackward()?[n.focus,n.anchor]:[n.anchor,n.focus];return d.set(c.key,c.offset,c.type),!0}const s=Pt(n.focus,t?"previous":"next"),i=r==="lineboundary",a=e==="move";let l=s,u=o==="decorators-and-blocks";if(!dc(l)){for(const c of l){u=!1;const{origin:d}=c;if(!q(d)||d.isIsolated()||(l=c,!i||!d.isInline()))break}if(u)for(const c of ki(s).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(ut(c))c.origin.isInline()||(l=c);else{if(E(c.origin))continue;q(c.origin)&&!c.origin.isInline()&&(l=c)}break}}if(l===s)return!1;if(a&&!i&&q(l.origin)&&l.origin.isKeyboardSelectable()){const c=ii();return c.add(l.origin.getKey()),fe(c),!0}return l=Ue(l),a&&on(n.anchor,l),on(n.focus,l),u||!i}let ce=null,de=null,Ae=!1,Bo=!1,$r=0;const pa={characterData:!0,childList:!0,subtree:!0};function dr(){return Ae||ce!==null&&ce._readOnly}function xe(){Ae&&A(13)}function Hu(){$r>99&&A(14)}function $t(){return ce===null&&A(195,Ju()),ce}function ne(){return de===null&&A(196,Ju()),de}function Ju(){let n=0;const e=new Set,t=xo.version;if(typeof window<"u")for(const o of document.querySelectorAll("[contenteditable]")){const s=vo(o);if(gi(s))n++;else if(s){let i=String(s.constructor.version||"<0.17.1");i===t&&(i+=" (separately built, likely a bundler configuration issue)"),e.add(i)}}let r=` Detected on the page: ${n} compatible editor(s) with version ${t}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function ig(){return de}function ma(n,e,t){const r=e.__type,o=function(a,l){const u=a._nodes.get(l);return u===void 0&&A(30,l),u}(n,r);let s=t.get(r);s===void 0&&(s=Array.from(o.transforms),t.set(r,s));const i=s.length;for(let a=0;a<i&&(s[a](e),e.isAttached());a++);}function _a(n,e){return n!==void 0&&n.__key!==e&&n.isAttached()}function qu(n,e){if(!e)return;const t=n._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const o of r)t.add(o)}function ag(n){return li(n,ne()._nodes)}function li(n,e){const t=n.type,r=e.get(t);r===void 0&&A(17,t);const o=r.klass;n.type!==o.getType()&&A(18,o.name);const s=o.importJSON(n),i=n.children;if(E(s)&&Array.isArray(i))for(let a=0;a<i.length;a++){const l=li(i[a],e);s.append(l)}return s}function ya(n,e,t){const r=ce,o=Ae,s=de;ce=e,Ae=!0,de=n;try{return t()}finally{ce=r,Ae=o,de=s}}function yt(n,e){const t=n._pendingEditorState,r=n._rootElement,o=n._headless||r===null;if(t===null)return;const s=n._editorState,i=s._selection,a=t._selection,l=n._dirtyType!==Yt,u=ce,c=Ae,d=de,f=n._updating,h=n._observer;let g=null;if(n._pendingEditorState=null,n._editorState=t,!o&&l&&h!==null){de=n,ce=t,Ae=!1,n._updating=!0;try{const v=n._dirtyType,w=n._dirtyElements,T=n._dirtyLeaves;h.disconnect(),g=Wf(s,t,n,v,w,T)}catch(v){if(v instanceof Error&&n._onError(v),Bo)throw v;return Xu(n,null,r,t),du(n),n._dirtyType=En,Bo=!0,yt(n,s),void(Bo=!1)}finally{h.observe(r,pa),n._updating=f,ce=u,Ae=c,de=d}}t._readOnly||(t._readOnly=!0);const p=n._dirtyLeaves,_=n._dirtyElements,b=n._normalizedNodes,m=n._updateTags,y=n._deferred;l&&(n._dirtyType=Yt,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),function(v,w){const T=v._decorators;let C=v._pendingDecorators||T;const F=w._nodeMap;let P;for(P in C)F.has(P)||(C===T&&(C=tc(v)),delete C[P])}(n,t);const x=o?null:Xe(He(n));if(n._editable&&x!==null&&(l||a===null||a.dirty)&&r!==null&&!m.has(dg)){de=n,ce=t;try{if(h!==null&&h.disconnect(),l||a===null||a.dirty){const v=n._blockCursorElement;v!==null&&xs(v,n,r),og(i,a,n,x,m,r)}(function(v,w,T){let C=v._blockCursorElement;if(k(T)&&T.isCollapsed()&&T.anchor.type==="element"&&w.contains(document.activeElement)){const F=T.anchor,P=F.getNode(),R=F.offset;let U=!1,B=null;if(R===P.getChildrenSize())Ko(P.getChildAtIndex(R-1))&&(U=!0);else{const K=P.getChildAtIndex(R);if(K!==null&&Ko(K)){const $=K.getPreviousSibling();($===null||Ko($))&&(U=!0,B=v.getElementByKey(K.__key))}}if(U){const K=v.getElementByKey(P.__key);return C===null&&(v._blockCursorElement=C=function($){const j=$.theme,W=document.createElement("div");W.contentEditable="false",W.setAttribute("data-lexical-cursor","true");let H=j.blockCursor;if(H!==void 0){if(typeof H=="string"){const ge=Kr(H);H=j.blockCursor=ge}H!==void 0&&W.classList.add(...H)}return W}(v._config)),w.style.caretColor="transparent",void(B===null?K.appendChild(C):K.insertBefore(C,B))}}C!==null&&xs(C,v,w)})(n,r,a)}finally{h!==null&&h.observe(r,pa),de=d,ce=u}}g!==null&&function(v,w,T,C,F){const P=Array.from(v._listeners.mutation),R=P.length;for(let U=0;U<R;U++){const[B,K]=P[U],$=w.get(K);$!==void 0&&B($,{dirtyLeaves:C,prevEditorState:F,updateTags:T})}}(n,g,m,p,s),k(a)||a===null||i!==null&&i.is(a)||n.dispatchCommand(go,void 0);const S=n._pendingDecorators;S!==null&&(n._decorators=S,n._pendingDecorators=null,Vn("decorator",n,!0,S)),function(v,w,T){const C=Ca(w),F=Ca(T);C!==F&&Vn("textcontent",v,!0,F)}(n,e||s,t),Vn("update",n,!0,{dirtyElements:_,dirtyLeaves:p,editorState:t,mutatedNodes:g,normalizedNodes:b,prevEditorState:e||s,tags:m}),function(v,w){if(v._deferred=[],w.length!==0){const T=v._updating;v._updating=!0;try{for(let C=0;C<w.length;C++)w[C]()}finally{v._updating=T}}}(n,y),function(v){const w=v._updates;if(w.length!==0){const T=w.shift();if(T){const[C,F]=T;ui(v,C,F)}}}(n)}function Vn(n,e,t,...r){const o=e._updating;e._updating=t;try{const s=Array.from(e._listeners[n]);for(let i=0;i<s.length;i++)s[i].apply(null,r)}finally{e._updating=o}}function ba(n,e){const t=n._updates;let r=e||!1;for(;t.length!==0;){const o=t.shift();if(o){const[s,i]=o;let a;if(i!==void 0){if(a=i.onUpdate,i.skipTransforms&&(r=!0),i.discrete){const l=n._pendingEditorState;l===null&&A(191),l._flushSync=!0}a&&n._deferred.push(a),qu(n,i.tag)}s()}}return r}function ui(n,e,t){const r=n._updateTags;let o,s=!1,i=!1;t!==void 0&&(o=t.onUpdate,qu(n,t.tag),s=t.skipTransforms||!1,i=t.discrete||!1),o&&n._deferred.push(o);const a=n._editorState;let l=n._pendingEditorState,u=!1;(l===null||l._readOnly)&&(l=n._pendingEditorState=Gu(l||a),u=!0),l._flushSync=i;const c=ce,d=Ae,f=de,h=n._updating;ce=l,Ae=!1,n._updating=!0,de=n;const g=n._headless||n.getRootElement()===null;try{u&&(g?a._selection!==null&&(l._selection=a._selection.clone()):l._selection=function(m,y){const x=m.getEditorState()._selection,S=Xe(He(m));return k(x)||x==null?ai(x,S,m,y):x.clone()}(n,t&&t.event||null));const _=n._compositionKey;e(),s=ba(n,s),function(m,y){const x=y.getEditorState()._selection,S=m._selection;if(k(S)){const v=S.anchor,w=S.focus;let T;if(v.type==="text"&&(T=v.getNode(),T.selectionTransform(x,S)),w.type==="text"){const C=w.getNode();T!==C&&C.selectionTransform(x,S)}}}(l,n),n._dirtyType!==Yt&&(s?function(m,y){const x=y._dirtyLeaves,S=m._nodeMap;for(const v of x){const w=S.get(v);I(w)&&w.isAttached()&&w.isSimpleText()&&!w.isUnmergeable()&&Yi(w)}}(l,n):function(m,y){const x=y._dirtyLeaves,S=y._dirtyElements,v=m._nodeMap,w=Et(),T=new Map;let C=x,F=C.size,P=S,R=P.size;for(;F>0||R>0;){if(F>0){y._dirtyLeaves=new Set;for(const U of C){const B=v.get(U);I(B)&&B.isAttached()&&B.isSimpleText()&&!B.isUnmergeable()&&Yi(B),B!==void 0&&_a(B,w)&&ma(y,B,T),x.add(U)}if(C=y._dirtyLeaves,F=C.size,F>0){$r++;continue}}y._dirtyLeaves=new Set,y._dirtyElements=new Map,P.delete("root")&&P.set("root",!0);for(const U of P){const B=U[0],K=U[1];if(S.set(B,K),!K)continue;const $=v.get(B);$!==void 0&&_a($,w)&&ma(y,$,T)}C=y._dirtyLeaves,F=C.size,P=y._dirtyElements,R=P.size,$r++}y._dirtyLeaves=x,y._dirtyElements=S}(l,n),ba(n),function(m,y,x,S){const v=m._nodeMap,w=y._nodeMap,T=[];for(const[C]of S){const F=w.get(C);F!==void 0&&(F.isAttached()||(E(F)&&lu(F,C,v,w,T,S),v.has(C)||S.delete(C),T.push(C)))}for(const C of T)w.delete(C);for(const C of x){const F=w.get(C);F===void 0||F.isAttached()||(v.has(C)||x.delete(C),w.delete(C))}}(a,l,n._dirtyLeaves,n._dirtyElements)),_!==n._compositionKey&&(l._flushSync=!0);const b=l._selection;if(k(b)){const m=l._nodeMap,y=b.anchor.key,x=b.focus.key;m.get(y)!==void 0&&m.get(x)!==void 0||A(19)}else ue(b)&&b._nodes.size===0&&(l._selection=null)}catch(_){return _ instanceof Error&&n._onError(_),n._pendingEditorState=a,n._dirtyType=En,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void yt(n)}finally{ce=c,Ae=d,de=f,n._updating=h,$r=0}n._dirtyType!==Yt||n._deferred.length>0||function(_,b){const m=b.getEditorState()._selection,y=_._selection;if(y!==null){if(y.dirty||!y.is(m))return!0}else if(m!==null)return!0;return!1}(l,n)?l._flushSync?(l._flushSync=!1,yt(n)):u&&mg(()=>{yt(n)}):(l._flushSync=!1,u&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function Le(n,e,t){de===n&&t===void 0?e():ui(n,e,t)}class Gn{constructor(e,t,r){this.element=e,this.before=t||null,this.after=r||null}withBefore(e){return new Gn(this.element,e,this.after)}withAfter(e){return new Gn(this.element,this.before,e)}withElement(e){return this.element===e?this:new Gn(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return t!==null&&t.parentElement!==this.element&&A(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&A(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&A(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const t=e==="decorator"&&(Tn||Xn);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&t.removeChild(r),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===(t.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,o=this.before,s=document.createElement("br");if(r.insertBefore(s,o),e){const i=document.createElement("img");i.setAttribute("data-lexical-linebreak","true"),i.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",i.alt="",r.insertBefore(i,s),r.__lexicalLineBreak=i}else r.__lexicalLineBreak=s}getFirstChildOffset(){let e=0;for(let t=this.after;t!==null;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,r,o){if(r===this.element){const l=this.getFirstChildOffset();return[e,Math.min(l+e.getChildrenSize(),Math.max(l,o))]}const s=xa(t,r);s.push(o);const i=xa(t,this.element);let a=e.getIndexWithinParent();for(let l=0;l<i.length;l++){const u=s[l],c=i[l];if(u===void 0||u<c)break;if(u>c){a+=1;break}}return[e.getParentOrThrow(),a]}}function xa(n,e){const t=[];let r=e;for(;r!==n&&r!==null;r=r.parentNode){let o=0;for(let s=r.previousSibling;s!==null;s=s.previousSibling)o++;t.push(o)}return r!==n&&A(225),t.reverse()}class Me extends mo{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return Nf[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=ne()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;t!==null;){if(I(t)&&e.push(t),E(t)){const r=t.getAllTextNodes();e.push(...r)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;E(e);){const t=e.getFirstChild();if(t===null)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;E(e);){const t=e.getLastChild();if(t===null)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),r=t.length;if(e>=r){const s=t[r-1];return E(s)&&s.getLastDescendant()||s||null}const o=t[e];return E(o)&&o.getFirstDescendant()||o||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:te(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&A(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:te(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&A(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let r,o;if(e<t/2){for(r=this.getFirstChild(),o=0;r!==null&&o<=e;){if(o===e)return r;r=r.getNextSibling(),o++}return null}for(r=this.getLastChild(),o=t-1;r!==null&&o>=e;){if(o===e)return r;r=r.getPreviousSibling(),o--}return null}getTextContent(){let e="";const t=this.getChildren(),r=t.length;for(let o=0;o<r;o++){const s=t[o];e+=s.getTextContent(),E(s)&&o!==r-1&&!s.isInline()&&(e+=xt)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),r=t.length;for(let o=0;o<r;o++){const s=t[o];e+=s.getTextContentSize(),E(s)&&o!==r-1&&!s.isInline()&&(e+=xt.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const t=qi[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=Zt[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return eo(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){xe();const r=O();let o=e,s=t;const i=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){const l=this.getFirstChild();if(I(l)||E(l))return l.select(0,0)}else if(!(e!==void 0&&e!==i||t!==void 0&&t!==i)){const l=this.getLastChild();if(I(l)||E(l))return l.select()}}o===void 0&&(o=i),s===void 0&&(s=i);const a=this.__key;return k(r)?(r.anchor.set(a,o,"element"),r.focus.set(a,s,"element"),r.dirty=!0,r):Ku(a,o,a,s,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?qi[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,r){const o=r.length,s=this.getChildrenSize(),i=this.getWritable();e+t<=s||A(226,String(e),String(t),String(s));const a=i.__key,l=[],u=[],c=this.getChildAtIndex(e+t);let d=null,f=s-t+o;if(e!==0)if(e===s)d=this.getLastChild();else{const g=this.getChildAtIndex(e);g!==null&&(d=g.getPreviousSibling())}if(t>0){let g=d===null?this.getFirstChild():d.getNextSibling();for(let p=0;p<t;p++){g===null&&A(100);const _=g.getNextSibling(),b=g.__key;Jt(g.getWritable()),u.push(b),g=_}}let h=d;for(let g=0;g<o;g++){const p=r[g];h!==null&&p.is(h)&&(d=h=h.getPreviousSibling());const _=p.getWritable();_.__parent===a&&f--,Jt(_);const b=p.__key;if(h===null)i.__first=b,_.__prev=null;else{const m=h.getWritable();m.__next=b,_.__prev=m.__key}p.__key===a&&A(76),_.__parent=a,l.push(b),h=p}if(e+t===s)h!==null&&(h.getWritable().__next=null,i.__last=h.__key);else if(c!==null){const g=c.getWritable();if(h!==null){const p=h.getWritable();g.__prev=h.__key,p.__next=c.__key}else g.__prev=null}if(i.__size=f,u.length){const g=O();if(k(g)){const p=new Set(u),_=new Set(l),{anchor:b,focus:m}=g;va(b,p,_)&&Qr(b,b.getNode(),this,d,c),va(m,p,_)&&Qr(m,m.getNode(),this,d,c),f!==0||this.canBeEmpty()||le(this)||this.remove()}}return i}getDOMSlot(e){return new Gn(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(ee(t)){const r=this.getIndent();r>0&&(t.style.paddingInlineStart=40*r+"px");const o=this.getDirection();o&&(t.dir=o)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),r=this.getTextStyle();return t!==0&&(e.textFormat=t),r!==""&&(e.textStyle=r),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const r=this.getDOMSlot(e);let o=r.getFirstChild();for(let s=this.getFirstChild();s;s=s.getNextSibling()){const i=t.getElementByKey(s.getKey());i!==null&&(o==null?(r.insertChild(i),o=i):o!==i&&r.replaceChild(i,o),o=o.nextSibling)}}}function E(n){return n instanceof Me}function va(n,e,t){let r=n.getNode();for(;r;){const o=r.__key;if(e.has(o)&&!t.has(o))return!0;r=r.getParent()}return!1}class Vu extends mo{decorate(e,t){A(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function q(n){return n instanceof Vu}class fr extends Me{static getType(){return"root"}static clone(){return new fr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){A(51)}getTextContent(){const e=this.__cachedText;return!dr()&&ne()._dirtyType!==Yt||e===null?super.getTextContent():e}remove(){A(52)}replace(e){A(53)}insertBefore(e){A(54)}insertAfter(e){A(55)}updateDOM(e,t){return!1}splice(e,t,r){for(const o of r)E(o)||q(o)||A(282);return super.splice(e,t,r)}static importJSON(e){return re().updateFromJSON(e)}collapseAtStart(){return!0}}function ve(n){return n instanceof fr}function Gu(n){return new yo(new Map(n._nodeMap))}function ci(){return new yo(new Map([["root",new fr]]))}function Yu(n){const e=n.exportJSON(),t=n.constructor;if(e.type!==t.getType()&&A(130,t.name),E(n)){const r=e.children;Array.isArray(r)||A(59,t.name);const o=n.getChildren();for(let s=0;s<o.length;s++){const i=Yu(o[s]);r.push(i)}}return e}class yo{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,t){return ya(t&&t.editor||null,this,e)}clone(e){const t=new yo(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return ya(null,this,()=>({root:Yu(re())}))}}const lg="historic",Mr="history-merge",ug="paste",Zu="collaboration",cg="skip-scroll-into-view",dg="skip-dom-selection";class di extends Me{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class gr extends Me{static getType(){return"paragraph"}static clone(e){return new gr(e.__key)}createDOM(e){const t=document.createElement("p"),r=Sn(e.theme,"paragraph");return r!==void 0&&t.classList.add(...r),t}updateDOM(e,t,r){return!1}static importDOM(){return{p:e=>({conversion:fg,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ee(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r)}return{element:t}}static importJSON(e){return Q().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const r=Q();r.setTextFormat(e.format),r.setTextStyle(e.style);const o=this.getDirection();return r.setDirection(o),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,t),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||I(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function fg(n){const e=Q();return n.style&&(e.setFormat(n.style.textAlign),Si(n,e)),{node:e}}function Q(){return Se(new gr)}function bo(n){return n instanceof gr}const G=0,Te=1,gg=4;function Xu(n,e,t,r){const o=n._keyToDOMMap;o.clear(),n._editorState=ci(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=Yt,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const s=n._observer;s!==null&&(s.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",o.set("root",t))}function hg(n){const e=n||{},t=ig(),r=e.theme||{},o=n===void 0?t:e.parentEditor||null,s=e.disableEvents||!1,i=ci(),a=e.namespace||(o!==null?o._config.namespace:oc()),l=e.editorState,u=[fr,vt,ur,cr,gr,di,...e.nodes||[]],{onError:c,html:d}=e,f=e.editable===void 0||e.editable;let h;if(n===void 0&&t!==null)h=t._nodes;else{h=new Map;for(let p=0;p<u.length;p++){let _=u[p],b=null,m=null;if(typeof _!="function"){const v=_;_=v.replace,b=v.with,m=v.withKlass||null}const y=_.getType(),x=_.transform(),S=new Set;x!==null&&S.add(x),h.set(y,{exportDOM:d&&d.export?d.export.get(_):void 0,klass:_,replace:b,replaceWithKlass:m,transforms:S})}}const g=new xo(i,o,h,{disableEvents:s,namespace:a,theme:r},c||console.error,function(p,_){const b=new Map,m=new Set,y=x=>{Object.keys(x).forEach(S=>{let v=b.get(S);v===void 0&&(v=[],b.set(S,v)),v.push(x[S])})};return p.forEach(x=>{const S=x.klass.importDOM;if(S==null||m.has(S))return;m.add(S);const v=S.call(x.klass);v!==null&&y(v)}),_&&y(_),b}(h,d?d.import:void 0),f,n);return l!==void 0&&(g._pendingEditorState=l,g._dirtyType=En),g}class xo{constructor(e,t,r,o,s,i,a,l){this._createEditorArgs=l,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=Yt,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=oc(),this._onError=s,this._htmlConversions=i,this._editable=a,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,r){r===void 0&&A(35);const o=this._commands;o.has(e)||o.set(e,[new Set,new Set,new Set,new Set,new Set]);const s=o.get(e);s===void 0&&A(36,String(e));const i=s[r];return i.add(t),()=>{i.delete(t),s.every(a=>a.size===0)&&o.delete(e)}}registerMutationListener(e,t,r){const o=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,s=this._listeners.mutation;s.set(t,o);const i=r&&r.skipInitialization;return i!==void 0&&i||this.initializeMutationListener(t,o),()=>{s.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return t===void 0&&A(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const r=this._editorState,o=Fa(r).get(t.getType());if(!o)return;const s=new Map;for(const i of o.keys())s.set(i,"created");s.size>0&&e(s,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const r=this.getRegisteredNode(e);return r.transforms.add(t),r}registerNodeTransform(e,t){const r=this.registerNodeTransformToKlass(e,t),o=[r],s=r.replaceWithKlass;if(s!=null){const i=this.registerNodeTransformToKlass(s,t);o.push(i)}return function(i,a){const l=Fa(i.getEditorState()),u=[];for(const c of a){const d=l.get(c);d&&u.push(d)}u.length!==0&&i.update(()=>{for(const c of u)for(const d of c.keys()){const f=te(d);f&&f.markDirty()}},i._pendingEditorState===null?{tag:Mr}:void 0)}(this,o.map(i=>i.klass.getType())),()=>{o.forEach(i=>i.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return L(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const r=Sn(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=e,Xu(this,t,e,o),t!==null&&(this._config.disableEvents||Gf(t),r!=null&&t.classList.remove(...r)),e!==null){const s=bi(e),i=e.style;i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=s,this._dirtyType=En,du(this),this._updateTags.add(Mr),yt(this),this._config.disableEvents||function(a,l){const u=a.ownerDocument,c=Zr.get(u);(c===void 0||c<1)&&u.addEventListener("selectionchange",Du),Zr.set(u,(c||0)+1),a.__lexicalEditor=l;const d=Mu(a);for(let f=0;f<gs.length;f++){const[h,g]=gs[f],p=typeof g=="function"?_=>{na(_)||(ta(_),(l.isEditable()||h==="click")&&g(_,l))}:_=>{if(na(_))return;ta(_);const b=l.isEditable();switch(h){case"cut":return b&&L(l,ri,_);case"copy":return L(l,po,_);case"paste":return b&&L(l,ho,_);case"dragstart":return b&&L(l,Nu,_);case"dragover":return b&&L(l,Au,_);case"dragend":return b&&L(l,Hf,_);case"focus":return b&&L(l,Jf,_);case"blur":return b&&L(l,qf,_);case"drop":return b&&L(l,ku,_)}};a.addEventListener(h,p),d.push(()=>{a.removeEventListener(h,p)})}}(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(Mr),yt(this);Vn("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&A(38);let r=e;r._readOnly&&(r=Gu(e),r._selection=e._selection?e._selection.clone():null),cu(this);const o=this._pendingEditorState,s=this._updateTags,i=t!==void 0?t.tag:null;o===null||o.isEmpty()||(i!=null&&s.add(i),yt(this)),this._pendingEditorState=r,this._dirtyType=En,this._dirtyElements.set("root",!1),this._compositionKey=null,i!=null&&s.add(i),this._updating||yt(this)}parseEditorState(e,t){return function(r,o,s){const i=ci(),a=ce,l=Ae,u=de,c=o._dirtyElements,d=o._dirtyLeaves,f=o._cloneNotNeeded,h=o._dirtyType;o._dirtyElements=new Map,o._dirtyLeaves=new Set,o._cloneNotNeeded=new Set,o._dirtyType=0,ce=i,Ae=!1,de=o;try{const g=o._nodes;li(r.root,g),s&&s(),i._readOnly=!0}catch(g){g instanceof Error&&o._onError(g)}finally{o._dirtyElements=c,o._dirtyLeaves=d,o._cloneNotNeeded=f,o._dirtyType=h,ce=a,Ae=l,de=u}return i}(typeof e=="string"?JSON.parse(e):e,this,t)}read(e){return yt(this),this.getEditorState().read(e,{editor:this})}update(e,t){(function(r,o,s){r._updating?r._updates.push([o,s]):ui(r,o,s)})(this,e,t)}focus(e,t={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),Le(this,()=>{const o=O(),s=re();o!==null?o.dirty||fe(o.clone()):s.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?s.selectStart():s.selectEnd()),vg("focus"),Sg(()=>{r.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const t=Xe(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Vn("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}xo.version="0.31.2+prod.esm";let pg=1;const mg=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function Sa(n){return q(Lt(n))}function fi(n){const e=document.activeElement;if(!ee(e))return!1;const t=e.nodeName;return q(Lt(n))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&vo(e)==null)}function hr(n,e,t){const r=n.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(t)&&e!==null&&!fi(e)&&Qu(e)===n}catch{return!1}}function gi(n){return n instanceof xo}function Qu(n){let e=n;for(;e!=null;){const t=vo(e);if(gi(t))return t;e=pr(e)}return null}function vo(n){return n?n.__lexicalEditor:null}function mn(n){return n.isToken()||n.isSegmented()}function St(n){return Ln(n)&&n.nodeType===_f}function _g(n){return Ln(n)&&n.nodeType===yf}function An(n){let e=n;for(;e!=null;){if(St(e))return e;e=e.firstChild}return null}function eo(n,e,t){const r=Zt[e];if(t!==null&&(n&r)==(t&r))return n;let o=n^r;return e==="subscript"?o&=-65:e==="superscript"?o&=-33:e==="lowercase"?(o&=-513,o&=-1025):e==="uppercase"?(o&=-257,o&=-1025):e==="capitalize"&&(o&=-257,o&=-513),o}function hi(n){return I(n)||X(n)||q(n)}function yg(n,e){if(e!=null)return void(n.__key=e);xe(),Hu();const t=ne(),r=$t(),o=""+pg++;r._nodeMap.set(o,n),E(n)?t._dirtyElements.set(o,!0):t._dirtyLeaves.add(o),t._cloneNotNeeded.add(o),t._dirtyType=su,n.__key=o}function Jt(n){const e=n.getParent();if(e!==null){const t=n.getWritable(),r=e.getWritable(),o=n.getPreviousSibling(),s=n.getNextSibling(),i=s!==null?s.__key:null,a=o!==null?o.__key:null,l=o!==null?o.getWritable():null,u=s!==null?s.getWritable():null;o===null&&(r.__first=i),s===null&&(r.__last=a),l!==null&&(l.__next=i),u!==null&&(u.__prev=a),t.__prev=null,t.__next=null,t.__parent=null,r.__size--}}function to(n){Hu();const e=n.getLatest(),t=e.__parent,r=$t(),o=ne(),s=r._nodeMap,i=o._dirtyElements;t!==null&&function(l,u,c){let d=l;for(;d!==null;){if(c.has(d))return;const f=u.get(d);if(f===void 0)break;c.set(d,!1),d=f.__parent}}(t,s,i);const a=e.__key;o._dirtyType=su,E(n)?i.set(a,!0):o._dirtyLeaves.add(a)}function me(n){xe();const e=ne(),t=e._compositionKey;if(n!==t){if(e._compositionKey=n,t!==null){const r=te(t);r!==null&&r.getWritable()}if(n!==null){const r=te(n);r!==null&&r.getWritable()}}}function Et(){return dr()?null:ne()._compositionKey}function te(n,e){const t=(e||$t())._nodeMap.get(n);return t===void 0?null:t}function ec(n,e){const t=So(n,ne());return t!==void 0?te(t,e):null}function So(n,e){return n[`__lexicalKey_${e._key}`]}function Lt(n,e){let t=n;for(;t!=null;){const r=ec(t,e);if(r!==null)return r;t=pr(t)}return null}function tc(n){const e=n._decorators,t=Object.assign({},e);return n._pendingDecorators=t,t}function Ca(n){return n.read(()=>re().getTextContent())}function re(){return nc($t())}function nc(n){return n._nodeMap.get("root")}function fe(n){xe();const e=$t();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),e._selection=n}function yn(n){const e=ne(),t=function(r,o){let s=r;for(;s!=null;){const i=So(s,o);if(i!==void 0)return i;s=pr(s)}return null}(n,e);return t===null?n===e.getRootElement()?te("root"):null:te(t)}function wa(n,e){return e?n.getTextContentSize():0}function rc(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function pi(n){const e=[];let t=n;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function oc(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function sc(n){return St(n)?n.nodeValue:null}function mi(n,e,t){const r=Xe(He(e));if(r===null)return;const o=r.anchorNode;let{anchorOffset:s,focusOffset:i}=r;if(o!==null){let a=sc(o);const l=Lt(o);if(a!==null&&I(l)){if(a===co&&t){const u=t.length;a=t,s=u,i=u}a!==null&&_i(l,a,s,i,n)}}}function _i(n,e,t,r,o){let s=n;if(s.isAttached()&&(o||!s.isDirty())){const i=s.isComposing();let a=e;(i||o)&&e[e.length-1]===co&&(a=e.slice(0,-1));const l=s.getTextContent();if(o||a!==l){if(a===""){if(me(null),Xn||Tn||Wr)s.remove();else{const p=ne();setTimeout(()=>{p.update(()=>{s.isAttached()&&s.remove()})},20)}return}const u=s.getParent(),c=un(),d=s.getTextContentSize(),f=Et(),h=s.getKey();if(s.isToken()||f!==null&&h===f&&!i||k(c)&&(u!==null&&!u.canInsertTextBefore()&&c.anchor.offset===0||c.anchor.key===n.__key&&c.anchor.offset===0&&!s.canInsertTextBefore()&&!i||c.focus.key===n.__key&&c.focus.offset===d&&!s.canInsertTextAfter()&&!i))return void s.markDirty();const g=O();if(!k(g)||t===null||r===null)return void s.setTextContent(a);if(g.setTextNodeRange(s,t,s,r),s.isSegmented()){const p=oe(s.getTextContent());s.replace(p),s=p}s.setTextContent(a)}}}function kr(n,e,t){const r=e[t]||!1;return r==="any"||r===n[t]}function bg(n,e){return kr(n,e,"altKey")&&kr(n,e,"ctrlKey")&&kr(n,e,"shiftKey")&&kr(n,e,"metaKey")}function Y(n,e,t){return bg(n,t)&&n.key.toLowerCase()===e.toLowerCase()}const mt={ctrlKey:!st,metaKey:st},Ta={altKey:st,ctrlKey:!st};function Ea(n){return n.key==="Backspace"}function ka(n){return Y(n,"a",mt)}function xg(n){const e=re();if(k(n)){const t=n.anchor,r=n.focus,o=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(o.getKey(),0,"element"),r.set(o.getKey(),o.getChildrenSize(),"element"),kn(n),n}{const t=e.select(0,e.getChildrenSize());return fe(kn(t)),t}}function Sn(n,e){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const t=n.__lexicalClassNameCache,r=t[e];if(r!==void 0)return r;const o=n[e];if(typeof o=="string"){const s=Kr(o);return t[e]=s,s}return o}function yi(n,e,t,r,o){if(t.size===0)return;const s=r.__type,i=r.__key,a=e.get(s);a===void 0&&A(33,s);const l=a.klass;let u=n.get(l);u===void 0&&(u=new Map,n.set(l,u));const c=u.get(i),d=c==="destroyed"&&o==="created";(c===void 0||d)&&u.set(i,d?"updated":o)}function Na(n,e,t){const r=n.getParent();let o=t,s=n;return r!==null&&(e&&t===0?(o=s.getIndexWithinParent(),s=r):e||t!==s.getChildrenSize()||(o=s.getIndexWithinParent()+1,s=r)),s.getChildAtIndex(e?o-1:o)}function bs(n,e){const t=n.offset;if(n.type==="element")return Na(n.getNode(),e,t);{const r=n.getNode();if(e&&t===0||!e&&t===r.getTextContentSize()){const o=e?r.getPreviousSibling():r.getNextSibling();return o===null?Na(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):o}}return null}function ic(n){const e=He(n).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function L(n,e,t){return function(r,o,s){const i=pi(r);for(let a=4;a>=0;a--)for(let l=0;l<i.length;l++){const u=i[l],c=u._commands.get(o);if(c!==void 0){const d=c[a];if(d!==void 0){const f=Array.from(d),h=f.length;let g=!1;if(Le(u,()=>{for(let p=0;p<h;p++)if(f[p](s,r))return void(g=!0)}),g)return g}}}return!1}(n,e,t)}function Co(n){return!ve(n)&&!n.isLastChild()&&!n.isInline()}function Fn(n,e){const t=n._keyToDOMMap.get(e);return t===void 0&&A(75,e),t}function pr(n){const e=n.assignedSlot||n.parentElement;return vs(e)?e.host:e}function ac(n){return _g(n)?n:ee(n)?n.ownerDocument:null}function vg(n){xe(),ne()._updateTags.add(n)}function Sg(n){xe(),ne()._deferred.push(n)}function no(n,e){let t=n.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function bi(n){const e=ac(n);return e?e.defaultView:null}function He(n){const e=n._window;return e===null&&A(78),e}function Cg(n){return E(n)&&n.isInline()||q(n)&&n.isInline()}function wg(n){let e=n.getParentOrThrow();for(;e!==null;){if(le(e))return e;e=e.getParentOrThrow()}return e}function le(n){return ve(n)||E(n)&&n.isShadowRoot()}function Se(n){const e=ne(),t=n.constructor.getType(),r=e._nodes.get(t);r===void 0&&A(200,n.constructor.name,t);const{replace:o,replaceWithKlass:s}=r;if(o!==null){const i=o(n),a=i.constructor;return s!==null?i instanceof s||A(201,s.name,s.getType(),a.name,a.getType(),n.constructor.name,t):i instanceof n.constructor&&a!==n.constructor||A(202,a.name,a.getType(),n.constructor.name,t),i.__key===n.__key&&A(203,n.constructor.name,t,a.name,a.getType()),i}return n}function Wo(n,e){!ve(n.getParent())||E(e)||q(e)||A(99)}function Tg(n){const e=te(n);return e===null&&A(63,n),e}function Ko(n){return(q(n)||E(n)&&!n.canBeEmpty())&&!n.isInline()}function xs(n,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=n.parentElement;r!==null&&r.removeChild(n)}function Xe(n){return et?(n||window).getSelection():null}function Eg(n){const e=bi(n);return e?e.getSelection():null}function lc(n){return ee(n)&&n.tagName==="A"}function ee(n){return Ln(n)&&n.nodeType===mf}function Ln(n){return typeof n=="object"&&n!==null&&"nodeType"in n&&typeof n.nodeType=="number"}function vs(n){return Ln(n)&&n.nodeType===bf}function Ss(n){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(e)!==null}function ro(n){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(e)!==null}function wt(n){if(q(n)&&!n.isInline())return!0;if(!E(n)||le(n))return!1;const e=n.getFirstChild(),t=e===null||X(e)||I(e)||e.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&t}function Uo(n,e){let t=n;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function xi(){return ne()}const Aa=new WeakMap,kg=new Map;function Fa(n){if(!n._readOnly&&n.isEmpty())return kg;n._readOnly||A(192);let e=Aa.get(n);return e||(e=function(t){const r=new Map;for(const[o,s]of t._nodeMap){const i=s.__type;let a=r.get(i);a||(a=new Map,r.set(i,a)),a.set(o,s)}return r}(n),Aa.set(n,e)),e}function vi(n){const e=n.constructor.clone(n);return e.afterCloneFrom(n),e}function Si(n,e){const t=parseInt(n.style.paddingInlineStart,10)||0,r=Math.round(t/40);e.setIndent(r)}function Ng(n){n.__lexicalUnmanaged=!0}function Ag(n){return n.__lexicalUnmanaged===!0}const Fg={next:"previous",previous:"next"};class Ci{constructor(e){this.origin=e}[Symbol.iterator](){return Ni({hasNext:tn,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return be(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return be(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,t)),this}splice(e,t,r="next"){const o=r===this.direction?t:Array.from(t).reverse();let s=this;const i=this.getParentAtCaret(),a=new Map;for(let l=s.getAdjacentCaret();l!==null&&a.size<e;l=l.getAdjacentCaret()){const u=l.origin.getWritable();a.set(u.getKey(),u)}for(const l of o){if(a.size>0){const u=s.getNodeAtCaret();if(u){if(a.delete(u.getKey()),a.delete(l.getKey()),!(u.is(l)||s.origin.is(l))){const c=l.getParent();c&&c.is(i)&&l.remove(),u.replace(l)}}else u===null&&A(263,Array.from(a).join(" "))}else s.insert(l);s=be(l,this.direction)}for(const l of a.values())l.remove();return this}}class sr extends Ci{constructor(){super(...arguments);Be(this,"type","child")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Qe(t,this.direction)}getParentCaret(t="root"){return be(wi(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=Pn(this.direction);return be(this.getNodeAtCaret(),t)||Qe(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof sr&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const Og={root:ve,shadowRoot:le};function Pn(n){return Fg[n]}function wi(n,e="root"){return Og[e](n)?null:n}class Qt extends Ci{constructor(){super(...arguments);Be(this,"type","sibling")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:be(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return E(this.origin)?Qe(this.origin,this.direction):null}getParentCaret(t="root"){return be(wi(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=Pn(this.direction);return be(this.getNodeAtCaret(),t)||Qe(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof Qt&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof Qt||t instanceof en)&&this.direction===t.direction&&this.origin.is(t.origin)}}class en extends Ci{constructor(t,r){super(t);Be(this,"type","text");this.offset=r}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:nn(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return be(wi(this.getParentAtCaret(),t),this.direction)}getFlipped(){return nn(this.origin,Pn(this.direction),this.offset)}isSamePointCaret(t){return t instanceof en&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof Qt||t instanceof en)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return be(this.origin,this.direction)}}function qt(n){return n instanceof en}function tn(n){return n instanceof Qt}function ut(n){return n instanceof sr}const Ig={next:class extends en{constructor(){super(...arguments);Be(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends en{constructor(){super(...arguments);Be(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Lg={next:class extends Qt{constructor(){super(...arguments);Be(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Qt{constructor(){super(...arguments);Be(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Pg={next:class extends sr{constructor(){super(...arguments);Be(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends sr{constructor(){super(...arguments);Be(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function be(n,e){return n?new Lg[e](n):null}function nn(n,e,t){return n?new Ig[e](n,wo(n,t)):null}function wo(n,e){const t=n.getTextContentSize();let r=e==="next"?t:e==="previous"?0:e;return(r<0||r>t)&&(function(o,...s){const i=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;a.append("code",o);for(const l of s)a.append("v",l);i.search=a.toString(),console.warn(`Minified Lexical warning #${o}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(e),String(t),n.getKey()),r=r<0?0:t),r}function Oa(n,e){return new Mg(n,e)}function Qe(n,e){return E(n)?new Pg[e](n):null}function $g(n){return n&&n.getChildCaret()||n}function Ti(n){return n&&$g(n.getAdjacentCaret())}class Ei{constructor(e,t,r){Be(this,"type","node-caret-range");this.anchor=e,this.focus=t,this.direction=r}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new Ei(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=o=>{const s=this[o].getLatest();return qt(s)?function(i,a){const{direction:l,origin:u}=i,c=wo(u,a==="focus"?Pn(l):l);return Oa(i,c-i.offset)}(s,o):null},t=e("anchor"),r=e("focus");if(t&&r){const{caret:o}=t,{caret:s}=r;if(o.isSameNodeCaret(s))return[Oa(o,s.offset-o.offset),null]}return[t,r]}iterNodeCarets(e="root"){const t=qt(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),o=qt(r),s=i=>i.isSameNodeCaret(r)?null:Ti(i)||i.getParentCaret(e);return Ni({hasNext:i=>i!==null&&!(o&&r.isSameNodeCaret(i)),initial:t.isSameNodeCaret(r)?null:s(t),map:i=>i,step:s})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class Mg{constructor(e,t){Be(this,"type","slice");this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,r=t+e;return r<t?[r,t]:[t,r]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[r,o]=this.getSliceIndices(),s=e.getTextContent();return nn(e.setTextContent(s.slice(0,r)+s.slice(o)),t,r)}}function ki(n){return rn(n,be(re(),n.direction))}function Dg(n){return rn(n,n)}function rn(n,e){return n.direction!==e.direction&&A(265),new Ei(n,e,n.direction)}function Ni(n){const{initial:e,hasNext:t,step:r,map:o}=n;let s=e;return{[Symbol.iterator](){return this},next(){if(!t(s))return{done:!0,value:void 0};const i={done:!1,value:o(s)};return s=r(s),i}}}function uc(n,e){const t=Dr(n.origin,e.origin);switch(t===null&&A(275,n.origin.getKey(),e.origin.getKey()),t.type){case"same":{const r=n.type==="text",o=e.type==="text";return r&&o?function(s,i){return Math.sign(s-i)}(n.offset,e.offset):n.type===e.type?0:r?-1:o?1:n.type==="child"?-1:1}case"ancestor":return n.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return cc(t)}}function cc(n){const{a:e,b:t}=n,r=e.__key,o=t.__key;let s=e,i=t;for(;s&&i;s=s.getNextSibling(),i=i.getNextSibling()){if(s.__key===o)return-1;if(i.__key===r)return 1}return s===null?1:-1}function Nr(n,e){return e.is(n)}function Ia(n){return E(n)?[n.getLatest(),null]:[n.getParent(),n.getLatest()]}function Dr(n,e){if(n.is(e))return{commonAncestor:n,type:"same"};const t=new Map;for(let[r,o]=Ia(n);r;o=r,r=r.getParent())t.set(r,o);for(let[r,o]=Ia(e);r;o=r,r=r.getParent()){const s=t.get(r);if(s!==void 0)return s===null?(Nr(n,r)||A(276),{commonAncestor:r,type:"ancestor"}):o===null?(Nr(e,r)||A(277),{commonAncestor:r,type:"descendant"}):((E(s)||Nr(n,s))&&(E(o)||Nr(e,o))&&r.is(s.getParent())&&r.is(o.getParent())||A(278),{a:s,b:o,commonAncestor:r,type:"branch"})}return null}function Pt(n,e){const{type:t,key:r,offset:o}=n,s=Tg(n.key);return t==="text"?(I(s)||A(266,s.getType(),r),nn(s,e,o)):(E(s)||A(267,s.getType(),r),Bg(s,n.offset,e))}function on(n,e){const{origin:t,direction:r}=e,o=r==="next";qt(e)?n.set(t.getKey(),e.offset,"text"):tn(e)?I(t)?n.set(t.getKey(),wo(t,r),"text"):n.set(t.getParentOrThrow().getKey(),t.getIndexWithinParent()+(o?1:0),"element"):(ut(e)&&E(t)||A(268),n.set(t.getKey(),o?0:t.getChildrenSize(),"element"))}function Rg(n){const e=O(),t=k(e)?e:si();return Rr(t,n),fe(t),t}function Rr(n,e){on(n.anchor,e.anchor),on(n.focus,e.focus)}function La(n){const{anchor:e,focus:t}=n,r=Pt(e,"next"),o=Pt(t,"next"),s=uc(r,o)<=0?"next":"previous";return rn(On(r,s),On(o,s))}function Ai(n){const{direction:e,origin:t}=n,r=be(t,Pn(e)).getNodeAtCaret();return r?be(r,e):Qe(t.getParentOrThrow(),e)}function Pa(n,e="root"){const t=[n];for(let r=ut(n)?n.getParentCaret(e):n.getSiblingCaret();r!==null;r=r.getParentCaret(e))t.push(Ai(r));return t}function jo(n){return!!n&&n.origin.isAttached()}function zg(n,e="removeEmptySlices"){if(n.isCollapsed())return n;const t="root",r="next";let o=e;const s=fc(n,r),i=Pa(s.anchor,t),a=Pa(s.focus.getFlipped(),t),l=new Set,u=[];for(const g of s.iterNodeCarets(t))if(ut(g))l.add(g.origin.getKey());else if(tn(g)){const{origin:p}=g;E(p)&&!l.has(p.getKey())||u.push(p)}for(const g of u)g.remove();for(const g of s.getTextSlices()){if(!g)continue;const{origin:p}=g.caret,_=p.getTextContentSize(),b=Ai(be(p,r)),m=p.getMode();if(Math.abs(g.distance)===_&&o==="removeEmptySlices"||m==="token"&&g.distance!==0)b.remove();else if(g.distance!==0){o="removeEmptySlices";let y=g.removeTextSlice();const x=g.caret.origin;if(m==="segmented"){const S=y.origin,v=oe(S.getTextContent()).setStyle(S.getStyle()).setFormat(S.getFormat());b.replaceOrInsert(v),y=nn(v,r,y.offset)}x.is(i[0].origin)&&(i[0]=y),x.is(a[0].origin)&&(a[0]=y.getFlipped())}}let c,d;for(const g of i)if(jo(g)){c=Ue(g);break}for(const g of a)if(jo(g)){d=Ue(g);break}const f=function(g,p,_){if(!g||!p)return null;const b=g.getParentAtCaret(),m=p.getParentAtCaret();if(!b||!m)return null;const y=b.getParents().reverse();y.push(b);const x=m.getParents().reverse();x.push(m);const S=Math.min(y.length,x.length);let v;for(v=0;v<S&&y[v]===x[v];v++);const w=(F,P)=>{let R;for(let U=v;U<F.length;U++){const B=F[U];if(le(B))return;!R&&P(B)&&(R=B)}return R},T=w(y,wt),C=T&&w(x,F=>_.has(F.getKey())&&wt(F));return T&&C?[T,C]:null}(c,d,l);if(f){const[g,p]=f;Qe(g,"previous").splice(0,p.getChildren()),p.remove()}const h=[c,d,...i,...a].find(jo);if(h)return Dg(On(Ue(h),n.direction));A(269,JSON.stringify(i.map(g=>g.origin.__key)))}function Ue(n){const e=function(o){let s=o;for(;ut(s);){const i=Ti(s);if(!ut(i))break;s=i}return s}(n.getLatest()),{direction:t}=e;if(I(e.origin))return qt(e)?e:nn(e.origin,t,t);const r=e.getAdjacentCaret();return tn(r)&&I(r.origin)?nn(r.origin,t,Pn(t)):e}function dc(n){return qt(n)&&n.offset!==wo(n.origin,n.direction)}function On(n,e){return n.direction===e?n:n.getFlipped()}function fc(n,e){return n.direction===e?n:rn(On(n.focus,e),On(n.anchor,e))}function Bg(n,e,t){let r=Qe(n,"next");for(let o=0;o<e;o++){const s=r.getAdjacentCaret();if(s===null)break;r=s}return On(r,t)}const gc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Wg=gc?N.useLayoutEffect:N.useEffect,Ar={tag:Mr};function Kg({initialConfig:n,children:e}){const t=N.useMemo(()=>{const{theme:r,namespace:o,nodes:s,onError:i,editorState:a,html:l}=n,u=gf(null,r),c=hg({editable:n.editable,html:l,namespace:o,nodes:s,onError:d=>i(d,c),theme:r});return function(d,f){if(f!==null){if(f===void 0)d.update(()=>{const h=re();if(h.isEmpty()){const g=Q();h.append(g);const p=gc?document.activeElement:null;(O()!==null||p!==null&&p===d.getRootElement())&&g.select()}},Ar);else if(f!==null)switch(typeof f){case"string":{const h=d.parseEditorState(f);d.setEditorState(h,Ar);break}case"object":d.setEditorState(f,Ar);break;case"function":d.update(()=>{re().isEmpty()&&f(d)},Ar)}}}(c,a),[c,u]},[]);return Wg(()=>{const r=n.editable,[o]=t;o.setEditable(r===void 0||r)},[]),M.jsx(ru.Provider,{value:t,children:e})}function Ug(){return re().getTextContent()}function hc(n,e=!0){if(n)return!1;let t=Ug();return e&&(t=t.trim()),t===""}function jg(n){if(!hc(n,!1))return!1;const e=re().getChildren(),t=e.length;if(t>1)return!1;for(let r=0;r<t;r++){const o=e[r];if(q(o))return!1;if(E(o)){if(!bo(o)||o.__indent!==0)return!1;const s=o.getChildren(),i=s.length;for(let a=0;a<i;a++){const l=s[r];if(!I(l))return!1}}}return!0}function pc(n){return()=>jg(n)}function mc(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Cs=new Map;function _c(n){const e={};if(!n)return e;const t=n.split(";");for(const r of t)if(r!==""){const[o,s]=r.split(/:([^]+)/);o&&s&&(e[o.trim()]=s.trim())}return e}function $a(n){let e=Cs.get(n);return e===void 0&&(e=_c(n),Cs.set(n,e)),e}function yc(n,e){const t=n.getStartEndPoints();if(e.isSelected(n)&&!e.isSegmented()&&!e.isToken()&&t!==null){const[r,o]=t,s=n.isBackward(),i=r.getNode(),a=o.getNode(),l=e.is(i),u=e.is(a);if(l||u){const[c,d]=_s(n),f=i.is(a),h=e.is(s?a:i),g=e.is(s?i:a);let p,_=0;return f?(_=c>d?d:c,p=c>d?c:d):h?(_=s?d:c,p=void 0):g&&(_=0,p=s?c:d),e.__text=e.__text.slice(_,p),e}}return e}function Ma(n){if(n.type==="text")return n.offset===n.getNode().getTextContentSize();const e=n.getNode();return E(e)||mc(177),n.offset===e.getChildrenSize()}function Hg(n){const e=n.getStyle(),t=_c(e);Cs.set(e,t)}function Da(n){return n.getNode().isAttached()}function Jg(n){let e=n;for(;e!==null&&!le(e);){const t=e.getLatest(),r=e.getParent();t.getChildrenSize()===0&&e.remove(!0),e=r}}function qg(n,e,t=null){const r=n.getStartEndPoints(),o=r?r[0]:null,s=n.getNodes(),i=s.length;if(o!==null&&(i===0||i===1&&o.type==="element"&&o.getNode().getChildrenSize()===0)){const u=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),c=u.getChildren();let d=e();return d.setFormat(u.getFormatType()),d.setIndent(u.getIndent()),c.forEach(f=>d.append(f)),t&&(d=t.append(d)),void u.replace(d)}let a=null,l=[];for(let u=0;u<i;u++){const c=s[u];le(c)?(Ho(n,l,l.length,e,t),l=[],a=c):a===null||a!==null&&no(c,a)?l.push(c):(Ho(n,l,l.length,e,t),l=[c])}Ho(n,l,l.length,e,t)}function Ho(n,e,t,r,o=null){if(e.length===0)return;const s=e[0],i=new Map,a=[];let l=E(s)?s:s.getParentOrThrow();l.isInline()&&(l=l.getParentOrThrow());let u=!1;for(;l!==null;){const g=l.getPreviousSibling();if(g!==null){l=g,u=!0;break}if(l=l.getParentOrThrow(),le(l))break}const c=new Set;for(let g=0;g<t;g++){const p=e[g];E(p)&&p.getChildrenSize()===0&&c.add(p.getKey())}const d=new Set;for(let g=0;g<t;g++){const p=e[g];let _=p.getParent();if(_!==null&&_.isInline()&&(_=_.getParent()),_!==null&&hi(p)&&!d.has(p.getKey())){const b=_.getKey();if(i.get(b)===void 0){const m=r();m.setFormat(_.getFormatType()),m.setIndent(_.getIndent()),a.push(m),i.set(b,m),_.getChildren().forEach(y=>{m.append(y),d.add(y.getKey()),E(y)&&y.getChildrenKeys().forEach(x=>d.add(x))}),Jg(_)}}else if(c.has(p.getKey())){E(p)||mc(179);const b=r();b.setFormat(p.getFormatType()),b.setIndent(p.getIndent()),a.push(b),p.remove(!0)}}if(o!==null)for(let g=0;g<a.length;g++){const p=a[g];o.append(p)}let f=null;if(le(l))if(u)if(o!==null)l.insertAfter(o);else for(let g=a.length-1;g>=0;g--){const p=a[g];l.insertAfter(p)}else{const g=l.getFirstChild();if(E(g)&&(l=g),g===null)if(o)l.append(o);else for(let p=0;p<a.length;p++){const _=a[p];l.append(_),f=_}else if(o!==null)g.insertBefore(o);else for(let p=0;p<a.length;p++){const _=a[p];g.insertBefore(_),f=_}}else if(o)l.insertAfter(o);else for(let g=a.length-1;g>=0;g--){const p=a[g];l.insertAfter(p),f=p}const h=un();k(h)&&Da(h.anchor)&&Da(h.focus)?fe(h.clone()):f!==null?f.selectEnd():n.dirty=!0}function bc(n){const e=n.anchor.getNode(),t=ve(e)?e:e.getParentOrThrow(),r=xi().getElementByKey(t.getKey());if(r===null)return!1;const o=r.ownerDocument.defaultView;return o===null?!1:o.getComputedStyle(r).writingMode==="vertical-rl"}function Ra(n,e){const t=bc(n)?!e:e,r=Pt(n.focus,t?"previous":"next");if(dc(r))return!1;for(const o of ki(r)){if(ut(o))return!o.origin.isInline();if(!E(o.origin)){if(q(o.origin))return!0;break}}return!1}function Vg(n,e,t,r){n.modify(e?"extend":"move",t,r)}function Gg(n){const e=n.anchor.getNode();return(ve(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function za(n,e,t){const r=Gg(n);let o;o=bc(n)||r?!t:t,Vg(n,e,o,"character")}function Yg(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const xc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Zg=xc&&"documentMode"in document?document.documentMode:null;!(!xc||!("InputEvent"in window)||Zg)&&"getTargetRanges"in new window.InputEvent("input");function vc(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}function dt(...n){return()=>{for(let e=n.length-1;e>=0;e--)n[e]();n.length=0}}function ae(n,...e){const t=vc(...e);t.length>0&&n.classList.add(...t)}function Ft(n,...e){const t=vc(...e);t.length>0&&n.classList.remove(...t)}function Xg(n){return n?n.getAdjacentCaret():null}function Sc(n,e){let t=n;for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null}function Qg(n){const e=Ot(n,t=>E(t)&&!t.isInline());return E(e)||Yg(4,n.__key),e}const Ot=(n,e)=>{let t=n;for(;t!==re()&&t!=null;){if(e(t))return t;t=t.getParent()}return null};function kt(n,e){return n!==null&&Object.getPrototypeOf(n).constructor.name===e.name}function Cc(n,e){const t=[],r=Array.from(n).reverse();for(let o=r.pop();o!==void 0;o=r.pop())if(e(o))t.push(o);else if(E(o))for(const s of eh(o))r.push(s);return t}function eh(n){return th(Qe(n,"previous"))}function th(n){return Ni({hasNext:tn,initial:n.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}const wc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?N.useLayoutEffect:N.useEffect;function nh({editor:n,ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:r,ariaDescribedBy:o,ariaErrorMessage:s,ariaExpanded:i,ariaInvalid:a,ariaLabel:l,ariaLabelledBy:u,ariaMultiline:c,ariaOwns:d,ariaRequired:f,autoCapitalize:h,className:g,id:p,role:_="textbox",spellCheck:b=!0,style:m,tabIndex:y,"data-testid":x,...S},v){const[w,T]=N.useState(n.isEditable()),C=N.useCallback(P=>{P&&P.ownerDocument&&P.ownerDocument.defaultView?n.setRootElement(P):n.setRootElement(null)},[n]),F=N.useMemo(()=>function(...P){return R=>{P.forEach(U=>{typeof U=="function"?U(R):U!=null&&(U.current=R)})}}(v,C),[C,v]);return wc(()=>(T(n.isEditable()),n.registerEditableListener(P=>{T(P)})),[n]),M.jsx("div",{"aria-activedescendant":w?e:void 0,"aria-autocomplete":w?t:"none","aria-controls":w?r:void 0,"aria-describedby":o,...s!=null?{"aria-errormessage":s}:{},"aria-expanded":w&&_==="combobox"?!!i:void 0,...a!=null?{"aria-invalid":a}:{},"aria-label":l,"aria-labelledby":u,"aria-multiline":c,"aria-owns":w?d:void 0,"aria-readonly":!w||void 0,"aria-required":f,autoCapitalize:h,className:g,contentEditable:w,"data-testid":x,id:p,ref:F,role:w?_:void 0,spellCheck:b,style:m,tabIndex:y,...S})}const rh=N.forwardRef(nh);function Ba(n){return n.getEditorState().read(pc(n.isComposing()))}const oh=N.forwardRef(sh);function sh(n,e){const{placeholder:t,...r}=n,[o]=$e();return M.jsxs(M.Fragment,{children:[M.jsx(rh,{editor:o,...r,ref:e}),t!=null&&M.jsx(ih,{editor:o,content:t})]})}function ih({content:n,editor:e}){const t=function(i){const[a,l]=N.useState(()=>Ba(i));return wc(()=>{function u(){const c=Ba(i);l(c)}return u(),dt(i.registerUpdateListener(()=>{u()}),i.registerEditableListener(()=>{u()}))},[i]),a}(e),[r,o]=N.useState(e.isEditable());if(N.useLayoutEffect(()=>(o(e.isEditable()),e.registerEditableListener(i=>{o(i)})),[e]),!t)return null;let s=null;return typeof n=="function"?s=n(r):n!==null&&(s=n),s===null?null:M.jsx("div",{"aria-hidden":!0,children:s})}const ah=new Set(["http:","https:","mailto:","sms:","tel:"]);let $n=class Tc extends Me{static getType(){return"link"}static clone(e){return new Tc(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e="",t={},r){super(r);const{target:o=null,rel:s=null,title:i=null}=t;this.__url=e,this.__target=o,this.__rel=s,this.__title=i}createDOM(e){const t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),this.__target!==null&&(t.target=this.__target),this.__rel!==null&&(t.rel=this.__rel),this.__title!==null&&(t.title=this.__title),ae(t,e.theme.link),t}updateDOM(e,t,r){if(lc(t)){const o=this.__url,s=this.__target,i=this.__rel,a=this.__title;o!==e.__url&&(t.href=o),s!==e.__target&&(s?t.target=s:t.removeAttribute("target")),i!==e.__rel&&(i?t.rel=i:t.removeAttribute("rel")),a!==e.__title&&(a?t.title=a:t.removeAttribute("title"))}return!1}static importDOM(){return{a:e=>({conversion:lh,priority:1})}}static importJSON(e){return In().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){try{const t=new URL(e);if(!ah.has(t.protocol))return"about:blank"}catch{return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){const t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){const t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}insertNewAfter(e,t=!0){const r=In(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,t),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,r){if(!k(t))return!1;const o=t.anchor.getNode(),s=t.focus.getNode();return this.isParentOf(o)&&this.isParentOf(s)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function lh(n){let e=null;if(lc(n)){const t=n.textContent;(t!==null&&t!==""||n.children.length>0)&&(e=In(n.getAttribute("href")||"",{rel:n.getAttribute("rel"),target:n.getAttribute("target"),title:n.getAttribute("title")}))}return{node:e}}function In(n="",e){return Se(new $n(n,e))}function We(n){return n instanceof $n}let Fi=class Ec extends $n{constructor(e="",t={},r){super(e,t,r),this.__isUnlinked=t.isUnlinked!==void 0&&t.isUnlinked!==null&&t.isUnlinked}static getType(){return"autolink"}static clone(e){return new Ec(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,r){return super.updateDOM(e,t,r)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return Wa().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,t=!0){const r=this.getParentOrThrow().insertNewAfter(e,t);if(E(r)){const o=Wa(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return r.append(o),o}return null}};function Wa(n="",e){return Se(new Fi(n,e))}function Un(n){return n instanceof Fi}const ir=z("TOGGLE_LINK_COMMAND");function Ka(n,e){if(n.type==="element"){const t=n.getNode();return E(t)||function(r,...o){const s=new URL("https://lexical.dev/docs/error"),i=new URLSearchParams;i.append("code",r);for(const a of o)i.append("v",a);throw s.search=i.toString(),Error(`Minified Lexical error #${r}; visit ${s.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),t.getChildren()[n.offset+e]||null}return null}function Jo(n,e={}){const{target:t,title:r}=e,o=e.rel===void 0?"noreferrer":e.rel,s=O();if(s===null||!k(s)&&!ue(s))return;if(ue(s)){const u=s.getNodes();return u.length===0?void 0:void u.forEach(c=>{if(n===null){const d=Ot(c,f=>!Un(f)&&We(f));d&&(d.insertBefore(c),d.getChildren().length===0&&d.remove())}else{const d=Ot(c,f=>!Un(f)&&We(f));if(d)d.setURL(n),t!==void 0&&d.setTarget(t),o!==void 0&&d.setRel(o);else{const f=In(n,{rel:o,target:t});c.insertBefore(f),f.append(c)}}})}const i=s.extract();if(n===null)return void i.forEach(u=>{const c=Ot(u,d=>!Un(d)&&We(d));if(c){const d=c.getChildren();for(let f=0;f<d.length;f++)c.insertBefore(d[f]);c.remove()}});const a=new Set,l=u=>{a.has(u.getKey())||(a.add(u.getKey()),u.setURL(n),t!==void 0&&u.setTarget(t),o!==void 0&&u.setRel(o),r!==void 0&&u.setTitle(r))};if(i.length===1){const u=Ua(i[0],We);if(u!==null)return l(u)}(function(u){const c=O();if(!k(c))return u();const d=kn(c),f=d.isBackward(),h=Ka(d.anchor,f?-1:0),g=Ka(d.focus,f?0:-1);if(u(),h||g){const p=O();if(k(p)){const _=p.clone();if(h){const b=h.getParent();b&&_.anchor.set(b.getKey(),h.getIndexWithinParent()+(f?1:0),"element")}if(g){const b=g.getParent();b&&_.focus.set(b.getKey(),g.getIndexWithinParent()+(f?0:1),"element")}fe(kn(_))}}})(()=>{let u=null;for(const c of i){if(!c.isAttached())continue;const d=Ua(c,We);if(d){l(d);continue}if(E(c)){if(!c.isInline())continue;if(We(c)){if(!(Un(c)||u!==null&&u.getParentOrThrow().isParentOf(c))){l(c),u=c;continue}for(const h of c.getChildren())c.insertBefore(h);c.remove();continue}}const f=c.getPreviousSibling();We(f)&&f.is(u)?f.append(c):(u=In(n,{rel:o,target:t,title:r}),c.insertAfter(u),u.append(c))}})}function Ua(n,e){let t=n;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function uh({validateUrl:n,attributes:e}){const[t]=$e();return N.useEffect(()=>{if(!t.hasNodes([$n]))throw new Error("LinkPlugin: LinkNode not registered on editor");return dt(t.registerCommand(ir,r=>{if(r===null)return Jo(r),!0;if(typeof r=="string")return!(n!==void 0&&!n(r))&&(Jo(r,e),!0);{const{url:o,target:s,rel:i,title:a}=r;return Jo(o,{...e,rel:i,target:s,title:a}),!0}},Te),n!==void 0?t.registerCommand(ho,r=>{const o=O();if(!k(o)||o.isCollapsed()||!kt(r,ClipboardEvent)||r.clipboardData===null)return!1;const s=r.clipboardData.getData("text");return!!n(s)&&!o.getNodes().some(i=>E(i))&&(t.dispatchCommand(ir,{...e,url:s}),r.preventDefault(),!0)},Te):()=>{})},[t,n,e]),null}function it(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function ws(n){let e=1,t=n.getParent();for(;t!=null;){if(V(t)){const r=t.getParent();if(D(r)){e++,t=r.getParent();continue}it(40)}return e}return e}function Ts(n){let e=n.getParent();D(e)||it(40);let t=e;for(;t!==null;)t=t.getParent(),D(t)&&(e=t);return e}function kc(n){let e=[];const t=n.getChildren().filter(V);for(let r=0;r<t.length;r++){const o=t[r],s=o.getFirstChild();D(s)?e=e.concat(kc(s)):e.push(o)}return e}function at(n){return V(n)&&D(n.getFirstChild())}function ja(n){return Oe().append(n)}function Nc(n,e){return V(n)&&(e.length===0||e.length===1&&n.is(e[0])&&n.getChildrenSize()===0)}function Ha(n){const e=O();if(e!==null){let t=e.getNodes();if(k(e)){const o=e.getStartEndPoints();o===null&&it(143);const[s]=o,i=s.getNode(),a=i.getParent();if(le(i)){const l=i.getFirstChild();if(l)t=l.selectStart().getNodes();else{const u=Q();i.append(u),t=u.select().getNodes()}}else if(Nc(i,t)){const l=Ne(n);if(le(a)){i.replace(l);const u=Oe();E(i)&&(u.setFormat(i.getFormatType()),u.setIndent(i.getIndent())),l.append(u)}else if(V(i)){const u=i.getParentOrThrow();sn(l,u.getChildren()),u.replace(l)}return}}const r=new Set;for(let o=0;o<t.length;o++){const s=t[o];if(E(s)&&s.isEmpty()&&!V(s)&&!r.has(s.getKey())){Ja(s,n);continue}let i=hi(s)?s.getParent():V(s)&&s.isEmpty()?s:null;for(;i!=null;){const a=i.getKey();if(D(i)){if(!r.has(a)){const l=Ne(n);sn(l,i.getChildren()),i.replace(l),r.add(a)}break}{const l=i.getParent();if(le(l)&&!r.has(a)){r.add(a),Ja(i,n);break}i=l}}}}}function sn(n,e){n.splice(n.getChildrenSize(),0,e)}function Ja(n,e){if(D(n))return n;const t=n.getPreviousSibling(),r=n.getNextSibling(),o=Oe();let s;if(sn(o,n.getChildren()),D(t)&&e===t.getListType())t.append(o),D(r)&&e===r.getListType()&&(sn(t,r.getChildren()),r.remove()),s=t;else if(D(r)&&e===r.getListType())r.getFirstChildOrThrow().insertBefore(o),s=r;else{const i=Ne(e);i.append(o),n.replace(i),s=i}return o.setFormat(n.getFormatType()),o.setIndent(n.getIndent()),n.remove(),s}function Oi(n,e){const t=n.getLastChild(),r=e.getFirstChild();t&&r&&at(t)&&at(r)&&(Oi(t.getFirstChild(),r.getFirstChild()),r.remove());const o=e.getChildren();o.length>0&&n.append(...o),e.remove()}function ch(){const n=O();if(k(n)){const e=new Set,t=n.getNodes(),r=n.anchor.getNode();if(Nc(r,t))e.add(Ts(r));else for(let o=0;o<t.length;o++){const s=t[o];if(hi(s)){const i=Sc(s,Mt);i!=null&&e.add(Ts(i))}}for(const o of e){let s=o;const i=kc(o);for(const a of i){const l=Q().setTextStyle(n.style).setTextFormat(n.format);sn(l,a.getChildren()),s.insertAfter(l),s=l,a.__key===n.anchor.key&&on(n.anchor,Ue(Qe(l,"next"))),a.__key===n.focus.key&&on(n.focus,Ue(Qe(l,"next"))),a.remove()}o.remove()}}}function dh(n){const e=new Set;if(at(n)||e.has(n.getKey()))return;const t=n.getParent(),r=n.getNextSibling(),o=n.getPreviousSibling();if(at(r)&&at(o)){const s=o.getFirstChild();if(D(s)){s.append(n);const i=r.getFirstChild();D(i)&&(sn(s,i.getChildren()),r.remove(),e.add(r.getKey()))}}else if(at(r)){const s=r.getFirstChild();if(D(s)){const i=s.getFirstChild();i!==null&&i.insertBefore(n)}}else if(at(o)){const s=o.getFirstChild();D(s)&&s.append(n)}else if(D(t)){const s=Oe().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),i=Ne(t.getListType()).setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle());s.append(i),i.append(n),o?o.insertAfter(s):r?r.insertBefore(s):t.append(s)}}function fh(n){if(at(n))return;const e=n.getParent(),t=e?e.getParent():void 0;if(D(t?t.getParent():void 0)&&V(t)&&D(e)){const r=e?e.getFirstChild():void 0,o=e?e.getLastChild():void 0;if(n.is(r))t.insertBefore(n),e.isEmpty()&&t.remove();else if(n.is(o))t.insertAfter(n),e.isEmpty()&&t.remove();else{const s=e.getListType(),i=Oe(),a=Ne(s);i.append(a),n.getPreviousSiblings().forEach(c=>a.append(c));const l=Oe(),u=Ne(s);l.append(u),sn(u,n.getNextSiblings()),t.insertBefore(i),t.insertAfter(l),t.replace(n)}}}function gh(){const n=O();if(!k(n)||!n.isCollapsed())return!1;const e=n.anchor.getNode();if(!V(e)||e.getChildrenSize()!==0)return!1;const t=Ts(e),r=e.getParent();D(r)||it(40);const o=r.getParent();let s;if(le(o))s=Q(),t.insertAfter(s);else{if(!V(o))return!1;s=Oe(),o.insertAfter(s)}s.setTextStyle(n.style).setTextFormat(n.format).select();const i=e.getNextSiblings();if(i.length>0){const a=Ne(r.getListType());if(V(s)){const l=Oe();l.append(a),s.insertAfter(l)}else s.insertAfter(a);a.append(...i)}return function(a){let l=a;for(;l.getNextSibling()==null&&l.getPreviousSibling()==null;){const u=l.getParent();if(u==null||!V(u)&&!D(u))break;l=u}l.remove()}(e),!0}function oo(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}function qa(n,e,t){const r=$a(e.__textStyle);for(const o in r)n.style.setProperty(`--listitem-marker-${o}`,r[o]);if(t)for(const o in $a(t.__textStyle))o in r||n.style.removeProperty(`--listitem-marker-${o}`)}let Mt=class Ac extends Me{static getType(){return"listitem"}static clone(e){return new Ac(e.__value,e.__checked,e.__key)}constructor(e,t,r){super(r),this.__value=e===void 0?1:e,this.__checked=t}createDOM(e){const t=document.createElement("li"),r=this.getParent();D(r)&&r.getListType()==="check"&&Ga(t,this,null),t.value=this.__value,Va(t,e.theme,this);const o=this.__style;return o&&(t.style.cssText=o),qa(t,this,null),t}updateDOM(e,t,r){const o=this.getParent();D(o)&&o.getListType()==="check"&&Ga(t,this,e),t.value=this.__value,Va(t,r.theme,this);const s=e.__style,i=this.__style;return s!==i&&(i===""?t.removeAttribute("style"):t.style.cssText=i),qa(t,this,e),!1}static transform(){return e=>{if(V(e)||it(144),e.__checked==null)return;const t=e.getParent();D(t)&&t.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:hh,priority:0})}}static importJSON(e){return Oe().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config),r=this.getFormatType();r&&(t.style.textAlign=r);const o=this.getDirection();return o&&(t.dir=o),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let t=0;t<e.length;t++){const r=e[t];if(E(r)&&this.canMergeWith(r)){const o=r.getChildren();this.append(...o),r.remove()}else super.append(r)}return this}replace(e,t){if(V(e))return super.replace(e);this.setIndent(0);const r=this.getParentOrThrow();if(!D(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{const o=Ne(r.getListType());let s=this.getNextSibling();for(;s;){const i=s;s=s.getNextSibling(),o.append(i)}r.insertAfter(e),e.insertAfter(o)}return t&&(E(e)||it(139),this.getChildren().forEach(o=>{e.append(o)})),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,t=!0){const r=this.getParentOrThrow();if(D(r)||it(39),V(e))return super.insertAfter(e,t);const o=this.getNextSiblings();if(r.insertAfter(e,t),o.length!==0){const s=Ne(r.getListType());o.forEach(i=>s.append(i)),e.insertAfter(s,t)}return e}remove(e){const t=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),t&&r&&at(t)&&at(r)&&(Oi(t.getFirstChild(),r.getFirstChild()),r.remove())}insertNewAfter(e,t=!0){const r=Oe().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(r,t),r}collapseAtStart(e){const t=Q();this.getChildren().forEach(i=>t.append(i));const r=this.getParentOrThrow(),o=r.getParentOrThrow(),s=V(o);if(r.getChildrenSize()===1)if(s)r.remove(),o.select();else{r.insertBefore(t),r.remove();const i=e.anchor,a=e.focus,l=t.getKey();i.type==="element"&&i.getNode().is(this)&&i.set(l,i.offset,"element"),a.type==="element"&&a.getNode().is(this)&&a.set(l,a.offset,"element")}else r.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const r=this.getParent();return D(r)&&(t=r.getListType()),t==="check"?!!e.__checked:void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),r=0;for(;V(t);)t=t.getParentOrThrow().getParentOrThrow(),r++;return r}setIndent(e){typeof e!="number"&&it(117),(e=Math.floor(e))>=0||it(199);let t=this.getIndent();for(;t!==e;)t<e?(dh(this),t++):(fh(this),t--);return this}canInsertAfter(e){return V(e)}canReplaceWith(e){return V(e)}canMergeWith(e){return V(e)||bo(e)}extractWithChild(e,t){if(!k(t))return!1;const r=t.anchor.getNode(),o=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(o)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Ne("bullet")}canMergeWhenEmpty(){return!0}};function Va(n,e,t){const r=[],o=[],s=e.list,i=s?s.listitem:void 0;let a;if(s&&s.nested&&(a=s.nested.listitem),i!==void 0&&r.push(...oo(i)),s){const l=t.getParent(),u=D(l)&&l.getListType()==="check",c=t.getChecked();u&&!c||o.push(s.listitemUnchecked),u&&c||o.push(s.listitemChecked),u&&r.push(c?s.listitemChecked:s.listitemUnchecked)}if(a!==void 0){const l=oo(a);t.getChildren().some(u=>D(u))?r.push(...l):o.push(...l)}o.length>0&&Ft(n,...o),r.length>0&&ae(n,...r)}function Ga(n,e,t,r){D(e.getFirstChild())?(n.removeAttribute("role"),n.removeAttribute("tabIndex"),n.removeAttribute("aria-checked")):(n.setAttribute("role","checkbox"),n.setAttribute("tabIndex","-1"),t&&e.__checked===t.__checked||n.setAttribute("aria-checked",e.getChecked()?"true":"false"))}function hh(n){if(n.classList.contains("task-list-item")){for(const t of n.children)if(t.tagName==="INPUT")return ph(t)}const e=n.getAttribute("aria-checked");return{node:Oe(e==="true"||e!=="false"&&void 0)}}function ph(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:Oe(n.hasAttribute("checked"))}}function Oe(n){return Se(new Mt(void 0,n))}function V(n){return n instanceof Mt}let Dt=class Fc extends Me{static getType(){return"list"}static clone(e){const t=e.__listType||Xa[e.__tag];return new Fc(t,e.__start,e.__key)}constructor(e="number",t=1,r){super(r);const o=Xa[e]||e;this.__listType=o,this.__tag=o==="number"?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag=e==="number"?"ol":"ul",t}getListType(){return this.__listType}getStart(){return this.__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const r=this.__tag,o=document.createElement(r);return this.__start!==1&&o.setAttribute("start",String(this.__start)),o.__lexicalListType=this.__listType,Ya(o,e.theme,this),o}updateDOM(e,t,r){return e.__tag!==this.__tag||(Ya(t,r.theme,this),!1)}static transform(){return e=>{D(e)||it(163),function(t){const r=t.getNextSibling();D(r)&&t.getListType()===r.getListType()&&Oi(t,r)}(e),function(t){const r=t.getListType()!=="check";let o=t.getStart();for(const s of t.getChildren())V(s)&&(s.getValue()!==o&&s.setValue(o),r&&s.getLatest().__checked!=null&&s.setChecked(void 0),D(s.getFirstChild())||o++)}(e)}}static importDOM(){return{ol:()=>({conversion:Za,priority:0}),ul:()=>({conversion:Za,priority:0})}}static importJSON(e){return Ne().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return ee(t)&&(this.__start!==1&&t.setAttribute("start",String(this.__start)),this.__listType==="check"&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,r){let o=r;for(let s=0;s<r.length;s++){const i=r[s];V(i)||(o===r&&(o=[...r]),o[s]=Oe().append(!E(i)||D(i)||i.isInline()?i:oe(i.getTextContent())))}return super.splice(e,t,o)}extractWithChild(e){return V(e)}};function Ya(n,e,t){const r=[],o=[],s=e.list;if(s!==void 0){const i=s[`${t.__tag}Depth`]||[],a=ws(t)-1,l=a%i.length,u=i[l],c=s[t.__tag];let d;const f=s.nested,h=s.checklist;if(f!==void 0&&f.list&&(d=f.list),c!==void 0&&r.push(c),h!==void 0&&t.__listType==="check"&&r.push(h),u!==void 0){r.push(...oo(u));for(let g=0;g<i.length;g++)g!==l&&o.push(t.__tag+g)}if(d!==void 0){const g=oo(d);a>1?r.push(...g):o.push(...g)}}o.length>0&&Ft(n,...o),r.length>0&&ae(n,...r)}function mh(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];if(V(r)){e.push(r);const o=r.getChildren();o.length>1&&o.forEach(s=>{D(s)&&e.push(ja(s))})}else e.push(ja(r))}return e}function Za(n){const e=n.nodeName.toLowerCase();let t=null;return e==="ol"?t=Ne("number",n.start):e==="ul"&&(t=function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list"))return!0;for(const o of r.childNodes)if(ee(o)&&o.hasAttribute("aria-checked"))return!0;return!1}(n)?Ne("check"):Ne("bullet")),{after:mh,node:t}}const Xa={ol:"number",ul:"bullet"};function Ne(n="number",e=1){return Se(new Dt(n,e))}function D(n){return n instanceof Dt}const Oc=z("INSERT_UNORDERED_LIST_COMMAND"),Ic=z("INSERT_ORDERED_LIST_COMMAND"),Es=z("REMOVE_LIST_COMMAND");function _h(n){return dt(n.registerCommand(Ic,()=>(Ha("number"),!0),Te),n.registerCommand(Oc,()=>(Ha("bullet"),!0),Te),n.registerCommand(Es,()=>(ch(),!0),Te),n.registerCommand(nr,()=>gh(),Te),n.registerNodeTransform(Mt,e=>{const t=e.getFirstChild();if(t){if(I(t)){const r=t.getStyle(),o=t.getFormat();e.getTextStyle()!==r&&e.setTextStyle(r),e.getTextFormat()!==o&&e.setTextFormat(o)}}else{const r=O();k(r)&&(r.style!==e.getTextStyle()||r.format!==e.getTextFormat())&&r.isCollapsed()&&e.is(r.anchor.getNode())&&e.setTextStyle(r.style).setTextFormat(r.format)}}),n.registerNodeTransform(vt,e=>{const t=e.getParent();if(V(t)&&e.is(t.getFirstChild())){const r=e.getStyle(),o=e.getFormat();r===t.getTextStyle()&&o===t.getTextFormat()||t.setTextStyle(r).setTextFormat(o)}}))}function yh(n){const e=t=>{const r=t.getParent();if(D(t.getFirstChild())||!D(r))return;const o=Ot(t,s=>V(s)&&D(s.getParent())&&V(s.getPreviousSibling()));if(o===null&&t.getIndent()>0)t.setIndent(0);else if(V(o)){const s=o.getPreviousSibling();if(V(s)){const i=function(l){let u=l,c=u.getFirstChild();for(;D(c);){const d=c.getLastChild();if(!V(d))break;u=d,c=u.getFirstChild()}return u}(s),a=i.getParent();if(D(a)){const l=ws(a);l+1<ws(r)&&t.setIndent(l)}}}};return n.registerNodeTransform(Dt,t=>{const r=[t];for(;r.length>0;){const o=r.shift();if(D(o)){for(const s of o.getChildren())if(V(s)){e(s);const i=s.getFirstChild();D(i)&&r.push(i)}}}})}function bh({hasStrictIndent:n=!1}){const[e]=$e();return N.useEffect(()=>{if(!e.hasNodes([Dt,Mt]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),N.useEffect(()=>{if(n)return yh(e)},[e,n]),function(t){N.useEffect(()=>_h(t),[t])}(e),null}var qo={exports:{}},Qa;function xh(){return Qa||(Qa=1,function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,i={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function m(y){return y instanceof l?new l(y.type,m(y.content),y.alias):Array.isArray(y)?y.map(m):y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).slice(8,-1)},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++s}),m.__id},clone:function m(y,x){x=x||{};var S,v;switch(a.util.type(y)){case"Object":if(v=a.util.objId(y),x[v])return x[v];S={},x[v]=S;for(var w in y)y.hasOwnProperty(w)&&(S[w]=m(y[w],x));return S;case"Array":return v=a.util.objId(y),x[v]?x[v]:(S=[],x[v]=S,y.forEach(function(T,C){S[C]=m(T,x)}),S);default:return y}},getLanguage:function(m){for(;m;){var y=o.exec(m.className);if(y)return y[1].toLowerCase();m=m.parentElement}return"none"},setLanguage:function(m,y){m.className=m.className.replace(RegExp(o,"gi"),""),m.classList.add("language-"+y)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(S){var m=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(S.stack)||[])[1];if(m){var y=document.getElementsByTagName("script");for(var x in y)if(y[x].src==m)return y[x]}return null}},isActive:function(m,y,x){for(var S="no-"+y;m;){var v=m.classList;if(v.contains(y))return!0;if(v.contains(S))return!1;m=m.parentElement}return!!x}},languages:{plain:i,plaintext:i,text:i,txt:i,extend:function(m,y){var x=a.util.clone(a.languages[m]);for(var S in y)x[S]=y[S];return x},insertBefore:function(m,y,x,S){S=S||a.languages;var v=S[m],w={};for(var T in v)if(v.hasOwnProperty(T)){if(T==y)for(var C in x)x.hasOwnProperty(C)&&(w[C]=x[C]);x.hasOwnProperty(T)||(w[T]=v[T])}var F=S[m];return S[m]=w,a.languages.DFS(a.languages,function(P,R){R===F&&P!=m&&(this[P]=w)}),w},DFS:function m(y,x,S,v){v=v||{};var w=a.util.objId;for(var T in y)if(y.hasOwnProperty(T)){x.call(y,T,y[T],S||T);var C=y[T],F=a.util.type(C);F==="Object"&&!v[w(C)]?(v[w(C)]=!0,m(C,x,null,v)):F==="Array"&&!v[w(C)]&&(v[w(C)]=!0,m(C,x,T,v))}}},plugins:{},highlightAll:function(m,y){a.highlightAllUnder(document,m,y)},highlightAllUnder:function(m,y,x){var S={callback:x,container:m,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",S),S.elements=Array.prototype.slice.apply(S.container.querySelectorAll(S.selector)),a.hooks.run("before-all-elements-highlight",S);for(var v=0,w;w=S.elements[v++];)a.highlightElement(w,y===!0,S.callback)},highlightElement:function(m,y,x){var S=a.util.getLanguage(m),v=a.languages[S];a.util.setLanguage(m,S);var w=m.parentElement;w&&w.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(w,S);var T=m.textContent,C={element:m,language:S,grammar:v,code:T};function F(R){C.highlightedCode=R,a.hooks.run("before-insert",C),C.element.innerHTML=C.highlightedCode,a.hooks.run("after-highlight",C),a.hooks.run("complete",C),x&&x.call(C.element)}if(a.hooks.run("before-sanity-check",C),w=C.element.parentElement,w&&w.nodeName.toLowerCase()==="pre"&&!w.hasAttribute("tabindex")&&w.setAttribute("tabindex","0"),!C.code){a.hooks.run("complete",C),x&&x.call(C.element);return}if(a.hooks.run("before-highlight",C),!C.grammar){F(a.util.encode(C.code));return}if(y&&r.Worker){var P=new Worker(a.filename);P.onmessage=function(R){F(R.data)},P.postMessage(JSON.stringify({language:C.language,code:C.code,immediateClose:!0}))}else F(a.highlight(C.code,C.grammar,C.language))},highlight:function(m,y,x){var S={code:m,grammar:y,language:x};if(a.hooks.run("before-tokenize",S),!S.grammar)throw new Error('The language "'+S.language+'" has no grammar.');return S.tokens=a.tokenize(S.code,S.grammar),a.hooks.run("after-tokenize",S),l.stringify(a.util.encode(S.tokens),S.language)},tokenize:function(m,y){var x=y.rest;if(x){for(var S in x)y[S]=x[S];delete y.rest}var v=new d;return f(v,v.head,m),c(m,v,y,v.head,0),g(v)},hooks:{all:{},add:function(m,y){var x=a.hooks.all;x[m]=x[m]||[],x[m].push(y)},run:function(m,y){var x=a.hooks.all[m];if(!(!x||!x.length))for(var S=0,v;v=x[S++];)v(y)}},Token:l};r.Prism=a;function l(m,y,x,S){this.type=m,this.content=y,this.alias=x,this.length=(S||"").length|0}l.stringify=function m(y,x){if(typeof y=="string")return y;if(Array.isArray(y)){var S="";return y.forEach(function(F){S+=m(F,x)}),S}var v={type:y.type,content:m(y.content,x),tag:"span",classes:["token",y.type],attributes:{},language:x},w=y.alias;w&&(Array.isArray(w)?Array.prototype.push.apply(v.classes,w):v.classes.push(w)),a.hooks.run("wrap",v);var T="";for(var C in v.attributes)T+=" "+C+'="'+(v.attributes[C]||"").replace(/"/g,"&quot;")+'"';return"<"+v.tag+' class="'+v.classes.join(" ")+'"'+T+">"+v.content+"</"+v.tag+">"};function u(m,y,x,S){m.lastIndex=y;var v=m.exec(x);if(v&&S&&v[1]){var w=v[1].length;v.index+=w,v[0]=v[0].slice(w)}return v}function c(m,y,x,S,v,w){for(var T in x)if(!(!x.hasOwnProperty(T)||!x[T])){var C=x[T];C=Array.isArray(C)?C:[C];for(var F=0;F<C.length;++F){if(w&&w.cause==T+","+F)return;var P=C[F],R=P.inside,U=!!P.lookbehind,B=!!P.greedy,K=P.alias;if(B&&!P.pattern.global){var $=P.pattern.toString().match(/[imsuy]*$/)[0];P.pattern=RegExp(P.pattern.source,$+"g")}for(var j=P.pattern||P,W=S.next,H=v;W!==y.tail&&!(w&&H>=w.reach);H+=W.value.length,W=W.next){var ge=W.value;if(y.length>m.length)return;if(!(ge instanceof l)){var Ve=1,he;if(B){if(he=u(j,H,m,U),!he||he.index>=m.length)break;var we=he.index,Ct=he.index+he[0].length,Ce=H;for(Ce+=W.value.length;we>=Ce;)W=W.next,Ce+=W.value.length;if(Ce-=W.value.length,H=Ce,W.value instanceof l)continue;for(var De=W;De!==y.tail&&(Ce<Ct||typeof De.value=="string");De=De.next)Ve++,Ce+=De.value.length;Ve--,ge=m.slice(H,Ce),he.index-=H}else if(he=u(j,0,ge,U),!he)continue;var we=he.index,tt=he[0],Ge=ge.slice(0,we),ft=ge.slice(we+tt.length),nt=H+ge.length;w&&nt>w.reach&&(w.reach=nt);var cn=W.prev;Ge&&(cn=f(y,cn,Ge),H+=Ge.length),h(y,cn,Ve);var No=new l(T,R?a.tokenize(tt,R):tt,K,tt);if(W=f(y,cn,No),ft&&f(y,W,ft),Ve>1){var xr={cause:T+","+F,reach:nt};c(m,y,x,W.prev,H,xr),w&&xr.reach>w.reach&&(w.reach=xr.reach)}}}}}}function d(){var m={value:null,prev:null,next:null},y={value:null,prev:m,next:null};m.next=y,this.head=m,this.tail=y,this.length=0}function f(m,y,x){var S=y.next,v={value:x,prev:y,next:S};return y.next=v,S.prev=v,m.length++,v}function h(m,y,x){for(var S=y.next,v=0;v<x&&S!==m.tail;v++)S=S.next;y.next=S,S.prev=y,m.length-=v}function g(m){for(var y=[],x=m.head.next;x!==m.tail;)y.push(x.value),x=x.next;return y}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(m){var y=JSON.parse(m.data),x=y.language,S=y.code,v=y.immediateClose;r.postMessage(a.highlight(S,a.languages[x],x)),v&&r.close()},!1)),a;var p=a.util.currentScript();p&&(a.filename=p.src,p.hasAttribute("data-manual")&&(a.manual=!0));function _(){a.manual||a.highlightAll()}if(!a.manual){var b=document.readyState;b==="loading"||b==="interactive"&&p&&p.defer?document.addEventListener("DOMContentLoaded",_):window.requestAnimationFrame?window.requestAnimationFrame(_):window.setTimeout(_,16)}return a}(e);n.exports&&(n.exports=t),typeof ji<"u"&&(ji.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(o,s){var i={};i["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[s]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};a["language-"+s]={pattern:/[\s\S]+/,inside:t.languages[s]};var l={};l[o]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return o}),"i"),lookbehind:!0,greedy:!0,inside:a},t.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(r,o){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:t.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(r){var o=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+o.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+o.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+o.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+o.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:o,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var s=r.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",o=function(p,_){return"✖ Error "+p+" while fetching file: "+_},s="✖ Error: File does not exist or is empty",i={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",u="loaded",c="failed",d="pre[data-src]:not(["+a+'="'+u+'"]):not(['+a+'="'+l+'"])';function f(p,_,b){var m=new XMLHttpRequest;m.open("GET",p,!0),m.onreadystatechange=function(){m.readyState==4&&(m.status<400&&m.responseText?_(m.responseText):m.status>=400?b(o(m.status,m.statusText)):b(s))},m.send(null)}function h(p){var _=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(p||"");if(_){var b=Number(_[1]),m=_[2],y=_[3];return m?y?[b,Number(y)]:[b,void 0]:[b,b]}}t.hooks.add("before-highlightall",function(p){p.selector+=", "+d}),t.hooks.add("before-sanity-check",function(p){var _=p.element;if(_.matches(d)){p.code="",_.setAttribute(a,l);var b=_.appendChild(document.createElement("CODE"));b.textContent=r;var m=_.getAttribute("data-src"),y=p.language;if(y==="none"){var x=(/\.(\w+)$/.exec(m)||[,"none"])[1];y=i[x]||x}t.util.setLanguage(b,y),t.util.setLanguage(_,y);var S=t.plugins.autoloader;S&&S.loadLanguages(y),f(m,function(v){_.setAttribute(a,u);var w=h(_.getAttribute("data-range"));if(w){var T=v.split(/\r\n?|\n/g),C=w[0],F=w[1]==null?T.length:w[1];C<0&&(C+=T.length),C=Math.max(0,Math.min(C-1,T.length)),F<0&&(F+=T.length),F=Math.max(0,Math.min(F,T.length)),v=T.slice(C,F).join(`
`),_.hasAttribute("data-start")||_.setAttribute("data-start",String(C+1))}b.textContent=v,t.highlightElement(b)},function(v){_.setAttribute(a,c),b.textContent=v})}}),t.plugins.fileHighlight={highlight:function(_){for(var b=(_||document).querySelectorAll(d),m=0,y;y=b[m++];)t.highlightElement(y)}};var g=!1;t.fileHighlight=function(){g||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),g=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()}(qo)),qo.exports}xh();Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var s={};s[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:o},Prism.languages.insertBefore("markup","cdata",s)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function t(c){return c=c.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+c+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),s=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+s+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+s+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+s+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:t(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:t(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:t(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:t(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(c){["url","bold","italic","strike","code-snippet"].forEach(function(d){c!==d&&(n.languages.markdown[c].inside.content.inside[d]=n.languages.markdown[d])})}),n.hooks.add("after-tokenize",function(c){if(c.language!=="markdown"&&c.language!=="md")return;function d(f){if(!(!f||typeof f=="string"))for(var h=0,g=f.length;h<g;h++){var p=f[h];if(p.type!=="code"){d(p.content);continue}var _=p.content[1],b=p.content[3];if(_&&b&&_.type==="code-language"&&b.type==="code-block"&&typeof _.content=="string"){var m=_.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");m=(/[a-z][\w-]*/i.exec(m)||[""])[0].toLowerCase();var y="language-"+m;b.alias?typeof b.alias=="string"?b.alias=[b.alias,y]:b.alias.push(y):b.alias=[y]}}}d(c.tokens)}),n.hooks.add("wrap",function(c){if(c.type==="code-block"){for(var d="",f=0,h=c.classes.length;f<h;f++){var g=c.classes[f],p=/language-(.+)/.exec(g);if(p){d=p[1];break}}var _=n.languages[d];if(_)c.content=n.highlight(u(c.content),_,d);else if(d&&d!=="none"&&n.plugins.autoloader){var b="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);c.attributes.id=b,n.plugins.autoloader.loadLanguages(d,function(){var m=document.getElementById(b);m&&(m.innerHTML=n.highlight(m.textContent,n.languages[d],d))})}}});var i=RegExp(n.languages.markup.tag.pattern.source,"gi"),a={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;function u(c){var d=c.replace(i,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(f,h){if(h=h.toLowerCase(),h[0]==="#"){var g;return h[1]==="x"?g=parseInt(h.slice(2),16):g=Number(h.slice(1)),l(g)}else{var p=a[h];return p||f}}),d}n.languages.md=n.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(n){var e=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};e.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:e},boolean:e.boolean,variable:e.variable}})(Prism);var el={},tl;function vh(){return tl||(tl=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),el}vh();var nl={},rl;function Sh(){return rl||(rl=1,function(n){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,t=0;t<2;t++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string}(Prism)),nl}Sh();Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=Prism.languages.swift});var ol={},sl;function Ch(){return sl||(sl=1,function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var e=n.languages.extend("typescript",{});delete e["class-name"],n.languages.typescript["class-name"].inside=e,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),n.languages.ts=n.languages.typescript}(Prism)),ol}Ch();var il={},al;function wh(){return al||(al=1,function(n){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,t=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+t+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+t+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+t+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)),il}wh();var ll={},ul;function Th(){return ul||(ul=1,function(n){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,t=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});n.languages.cpp=n.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),n.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return t})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),n.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n.languages.cpp}}}}),n.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),n.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:n.languages.extend("cpp",{})}}),n.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},n.languages.cpp["base-clause"])}(Prism)),ll}Th();function mr(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Cn=globalThis.Prism||window.Prism,cl=n=>{try{return!!n&&Cn.languages.hasOwnProperty(n)}catch{return!1}};function Lc(n,e){for(const t of n.childNodes){if(ee(t)&&t.tagName===e)return!0;Lc(t,e)}return!1}const jn="data-language",Fr="data-highlight-language";let Vt=class Pc extends Me{static getType(){return"code"}static clone(e){return new Pc(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=cl(e)}createDOM(e){const t=document.createElement("code");ae(t,e.theme.code),t.setAttribute("spellcheck","false");const r=this.getLanguage();return r&&(t.setAttribute(jn,r),this.getIsSyntaxHighlightSupported()&&t.setAttribute(Fr,r)),t}updateDOM(e,t,r){const o=this.__language,s=e.__language;return o?o!==s&&(t.setAttribute(jn,o),this.__isSyntaxHighlightSupported&&t.setAttribute(Fr,o)):s&&(t.removeAttribute(jn),e.__isSyntaxHighlightSupported&&t.removeAttribute(Fr)),!1}exportDOM(e){const t=document.createElement("pre");ae(t,e._config.theme.code),t.setAttribute("spellcheck","false");const r=this.getLanguage();return r&&(t.setAttribute(jn,r),this.getIsSyntaxHighlightSupported()&&t.setAttribute(Fr,r)),{element:t}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||Lc(e,"BR"))?{conversion:dl,priority:1}:null,div:()=>({conversion:Eh,priority:1}),pre:()=>({conversion:dl,priority:0}),table:e=>Vo(e)?{conversion:kh,priority:3}:null,td:e=>{const t=e,r=t.closest("table");return t.classList.contains("js-file-line")||r&&Vo(r)?{conversion:fl,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&Vo(t)?{conversion:fl,priority:3}:null}}}static importJSON(e){return lt().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e,t=!0){const r=this.getChildren(),o=r.length;if(o>=2&&r[o-1].getTextContent()===`
`&&r[o-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===o){r[o-1].remove(),r[o-2].remove();const l=Q();return this.insertAfter(l,t),l}const{anchor:s,focus:i}=e,a=(s.isBefore(i)?s:i).getNode();if(I(a)){let l=Gt(a);const u=[];for(;;)if(_e(l))u.push(Ke()),l=l.getNextSibling();else{if(!se(l))break;{let _=0;const b=l.getTextContent(),m=l.getTextContentSize();for(;_<m&&b[_]===" ";)_++;if(_!==0&&u.push(Ii(" ".repeat(_))),_!==m)break;l=l.getNextSibling()}}const c=a.splitText(s.offset)[0],d=s.offset===0?0:1,f=c.getIndexWithinParent()+d,h=a.getParentOrThrow(),g=[je(),...u];h.splice(f,0,g);const p=u[u.length-1];p?p.select():s.offset===0?c.selectPrevious():c.getNextSibling().selectNext(0,0)}if(ye(a)){const{offset:l}=e.anchor;a.splice(l,0,[je()]),a.select(l+1,l+1)}return null}canIndent(){return!1}collapseAtStart(){const e=Q();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t.__isSyntaxHighlightSupported=cl(e),t}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}};function lt(n){return Se(new Vt(n))}function ye(n){return n instanceof Vt}function dl(n){return{node:lt(n.getAttribute(jn))}}function Eh(n){const e=n,t=gl(e);return t||function(r){let o=r.parentElement;for(;o!==null;){if(gl(o))return!0;o=o.parentElement}return!1}(e)?{node:t?lt():null}:{node:null}}function kh(){return{node:lt()}}function fl(){return{node:null}}function gl(n){return n.style.fontFamily.match("monospace")!==null}function Vo(n){return n.classList.contains("js-file-line-container")}const $c="javascript",Nh=()=>$c,Ah=()=>Object.keys(Cn.languages).filter(n=>typeof Cn.languages[n]!="function").sort();let ar=class Mc extends vt{constructor(e="",t,r){super(e,r),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new Mc(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e),r=Go(e.theme,this.__highlightType);return ae(t,r),t}updateDOM(e,t,r){const o=super.updateDOM(e,t,r),s=Go(r.theme,e.__highlightType),i=Go(r.theme,this.__highlightType);return s!==i&&(s&&Ft(t,s),i&&ae(t,i)),o}static importJSON(e){return Ii().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return lt()}};function Go(n,e){return e&&n&&n.codeHighlight&&n.codeHighlight[e]}function Ii(n="",e){return Se(new ar(n,e))}function se(n){return n instanceof ar}function Dc(n,e){let t=n;for(let r=be(n,e);r&&(se(r.origin)||_e(r.origin));r=Xg(r))t=r.origin;return t}function Gt(n){return Dc(n,"previous")}function Yn(n){return Dc(n,"next")}const Fh={defaultLanguage:$c,tokenize(n,e){return Cn.tokenize(n,Cn.languages[e||""]||Cn.languages[this.defaultLanguage])}};function Oh(n,e){let t=null,r=null,o=n,s=e,i=n.getTextContent();for(;;){if(s===0){if(o=o.getPreviousSibling(),o===null)break;if(se(o)||_e(o)||X(o)||mr(167),X(o)){t={node:o,offset:1};break}s=Math.max(0,o.getTextContentSize()-1),i=o.getTextContent()}else s--;const l=i[s];se(o)&&l!==" "&&(r={node:o,offset:s})}if(r!==null)return r;let a=null;if(e<n.getTextContentSize())se(n)&&(a=n.getTextContent()[e]);else{const l=n.getNextSibling();se(l)&&(a=l.getTextContent()[0])}if(a!==null&&a!==" ")return t;{const l=function(u,c){let d=u,f=c,h=u.getTextContent(),g=u.getTextContentSize();for(;;){if(!se(d)||f===g){if(d=d.getNextSibling(),d===null||X(d))return null;se(d)&&(f=0,h=d.getTextContent(),g=d.getTextContentSize())}if(se(d)){if(h[f]!==" ")return{node:d,offset:f};f++}}}(n,e);return l!==null?l:t}}function Ih(n){const e=Yn(n);return X(e)&&mr(168),e}function hl(n,e,t){const r=n.getParent();ye(r)?Rc(r,e,t):se(n)&&n.replace(oe(n.__text))}function Lh(n,e){const t=e.getElementByKey(n.getKey());if(t===null)return;const r=n.getChildren(),o=r.length;if(o===t.__cachedChildrenLength)return;t.__cachedChildrenLength=o;let s="1",i=1;for(let a=0;a<o;a++)X(r[a])&&(s+=`
`+ ++i);t.setAttribute("data-gutter",s)}const Yo=new Set;function Rc(n,e,t){const r=n.getKey();Yo.has(r)||(Yo.add(r),n.getLanguage()===void 0&&n.setLanguage(t.defaultLanguage),e.update(()=>{(function(o,s){const i=te(o);if(!ye(i)||!i.isAttached())return;const a=O();if(!k(a))return void s();const l=a.anchor,u=l.offset,c=l.type==="element"&&X(i.getChildAtIndex(l.offset-1));let d=0;if(!c){const f=l.getNode();d=u+f.getPreviousSiblings().reduce((h,g)=>h+g.getTextContentSize(),0)}if(s()){if(c)return void l.getNode().select(u,u);i.getChildren().some(f=>{const h=I(f);if(h||X(f)){const g=f.getTextContentSize();if(h&&g>=d)return f.select(d,d),!0;d-=g}return!1})}})(r,()=>{const o=te(r);if(!ye(o)||!o.isAttached())return!1;const s=o.getTextContent(),i=ks(t.tokenize(s,o.getLanguage()||t.defaultLanguage)),a=function(d,f){let h=0;for(;h<d.length&&pl(d[h],f[h]);)h++;const g=d.length,p=f.length,_=Math.min(g,p)-h;let b=0;for(;b<_;)if(b++,!pl(d[g-b],f[p-b])){b--;break}const m=h,y=g-b,x=f.slice(h,p-b);return{from:m,nodesForReplacement:x,to:y}}(o.getChildren(),i),{from:l,to:u,nodesForReplacement:c}=a;return!(l===u&&!c.length)&&(n.splice(l,u-l,c),!0)})},{onUpdate:()=>{Yo.delete(r)},skipTransforms:!0}))}function ks(n,e){const t=[];for(const r of n)if(typeof r=="string"){const o=r.split(/(\n|\t)/),s=o.length;for(let i=0;i<s;i++){const a=o[i];a===`
`||a===`\r
`?t.push(je()):a==="	"?t.push(Ke()):a.length>0&&t.push(Ii(a,e))}}else{const{content:o}=r;typeof o=="string"?t.push(...ks([o],r.type)):Array.isArray(o)&&t.push(...ks(o,r.type))}return t}function pl(n,e){return se(n)&&se(e)&&n.__text===e.__text&&n.__highlightType===e.__highlightType||_e(n)&&_e(e)||X(n)&&X(e)}function Ut(n){if(!k(n))return!1;const e=n.anchor.getNode(),t=n.focus.getNode();if(e.is(t)&&ye(e))return!0;const r=e.getParent();return ye(r)&&r.is(t.getParent())}function zc(n){const e=n.getNodes(),t=[[]];if(e.length===1&&ye(e[0]))return t;let r=t[0];for(let o=0;o<e.length;o++){const s=e[o];se(s)||_e(s)||X(s)||mr(169),X(s)?o!==0&&r.length>0&&(r=[],t.push(r)):r.push(s)}return t}function ml(n){const e=O();if(!k(e)||!Ut(e))return!1;const t=zc(e),r=t.length;if(t.length>1){for(let i=0;i<r;i++){const a=t[i];if(a.length>0){let l=a[0];i===0&&(l=Gt(l)),l!==null&&(n===Ht?l.insertBefore(Ke()):_e(l)&&l.remove())}}return!0}const o=e.getNodes()[0];if(ye(o)||se(o)||_e(o)||X(o)||mr(171),ye(o))return n===Ht&&e.insertNodes([Ke()]),!0;const s=Gt(o);return n===Ht?X(s)?s.insertAfter(Ke()):s.insertBefore(Ke()):_e(s)&&s.remove(),!0}function _l(n,e){const t=O();if(!k(t))return!1;const{anchor:r,focus:o}=t,s=r.offset,i=o.offset,a=r.getNode(),l=o.getNode(),u=n===Nn;if(!Ut(t)||!se(a)&&!_e(a)||!se(l)&&!_e(l))return!1;if(!e.altKey){if(t.isCollapsed()){const b=a.getParentOrThrow();if(u&&s===0&&a.getPreviousSibling()===null){if(b.getPreviousSibling()===null)return b.selectPrevious(),e.preventDefault(),!0}else if(!u&&s===a.getTextContentSize()&&a.getNextSibling()===null&&b.getNextSibling()===null)return b.selectNext(),e.preventDefault(),!0}return!1}let c,d;if(a.isBefore(l)?(c=Gt(a),d=Yn(l)):(c=Gt(l),d=Yn(a)),c==null||d==null)return!1;const f=c.getNodesBetween(d);for(let b=0;b<f.length;b++){const m=f[b];if(!se(m)&&!_e(m)&&!X(m))return!1}e.preventDefault(),e.stopPropagation();const h=u?c.getPreviousSibling():d.getNextSibling();if(!X(h))return!0;const g=u?h.getPreviousSibling():h.getNextSibling();if(g==null)return!0;const p=se(g)||_e(g)||X(g)?u?Gt(g):Yn(g):null;let _=p??g;return h.remove(),f.forEach(b=>b.remove()),n===Nn?(f.forEach(b=>_.insertBefore(b)),_.insertBefore(h)):(_.insertAfter(h),_=h,f.forEach(b=>{_.insertAfter(b),_=b})),t.setTextNodeRange(a,s,l,i),!0}function yl(n,e){const t=O();if(!k(t))return!1;const{anchor:r,focus:o}=t,s=r.getNode(),i=o.getNode(),a=n===Vr;if(!Ut(t)||!se(s)&&!_e(s)||!se(i)&&!_e(i))return!1;if(a){const l=Oh(i,o.offset);if(l!==null){const{node:u,offset:c}=l;X(u)?u.selectNext(0,0):t.setTextNodeRange(u,c,u,c)}else i.getParentOrThrow().selectStart()}else Ih(i).select();return e.preventDefault(),e.stopPropagation(),!0}function Ph(n,e){if(!n.hasNodes([Vt,ar]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");e==null&&(e=Fh);const t=[];return n._headless!==!0&&t.push(n.registerMutationListener(Vt,r=>{n.update(()=>{for(const[o,s]of r)if(s!=="destroyed"){const i=te(o);i!==null&&Lh(i,n)}})},{skipInitialization:!1})),t.push(n.registerNodeTransform(Vt,r=>Rc(r,n,e)),n.registerNodeTransform(vt,r=>hl(r,n,e)),n.registerNodeTransform(ar,r=>hl(r,n,e)),n.registerCommand(ni,r=>{const o=function(s){const i=O();if(!k(i)||!Ut(i))return null;const a=s?_n:Ht,l=s?_n:cs;if(zc(i).length>1)return a;const u=i.getNodes()[0];if(ye(u)||se(u)||_e(u)||X(u)||mr(170),ye(u))return a;const c=Gt(u),d=Yn(u),f=i.anchor,h=i.focus;let g,p;return h.isBefore(f)?(g=h,p=f):(g=f,p=h),c!==null&&d!==null&&g.key===c.getKey()&&g.offset===0&&p.key===d.getKey()&&p.offset===d.getTextContentSize()?a:l}(r.shiftKey);return o!==null&&(r.preventDefault(),n.dispatchCommand(o,void 0),!0)},Te),n.registerCommand(cs,()=>!!Ut(O())&&(ju([Ke()]),!0),Te),n.registerCommand(Ht,r=>ml(Ht),Te),n.registerCommand(_n,r=>ml(_n),Te),n.registerCommand(Nn,r=>{const o=O();if(!k(o))return!1;const{anchor:s}=o,i=s.getNode();return!!Ut(o)&&(o.isCollapsed()&&s.offset===0&&i.getPreviousSibling()===null&&ye(i.getParentOrThrow())?(r.preventDefault(),!0):_l(Nn,r))},Te),n.registerCommand(Gr,r=>{const o=O();if(!k(o))return!1;const{anchor:s}=o,i=s.getNode();return!!Ut(o)&&(o.isCollapsed()&&s.offset===i.getTextContentSize()&&i.getNextSibling()===null&&ye(i.getParentOrThrow())?(r.preventDefault(),!0):_l(Gr,r))},Te),n.registerCommand(Vr,r=>yl(Vr,r),Te),n.registerCommand(us,r=>yl(us,r),Te)),dt(...t)}const $h=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?N.useLayoutEffect:N.useEffect;function Mh(n){return{initialValueFn:()=>n.isEditable(),subscribe:e=>n.registerEditableListener(e)}}function Dh(){return function(n){const[e]=$e(),t=N.useMemo(()=>n(e),[e,n]),[r,o]=N.useState(()=>t.initialValueFn()),s=N.useRef(r);return $h(()=>{const{initialValueFn:i,subscribe:a}=t,l=i();return s.current!==l&&(s.current=l,o(l)),a(u=>{s.current=u,o(u)})},[t,n]),r}(Mh)}function Rh(n){const e=window.location.origin,t=r=>{if(r.origin!==e)return;const o=n.getRootElement();if(document.activeElement!==o)return;const s=r.data;if(typeof s=="string"){let i;try{i=JSON.parse(s)}catch{return}if(i&&i.protocol==="nuanria_messaging"&&i.type==="request"){const a=i.payload;if(a&&a.functionId==="makeChanges"){const l=a.args;if(l){const[u,c,d,f,h,g]=l;n.update(()=>{const p=O();if(k(p)){const _=p.anchor;let b=_.getNode(),m=0,y=0;if(I(b)&&u>=0&&c>=0&&(m=u,y=u+c,p.setTextNodeRange(b,m,b,y)),m===y&&d===""||(p.insertRawText(d),b=_.getNode()),I(b)){m=f,y=f+h;const x=b.getTextContentSize();m=m>x?x:m,y=y>x?x:y,p.setTextNodeRange(b,m,b,y)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}function zh(n,e){const t=e.body?e.body.childNodes:[];let r=[];const o=[];for(let s=0;s<t.length;s++){const i=t[s];if(!Wc.has(i.nodeName)){const a=Kc(i,n,o,!1);a!==null&&(r=r.concat(a))}}return function(s){for(const i of s)i.getNextSibling()instanceof di&&i.insertAfter(je());for(const i of s){const a=i.getChildren();for(const l of a)i.insertBefore(l);i.remove()}}(o),r}function Bh(n,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),r=re().getChildren();for(let o=0;o<r.length;o++)Bc(n,r[o],t,e);return t.innerHTML}function Bc(n,e,t,r=null){let o=r===null||e.isSelected(r);const s=E(e)&&e.excludeFromCopy("html");let i=e;if(r!==null){let h=vi(e);h=I(h)&&r!==null?yc(r,h):h,i=h}const a=E(i)?i.getChildren():[],l=n._nodes.get(i.getType());let u;u=l&&l.exportDOM!==void 0?l.exportDOM(n,i):i.exportDOM(n);const{element:c,after:d}=u;if(!c)return!1;const f=document.createDocumentFragment();for(let h=0;h<a.length;h++){const g=a[h],p=Bc(n,g,f,r);!o&&E(e)&&p&&e.extractWithChild(g,r,"html")&&(o=!0)}if(o&&!s){if((ee(c)||vs(c))&&c.append(f),t.append(c),d){const h=d.call(i,c);h&&(vs(c)?c.replaceChildren(h):c.replaceWith(h))}}else t.append(f);return o}const Wc=new Set(["STYLE","SCRIPT"]);function Kc(n,e,t,r,o=new Map,s){let i=[];if(Wc.has(n.nodeName))return i;let a=null;const l=function(g,p){const{nodeName:_}=g,b=p._htmlConversions.get(_.toLowerCase());let m=null;if(b!==void 0)for(const y of b){const x=y(g);x!==null&&(m===null||(m.priority||0)<=(x.priority||0))&&(m=x)}return m!==null?m.conversion:null}(n,e),u=l?l(n):null;let c=null;if(u!==null){c=u.after;const g=u.node;if(a=Array.isArray(g)?g[g.length-1]:g,a!==null){for(const[,p]of o)if(a=p(a,s),!a)break;a&&i.push(...Array.isArray(g)?g:[a])}u.forChild!=null&&o.set(n.nodeName,u.forChild)}const d=n.childNodes;let f=[];const h=(a==null||!le(a))&&(a!=null&&ys(a)||r);for(let g=0;g<d.length;g++)f.push(...Kc(d[g],e,t,h,new Map(o),a));return c!=null&&(f=c(f)),ro(n)&&(f=Wh(n,f,h?()=>{const g=new di;return t.push(g),g}:Q)),a==null?f.length>0?i=i.concat(f):ro(n)&&function(g){return g.nextSibling==null||g.previousSibling==null?!1:Ss(g.nextSibling)&&Ss(g.previousSibling)}(n)&&(i=i.concat(je())):E(a)&&a.append(...f),i}function Wh(n,e,t){const r=n.style.textAlign,o=[];let s=[];for(let i=0;i<e.length;i++){const a=e[i];if(ys(a))r&&!a.getFormat()&&a.setFormat(r),o.push(a);else if(s.push(a),i===e.length-1||i<e.length-1&&ys(e[i+1])){const l=t();l.setFormat(r),l.append(...s),o.push(l),s=[]}}return o}function so(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Kh(n,e=O()){return e==null&&so(166),k(e)&&e.isCollapsed()||e.getNodes().length===0?"":Bh(n,e)}function Uh(n,e=O()){return e==null&&so(166),k(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(jh(n,e))}function bl(n,e,t){const r=n.getData("application/x-lexical-editor");if(r)try{const a=JSON.parse(r);if(a.namespace===t._config.namespace&&Array.isArray(a.nodes))return xl(t,Hh(a.nodes),e)}catch{}const o=n.getData("text/html"),s=n.getData("text/plain");if(o&&s!==o)try{const a=new DOMParser().parseFromString(function(l){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:u=>u}).createHTML(l):l}(o),"text/html");return xl(t,zh(t,a),e)}catch{}const i=s||n.getData("text/uri-list");if(i!=null)if(k(e)){const a=i.split(/(\r?\n|\t)/);a[a.length-1]===""&&a.pop();for(let l=0;l<a.length;l++){const u=O();if(k(u)){const c=a[l];c===`
`||c===`\r
`?u.insertParagraph():c==="	"?u.insertNodes([Ke()]):u.insertText(c)}}}else e.insertRawText(i)}function xl(n,e,t){n.dispatchCommand(Kf,{nodes:e,selection:t})||t.insertNodes(e)}function Uc(n,e,t,r=[]){let o=e===null||t.isSelected(e);const s=E(t)&&t.excludeFromCopy("html");let i=t;if(e!==null){let u=vi(t);u=I(u)&&e!==null?yc(e,u):u,i=u}const a=E(i)?i.getChildren():[],l=function(u){const c=u.exportJSON(),d=u.constructor;if(c.type!==d.getType()&&so(58,d.name),E(u)){const f=c.children;Array.isArray(f)||so(59,d.name)}return c}(i);if(I(i)){const u=i.__text;u.length>0?l.text=u:o=!1}for(let u=0;u<a.length;u++){const c=a[u],d=Uc(n,e,c,l.children);!o&&E(t)&&d&&t.extractWithChild(c,e,"clone")&&(o=!0)}if(o&&!s)r.push(l);else if(Array.isArray(l.children))for(let u=0;u<l.children.length;u++){const c=l.children[u];r.push(c)}return o}function jh(n,e){const t=[],r=re().getChildren();for(let o=0;o<r.length;o++)Uc(n,e,r[o],t);return{namespace:n._config.namespace,nodes:t}}function Hh(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t],o=ag(r);I(o)&&Hg(o),e.push(o)}return e}let gn=null;async function vl(n,e,t){if(gn!==null)return!1;if(e!==null)return new Promise((u,c)=>{n.update(()=>{u(Sl(n,e,t))})});const r=n.getRootElement(),o=n._window||window,s=window.document,i=Xe(o);if(r===null||i===null)return!1;const a=s.createElement("span");a.style.cssText="position: fixed; top: -1000px;",a.append(s.createTextNode("#")),r.append(a);const l=new Range;return l.setStart(a,0),l.setEnd(a,1),i.removeAllRanges(),i.addRange(l),new Promise((u,c)=>{const d=n.registerCommand(po,f=>(kt(f,ClipboardEvent)&&(d(),gn!==null&&(window.clearTimeout(gn),gn=null),u(Sl(n,f,t))),!0),gg);gn=window.setTimeout(()=>{d(),gn=null,u(!1)},50),s.execCommand("copy"),a.remove()})}function Sl(n,e,t){if(t===void 0){const o=Xe(n._window);if(!o)return!1;const s=o.anchorNode,i=o.focusNode;if(s!==null&&i!==null&&!hr(n,s,i))return!1;const a=O();if(a===null)return!1;t=qh(a)}e.preventDefault();const r=e.clipboardData;return r!==null&&(Vh(r,t),!0)}const Jh=[["text/html",Kh],["application/x-lexical-editor",Uh]];function qh(n=O()){const e={"text/plain":n?n.getTextContent():""};if(n){const t=xi();for(const[r,o]of Jh){const s=o(t,n);s!==null&&(e[r]=s)}}return e}function Vh(n,e){for(const t in e){const r=e[t];r!==void 0&&n.setData(t,r)}}function Cl(n,e){if(document.caretRangeFromPoint!==void 0){const t=document.caretRangeFromPoint(n,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const t=document.caretPositionFromPoint(n,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}const Mn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Gh=Mn&&"documentMode"in document?document.documentMode:null,Yh=!(!Mn||!("InputEvent"in window)||Gh)&&"getTargetRanges"in new window.InputEvent("input"),Zh=Mn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),wl=Mn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Xh=Mn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Qh=Mn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Xh,Tl=z("DRAG_DROP_PASTE_FILE");class Dn extends Me{static getType(){return"quote"}static clone(e){return new Dn(e.__key)}createDOM(e){const t=document.createElement("blockquote");return ae(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:ep,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ee(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r);const o=this.getDirection();o&&(t.dir=o)}return{element:t}}static importJSON(e){return To().updateFromJSON(e)}insertNewAfter(e,t){const r=Q(),o=this.getDirection();return r.setDirection(o),this.insertAfter(r,t),r}collapseAtStart(){const e=Q();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function To(){return Se(new Dn)}function Ns(n){return n instanceof Dn}let Eo=class jc extends Me{static getType(){return"heading"}static clone(e){return new jc(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,r=document.createElement(t),o=e.theme.heading;if(o!==void 0){const s=o[t];ae(r,s)}return r}updateDOM(e,t,r){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:hn,priority:0}),h2:e=>({conversion:hn,priority:0}),h3:e=>({conversion:hn,priority:0}),h4:e=>({conversion:hn,priority:0}),h5:e=>({conversion:hn,priority:0}),h6:e=>({conversion:hn,priority:0}),p:e=>{const t=e.firstChild;return t!==null&&El(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>El(e)?{conversion:t=>({node:Nt("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ee(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r);const o=this.getDirection();o&&(t.dir=o)}return{element:t}}static importJSON(e){return Nt(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){const r=e?e.anchor.offset:0,o=this.getLastDescendant(),s=!o||e&&e.anchor.key===o.getKey()&&r===o.getTextContentSize()||!e?Q():Nt(this.getTag()),i=this.getDirection();if(s.setDirection(i),this.insertAfter(s,t),r===0&&!this.isEmpty()&&e){const a=Q();a.select(),this.replace(a,!0)}return s}collapseAtStart(){const e=this.isEmpty()?Q():Nt(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}};function El(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function hn(n){const e=n.nodeName.toLowerCase();let t=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(t=Nt(e),n.style!==null&&(Si(n,t),t.setFormat(n.style.textAlign))),{node:t}}function ep(n){const e=To();return n.style!==null&&(e.setFormat(n.style.textAlign),Si(n,e)),{node:e}}function Nt(n="h1"){return Se(new Eo(n))}function Hc(n){return n instanceof Eo}function Or(n){let e=null;if(kt(n,DragEvent)?e=n.dataTransfer:kt(n,ClipboardEvent)&&(e=n.clipboardData),e===null)return[!1,[],!1];const t=e.types,r=t.includes("Files"),o=t.includes("text/html")||t.includes("text/plain");return[r,Array.from(e.files),o]}function kl(n){const e=O();if(!k(e))return!1;const t=new Set,r=e.getNodes();for(let o=0;o<r.length;o++){const s=r[o],i=s.getKey();if(t.has(i))continue;const a=Ot(s,u=>E(u)&&!u.isInline());if(a===null)continue;const l=a.getKey();a.canIndent()&&!t.has(l)&&(t.add(l),n(a))}return t.size>0}function Nl(n){const e=Lt(n);return q(e)}function Zo(n){for(const e of["lowercase","uppercase","capitalize"])n.hasFormat(e)&&n.toggleFormat(e)}function tp(n){return dt(n.registerCommand(ti,e=>{const t=O();return!!ue(t)&&(t.clear(),!0)},0),n.registerCommand(jt,e=>{const t=O();return k(t)?(t.deleteCharacter(e),!0):!!ue(t)&&(t.deleteNodes(),!0)},G),n.registerCommand(rr,e=>{const t=O();return!!k(t)&&(t.deleteWord(e),!0)},G),n.registerCommand(or,e=>{const t=O();return!!k(t)&&(t.deleteLine(e),!0)},G),n.registerCommand(xn,e=>{const t=O();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;const r=e.dataTransfer;if(r!=null)bl(r,t,n);else if(k(t)){const o=e.data;return o&&t.insertText(o),!0}}return!0},G),n.registerCommand(ls,()=>{const e=O();return!!k(e)&&(e.removeText(),!0)},G),n.registerCommand(bt,e=>{const t=O();return!!k(t)&&(t.formatText(e),!0)},G),n.registerCommand(jf,e=>{const t=O();if(!k(t)&&!ue(t))return!1;const r=t.getNodes();for(const o of r){const s=Ot(o,i=>E(i)&&!i.isInline());s!==null&&s.setFormat(e)}return!0},G),n.registerCommand(bn,e=>{const t=O();return!!k(t)&&(t.insertLineBreak(e),!0)},G),n.registerCommand(nr,()=>{const e=O();return!!k(e)&&(e.insertParagraph(),!0)},G),n.registerCommand(cs,()=>(ju([Ke()]),!0),G),n.registerCommand(Ht,()=>kl(e=>{const t=e.getIndent();e.setIndent(t+1)}),G),n.registerCommand(_n,()=>kl(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),G),n.registerCommand(Nn,e=>{const t=O();if(ue(t)){const r=t.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(k(t)){const r=bs(t.focus,!0);if(!e.shiftKey&&q(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1},G),n.registerCommand(Gr,e=>{const t=O();if(ue(t)){const r=t.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(k(t)){if(function(o){const s=o.focus;return s.key==="root"&&s.offset===re().getChildrenSize()}(t))return e.preventDefault(),!0;const r=bs(t.focus,!1);if(!e.shiftKey&&q(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},G),n.registerCommand(Su,e=>{const t=O();if(ue(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}if(!k(t))return!1;if(Ra(t,!0)){const r=e.shiftKey;return e.preventDefault(),za(t,r,!0),!0}return!1},G),n.registerCommand(vu,e=>{const t=O();if(ue(t)){const o=t.getNodes();if(o.length>0)return e.preventDefault(),o[0].selectNext(0,0),!0}if(!k(t))return!1;const r=e.shiftKey;return!!Ra(t,!1)&&(e.preventDefault(),za(t,r,!1),!0)},G),n.registerCommand(wu,e=>{if(Nl(e.target))return!1;const t=O();if(k(t)){if(function(r){if(!r.isCollapsed())return!1;const{anchor:o}=r;if(o.offset!==0)return!1;const s=o.getNode();if(ve(s))return!1;const i=Qg(s);return i.getIndent()>0&&(i.is(s)||s.is(i.getFirstDescendant()))}(t))return e.preventDefault(),n.dispatchCommand(_n,void 0);if(wl&&navigator.language==="ko-KR")return!1}else if(!ue(t))return!1;return e.preventDefault(),n.dispatchCommand(jt,!0)},G),n.registerCommand(Eu,e=>{if(Nl(e.target))return!1;const t=O();return!(!k(t)&&!ue(t))&&(e.preventDefault(),n.dispatchCommand(jt,!1))},G),n.registerCommand(Yr,e=>{const t=O();if(!k(t))return!1;if(Zo(t),e!==null){if((wl||Zh||Qh)&&Yh)return!1;if(e.preventDefault(),e.shiftKey)return n.dispatchCommand(bn,!1)}return n.dispatchCommand(nr,void 0)},G),n.registerCommand(Tu,()=>{const e=O();return!!k(e)&&(n.blur(),!0)},G),n.registerCommand(ku,e=>{const[,t]=Or(e);if(t.length>0){const o=Cl(e.clientX,e.clientY);if(o!==null){const{offset:s,node:i}=o,a=Lt(i);if(a!==null){const l=si();if(I(a))l.anchor.set(a.getKey(),s,"text"),l.focus.set(a.getKey(),s,"text");else{const c=a.getParentOrThrow().getKey(),d=a.getIndexWithinParent()+1;l.anchor.set(c,d,"element"),l.focus.set(c,d,"element")}const u=kn(l);fe(u)}n.dispatchCommand(Tl,t)}return e.preventDefault(),!0}const r=O();return!!k(r)},G),n.registerCommand(Nu,e=>{const[t]=Or(e),r=O();return!(t&&!k(r))},G),n.registerCommand(Au,e=>{const[t]=Or(e),r=O();if(t&&!k(r))return!1;const o=Cl(e.clientX,e.clientY);if(o!==null){const s=Lt(o.node);q(s)&&e.preventDefault()}return!0},G),n.registerCommand(ds,()=>(xg(),!0),G),n.registerCommand(po,e=>(vl(n,kt(e,ClipboardEvent)?e:null),!0),G),n.registerCommand(ri,e=>(async function(t,r){await vl(r,kt(t,ClipboardEvent)?t:null),r.update(()=>{const o=O();k(o)?o.removeText():ue(o)&&o.getNodes().forEach(s=>s.remove())})}(e,n),!0),G),n.registerCommand(ho,e=>{const[,t,r]=Or(e);return t.length>0&&!r?(n.dispatchCommand(Tl,t),!0):Ln(e.target)&&fi(e.target)?!1:O()!==null&&(function(o,s){o.preventDefault(),s.update(()=>{const i=O(),a=kt(o,InputEvent)||kt(o,KeyboardEvent)?null:o.clipboardData;a!=null&&i!==null&&bl(a,i,s)},{tag:ug})}(e,n),!0)},G),n.registerCommand(Cu,e=>{const t=O();return k(t)&&Zo(t),!1},G),n.registerCommand(ni,e=>{const t=O();return k(t)&&Zo(t),!1},G))}const As=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?N.useLayoutEffect:N.useEffect;function Al(n){return n.getEditorState().read(pc(n.isComposing()))}function np({contentEditable:n,placeholder:e=null,ErrorBoundary:t}){const[r]=$e(),o=function(s,i){const[a,l]=N.useState(()=>s.getDecorators());return As(()=>s.registerDecoratorListener(u=>{es.flushSync(()=>{l(u)})}),[s]),N.useEffect(()=>{l(s.getDecorators())},[s]),N.useMemo(()=>{const u=[],c=Object.keys(a);for(let d=0;d<c.length;d++){const f=c[d],h=M.jsx(i,{onError:p=>s._onError(p),children:M.jsx(N.Suspense,{fallback:null,children:a[f]})}),g=s.getElementByKey(f);g!==null&&u.push(es.createPortal(h,g,f))}return u},[i,a,s])}(r,t);return function(s){As(()=>dt(tp(s),Rh(s)),[s])}(r),M.jsxs(M.Fragment,{children:[n,M.jsx(rp,{content:e}),o]})}function rp({content:n}){const[e]=$e(),t=function(o){const[s,i]=N.useState(()=>Al(o));return As(()=>{function a(){const l=Al(o);i(l)}return a(),dt(o.registerUpdateListener(()=>{a()}),o.registerEditableListener(()=>{a()}))},[o]),s}(e),r=Dh();return t?typeof n=="function"?n(r):n:null}const Li=/^(\d+(?:\.\d+)?)px$/,wn={BOTH:3,NO_STATUS:0,ROW:1};class _r extends Me{static getType(){return"tablecell"}static clone(e){return new _r(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:Fl,priority:0}),th:e=>({conversion:Fl,priority:0})}}static importJSON(e){return Jc().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(e=wn.NO_STATUS,t=1,r,o){super(o),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=r,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(t.style.backgroundColor=this.__backgroundColor),Fs(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),ae(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if(ee(t.element)){const r=t.element;r.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),r.style.border="1px solid black",this.__colSpan>1&&(r.colSpan=this.__colSpan),this.__rowSpan>1&&(r.rowSpan=this.__rowSpan),r.style.width=`${this.getWidth()||75}px`,r.style.verticalAlign=this.getVerticalAlign()||"top",r.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(r.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...Fs(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,t=wn.BOTH){const r=this.getWritable();return r.__headerState=e&t|r.__headerState&~t,r}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==wn.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function Fs(n){return n==="middle"||n==="bottom"}function Fl(n){const e=n,t=n.nodeName.toLowerCase();let r;Li.test(e.style.width)&&(r=parseFloat(e.style.width));const o=Jc(t==="th"?wn.ROW:wn.NO_STATUS,e.colSpan,r);o.__rowSpan=e.rowSpan;const s=e.style.backgroundColor;s!==""&&(o.__backgroundColor=s);const i=e.style.verticalAlign;Fs(i)&&(o.__verticalAlign=i);const a=e.style,l=(a&&a.textDecoration||"").split(" "),u=a.fontWeight==="700"||a.fontWeight==="bold",c=l.includes("line-through"),d=a.fontStyle==="italic",f=l.includes("underline");return{after:h=>{const g=[];let p=null;const _=()=>{if(p){const b=p.getFirstChild();X(b)&&p.getChildrenSize()===1&&b.remove()}};for(const b of h)Cg(b)||I(b)||X(b)?(I(b)&&(u&&b.toggleFormat("bold"),c&&b.toggleFormat("strikethrough"),d&&b.toggleFormat("italic"),f&&b.toggleFormat("underline")),p?p.append(b):(p=Q().append(b),g.push(p))):(g.push(b),_(),p=null);return _(),g.length===0&&g.push(Q()),g},node:o}}function Jc(n=wn.NO_STATUS,e=1,t){return Se(new _r(n,e,t))}function lr(n){return n instanceof _r}function Os(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class yr extends Me{static getType(){return"tablerow"}static clone(e){return new yr(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:op,priority:0})}}static importJSON(e){return qc().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...e===void 0?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),ae(t,e.theme.tableRow),t}extractWithChild(e,t,r){return r==="html"}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function op(n){const e=n;let t;return Li.test(e.style.height)&&(t=parseFloat(e.style.height)),{after:r=>Cc(r,lr),node:qc(t)}}function qc(n){return Se(new yr(n))}function Vc(n){return n instanceof yr}const Gc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,sp=Gc&&"documentMode"in document?document.documentMode:null;Gc&&"InputEvent"in window&&!sp&&new window.InputEvent("input");function ip(n,e,t){const r=[];let o=null,s=null;function i(l){let u=r[l];return u===void 0&&(r[l]=u=[]),u}const a=n.getChildren();for(let l=0;l<a.length;l++){const u=a[l];Vc(u)||Os(209);const c=i(l);for(let d=u.getFirstChild(),f=0;d!=null;d=d.getNextSibling()){for(lr(d)||Os(147);c[f]!==void 0;)f++;const h={cell:d,startColumn:f,startRow:l},{__rowSpan:g,__colSpan:p}=d;for(let _=0;_<g&&!(l+_>=a.length);_++){const b=i(l+_);for(let m=0;m<p;m++)b[f+m]=h}}}return[r,o,s]}function Bn(n){return ee(n)&&n.nodeName==="TABLE"}function ap(n,e){for(let t=e,r=null;t!==null;t=t.getParent()){if(n.is(t))return r;lr(t)&&(r=t)}return null}function lp(n,e,t){return ap(n,Lt(e,t))}function Ol(n,e,t){if(!e.theme.tableAlignment)return;const r=[],o=[];for(const s of["center","right"]){const i=e.theme.tableAlignment[s];i&&(s===t?o:r).push(i)}Ft(n,...r),ae(n,...o)}const up=new WeakSet;function Il(n=xi()){return up.has(n)}class ko extends Me{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new ko(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:cp,priority:1})}}static importJSON(e){return Yc().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,r){return r==="html"}getDOMSlot(e){const t=Bn(e)?e:e.querySelector("table");return Bn(t)||Os(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const r=document.createElement("table");this.__style&&(r.style.cssText=this.__style);const o=document.createElement("colgroup");if(r.appendChild(o),Ng(o),ae(r,e.theme.table),this.updateTableElement(null,r,e),Il(t)){const s=document.createElement("div"),i=e.theme.tableScrollableWrapper;return i?ae(s,i):s.style.cssText="overflow-x: auto;",s.appendChild(r),this.updateTableWrapper(null,s,r,e),s}return r}updateTableWrapper(e,t,r,o){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(s,i,a,l){l>0?(ae(s,a.theme.tableFrozenColumn),i.setAttribute("data-lexical-frozen-column","true")):(Ft(s,a.theme.tableFrozenColumn),i.removeAttribute("data-lexical-frozen-column"))}(t,r,o,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(s,i,a,l){l>0?(ae(s,a.theme.tableFrozenRow),i.setAttribute("data-lexical-frozen-row","true")):(Ft(s,a.theme.tableFrozenRow),i.removeAttribute("data-lexical-frozen-row"))}(t,r,o,this.__frozenRowCount)}updateTableElement(e,t,r){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(o,s,i){i?(ae(o,s.theme.tableRowStriping),o.setAttribute("data-lexical-row-striping","true")):(Ft(o,s.theme.tableRowStriping),o.removeAttribute("data-lexical-row-striping"))}(t,r,this.__rowStriping),function(o,s,i,a){const l=o.querySelector("colgroup");if(!l)return;const u=[];for(let c=0;c<i;c++){const d=document.createElement("col"),f=a&&a[c];f&&(d.style.width=`${f}px`),u.push(d)}l.replaceChildren(...u)}(t,0,this.getColumnCount(),this.getColWidths()),Ol(t,r,this.getFormatType())}updateDOM(e,t,r){const o=this.getDOMSlot(t).element;return t===o===Il()||(ee(s=t)&&s.nodeName==="DIV"&&this.updateTableWrapper(e,t,o,r),this.updateTableElement(e,o,r),!1);var s}exportDOM(e){const t=super.exportDOM(e),{element:r}=t;return{after:o=>{if(t.after&&(o=t.after(o)),!Bn(o)&&ee(o)&&(o=o.querySelector("table")),!Bn(o))return null;Ol(o,e._config,this.getFormatType());const[s]=ip(this),i=new Map;for(const c of s)for(const d of c){const f=d.cell.getKey();i.has(f)||i.set(f,{colSpan:d.cell.getColSpan(),startColumn:d.startColumn})}const a=new Set;for(const c of o.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const d=c.getAttribute("data-temporary-table-cell-lexical-key");if(d){const f=i.get(d);if(c.removeAttribute("data-temporary-table-cell-lexical-key"),f){i.delete(d);for(let h=0;h<f.colSpan;h++)a.add(h+f.startColumn)}}}const l=o.querySelector(":scope > colgroup");if(l){const c=Array.from(o.querySelectorAll(":scope > colgroup > col")).filter((d,f)=>a.has(f));l.replaceChildren(...c)}const u=o.querySelectorAll(":scope > tr");if(u.length>0){const c=document.createElement("tbody");for(const d of u)c.appendChild(d);o.append(c)}return o},element:!Bn(r)&&ee(r)?r.querySelector("table"):r}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:r,domRows:o}=t;for(let s=0;s<r;s++){const i=o[s];if(i!=null)for(let a=0;a<i.length;a++){const l=i[a];if(l==null)continue;const{elem:u}=l,c=lp(this,u);if(c!==null&&e.is(c))return{x:a,y:s}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,r){const{domRows:o}=r,s=o[t];if(s==null)return null;const i=s[e<s.length?e:s.length-1];return i??null}getDOMCellFromCordsOrThrow(e,t,r){const o=this.getDOMCellFromCords(e,t,r);if(!o)throw new Error("Cell not found at cords.");return o}getCellNodeFromCords(e,t,r){const o=this.getDOMCellFromCords(e,t,r);if(o==null)return null;const s=Lt(o.elem);return lr(s)?s:null}getCellNodeFromCordsOrThrow(e,t,r){const o=this.getCellNodeFromCords(e,t,r);if(!o)throw new Error("Node at cords not TableCellNode.");return o}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach(r=>{lr(r)&&(t+=r.getColSpan())}),t}}function cp(n){const e=Yc();n.hasAttribute("data-lexical-row-striping")&&e.setRowStriping(!0),n.hasAttribute("data-lexical-frozen-column")&&e.setFrozenColumns(1),n.hasAttribute("data-lexical-frozen-row")&&e.setFrozenRows(1);const t=n.querySelector(":scope > colgroup");if(t){let r=[];for(const o of t.querySelectorAll(":scope > col")){let s=o.style.width||"";if(!Li.test(s)&&(s=o.getAttribute("width")||"",!/^\d+$/.test(s))){r=void 0;break}r.push(parseFloat(s))}r&&e.setColWidths(r)}return{after:r=>Cc(r,Vc),node:e}}function Yc(){return Se(new ko)}function Is(n,e){const t={};for(const r of n){const o=e(r);o&&(t[o]?t[o].push(r):t[o]=[r])}return t}function Pi(n){const e=Is(n,t=>t.type);return{element:e.element||[],multilineElement:e["multiline-element"]||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}const io=/[!-/:-@[-`{-~\s]/,dp=/^\s{0,3}$/;function Ls(n){if(!bo(n))return!1;const e=n.getFirstChild();return e==null||n.getChildrenSize()===1&&I(e)&&dp.test(e.getTextContent())}const fp=/^\+?[0-9\s()-]{5,}$/;function gp(n,e,t,r){for(const o of e){if(!o.export)continue;const s=o.export(n,i=>ao(i,t,r));if(s!=null)return s}return E(n)?ao(n,t,r):q(n)?n.getTextContent():null}function ao(n,e,t,r,o){const s=[],i=n.getChildren();r||(r=[]),o||(o=[]);e:for(const a of i){for(const l of t){if(!l.export)continue;const u=l.export(a,c=>ao(c,e,t,r,[...o,...r]),(c,d)=>Ll(c,d,e,r,o));if(u!=null){s.push(u);continue e}}X(a)?s.push(`
`):I(a)?s.push(Ll(a,a.getTextContent(),e,r,o)):E(a)?s.push(ao(a,e,t,r,o)):q(a)&&s.push(a.getTextContent())}return s.join("")}function Ll(n,e,t,r,o){let s=n.getFormat()===0?e:function(f){return f.replace(/^\s+|\s+$/g,h=>[...h].map(g=>"&#"+g.codePointAt(0)+";").join(""))}(e);n.hasFormat("code")||(s=s.replace(/([*_`~\\])/g,"\\$1"));let i="",a="",l="";const u=Pl(n,!0),c=Pl(n,!1),d=new Set;for(const f of t){const h=f.format[0],g=f.tag;Ir(n,h)&&!d.has(h)&&(d.add(h),Ir(u,h)&&r.find(p=>p.tag===g)||(r.push({format:h,tag:g}),i+=g))}for(let f=0;f<r.length;f++){const h=Ir(n,r[f].format),g=Ir(c,r[f].format);if(h&&g)continue;const p=[...r];for(;p.length>f;){const _=p.pop();o&&_&&o.find(b=>b.tag===_.tag)||(_&&typeof _.tag=="string"&&(h?g||(l+=_.tag):a+=_.tag),r.pop())}break}return s=i+s+l,a+s}function Pl(n,e){let t=e?n.getPreviousSibling():n.getNextSibling();if(!t){const r=n.getParentOrThrow();r.isInline()&&(t=e?r.getPreviousSibling():r.getNextSibling())}for(;t;){if(E(t)){if(!t.isInline())break;const r=e?t.getLastDescendant():t.getFirstDescendant();if(I(r))return r;t=e?t.getPreviousSibling():t.getNextSibling()}if(I(t))return t;if(!E(t))return null}return null}function Ir(n,e){return I(n)&&n.hasFormat(e)}function hp(n,e){const t=function(o,s){const i=o.match(s.openTagsRegExp);if(i==null)return null;for(const a of i){const l=a.replace(/^\s/,""),u=s.fullMatchRegExpByTag[l];if(u==null)continue;const c=o.match(u),d=s.transformersByTag[l];if(c!=null&&d!=null){if(d.intraword!==!1)return c;const{index:f=0}=c,h=o[f-1],g=o[f+c[0].length];if((!h||io.test(h))&&(!g||io.test(g)))return c}}return null}(n.getTextContent(),e);if(!t)return null;const r=t.index||0;return{endIndex:r+t[0].length,match:t,startIndex:r,transformer:e.transformersByTag[t[1]]}}function Bt(n){return I(n)&&!n.hasFormat("code")}function Wt(n,e,t){let r=hp(n,e),o=function(i,a){const l=i;let u,c,d,f;for(const h of a){if(!h.replace||!h.importRegExp)continue;const g=l.getTextContent().match(h.importRegExp);if(!g)continue;const p=g.index||0,_=h.getEndIndex?h.getEndIndex(l,g):p+g[0].length;_!==!1&&(u===void 0||c===void 0||p<u&&_>c)&&(u=p,c=_,d=h,f=g)}return u===void 0||c===void 0||d===void 0||f===void 0?null:{endIndex:c,match:f,startIndex:u,transformer:d}}(n,t);if(r&&o&&(r.startIndex<=o.startIndex&&r.endIndex>=o.endIndex?o=null:r=null),r){const i=function(a,l,u,c,d){const f=a.getTextContent();let h,g,p;if(d[0]===f?h=a:l===0?[h,g]=a.splitText(u):[p,h,g]=a.splitText(l,u),h.setTextContent(d[2]),c)for(const _ of c.format)h.hasFormat(_)||h.toggleFormat(_);return{nodeAfter:g,nodeBefore:p,transformedNode:h}}(n,r.startIndex,r.endIndex,r.transformer,r.match);Bt(i.nodeAfter)&&Wt(i.nodeAfter,e,t),Bt(i.nodeBefore)&&Wt(i.nodeBefore,e,t),Bt(i.transformedNode)&&Wt(i.transformedNode,e,t)}else if(o){const i=function(a,l,u,c,d){let f,h,g;return l===0?[f,h]=a.splitText(u):[g,f,h]=a.splitText(l,u),c.replace?{nodeAfter:h,nodeBefore:g,transformedNode:c.replace(f,d)||void 0}:null}(n,o.startIndex,o.endIndex,o.transformer,o.match);if(!i)return;Bt(i.nodeAfter)&&Wt(i.nodeAfter,e,t),Bt(i.nodeBefore)&&Wt(i.nodeBefore,e,t),Bt(i.transformedNode)&&Wt(i.transformedNode,e,t)}const s=n.getTextContent().replace(/\\([*_`~\\])/g,"$1").replace(/&#(\d+);/g,(i,a)=>String.fromCodePoint(a));n.setTextContent(s)}function pp(n,e=!1){const t=Pi(n),r=function(o){const s={},i={},a=[],l="(?<![\\\\])";for(const u of o){const{tag:c}=u;s[c]=u;const d=c.replace(/(\*|\^|\+)/g,"\\$1");a.push(d),c.length===1?i[c]=new RegExp(`(?<![\\\\${d}])(${d})((\\\\${d})?.*?[^${d}\\s](\\\\${d})?)((?<!\\\\)|(?<=\\\\\\\\))(${d})(?![\\\\${d}])`):i[c]=new RegExp(`(?<!\\\\)(${d})((\\\\${d})?.*?[^\\s](\\\\${d})?)((?<!\\\\)|(?<=\\\\\\\\))(${d})(?!\\\\)`)}return{fullMatchRegExpByTag:i,openTagsRegExp:new RegExp(`${l}(${a.join("|")})`,"g"),transformersByTag:s}}(t.textFormat);return(o,s)=>{const i=o.split(`
`),a=i.length,l=s||re();l.clear();for(let c=0;c<a;c++){const d=i[c],[f,h]=mp(i,c,t.multilineElement,l);f?c=h:_p(d,l,t.element,r,t.textMatch,e)}const u=l.getChildren();for(const c of u)!e&&Ls(c)&&l.getChildrenSize()>1&&c.remove();O()!==null&&l.selectStart()}}function mp(n,e,t,r){for(const o of t){const{handleImportAfterStartMatch:s,regExpEnd:i,regExpStart:a,replace:l}=o,u=n[e].match(a);if(!u)continue;if(s){const g=s({lines:n,rootNode:r,startLineIndex:e,startMatch:u,transformer:o});if(g===null)continue;if(g)return g}const c=typeof i=="object"&&"regExp"in i?i.regExp:i,d=i&&typeof i=="object"&&"optional"in i?i.optional:!i;let f=e;const h=n.length;for(;f<h;){const g=c?n[f].match(c):null;if(!g&&(!d||d&&f<h-1)){f++;continue}if(g&&e===f&&g.index===u.index){f++;continue}const p=[];if(g&&e===f)p.push(n[e].slice(u[0].length,-g[0].length));else for(let _=e;_<=f;_++)if(_===e){const b=n[_].slice(u[0].length);p.push(b)}else if(_===f&&g){const b=n[_].slice(0,-g[0].length);p.push(b)}else p.push(n[_]);if(l(r,null,u,g,p,!0)!==!1)return[!0,f];break}}return[!1,e]}function _p(n,e,t,r,o,s){const i=oe(n),a=Q();a.append(i),e.append(a);for(const{regExp:l,replace:u}of t){const c=n.match(l);if(c&&(i.setTextContent(n.slice(c[0].length)),u(a,[i],c,!0)!==!1))break}if(Wt(i,r,o),a.isAttached()&&n.length>0){const l=a.getPreviousSibling();if(!s&&(bo(l)||Ns(l)||D(l))){let u=l;if(D(l)){const c=l.getLastDescendant();u=c==null?null:Ot(c,V)}u!=null&&u.getTextContentSize()>0&&(u.splice(u.getChildrenSize(),0,[je(),...a.getChildren()]),a.remove())}}}function yp(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function $l(n,e,t){const r=t.length;for(let o=e;o>=r;o--){const s=o-r;if(Zc(n,s,t,0,r)&&n[s+r]!==" ")return s}return-1}function Zc(n,e,t,r,o){for(let s=0;s<o;s++)if(n[e+s]!==t[r+s])return!1;return!0}function bp(n,e=Rn){const t=Pi(e),r=Is(t.textFormat,({tag:i})=>i[i.length-1]),o=Is(t.textMatch,({trigger:i})=>i);for(const i of e){const a=i.type;if(a==="element"||a==="text-match"||a==="multiline-element"){const l=i.dependencies;for(const u of l)n.hasNode(u)||yp(173,u.getType())}}const s=(i,a,l)=>{(function(u,c,d,f){const h=u.getParent();if(!le(h)||u.getFirstChild()!==c)return!1;const g=c.getTextContent();if(g[d-1]!==" ")return!1;for(const{regExp:p,replace:_}of f){const b=g.match(p);if(b&&b[0].length===(b[0].endsWith(" ")?d:d-1)){const m=c.getNextSiblings(),[y,x]=c.splitText(d);if(y.remove(),_(u,x?[x,...m]:m,b,!1)!==!1)return!0}}return!1})(i,a,l,t.element)||function(u,c,d,f){const h=u.getParent();if(!le(h)||u.getFirstChild()!==c)return!1;const g=c.getTextContent();if(g[d-1]!==" ")return!1;for(const{regExpStart:p,replace:_,regExpEnd:b}of f){if(b&&!("optional"in b)||b&&"optional"in b&&!b.optional)continue;const m=g.match(p);if(m&&m[0].length===(m[0].endsWith(" ")?d:d-1)){const y=c.getNextSiblings(),[x,S]=c.splitText(d);if(x.remove(),_(u,S?[S,...y]:y,m,null,null,!1)!==!1)return!0}}return!1}(i,a,l,t.multilineElement)||function(u,c,d){let f=u.getTextContent();const h=d[f[c-1]];if(h==null)return!1;c<f.length&&(f=f.slice(0,c));for(const g of h){if(!g.replace||!g.regExp)continue;const p=f.match(g.regExp);if(p===null)continue;const _=p.index||0,b=_+p[0].length;let m;return _===0?[m]=u.splitText(b):[,m]=u.splitText(_,b),m.selectNext(0,0),g.replace(m,p),!0}return!1}(a,l,o)||function(u,c,d){const f=u.getTextContent(),h=c-1,g=f[h],p=d[g];if(!p)return!1;for(const _ of p){const{tag:b}=_,m=b.length,y=h-m+1;if(m>1&&!Zc(f,y,b,0,m)||f[y-1]===" ")continue;const x=f[h+1];if(_.intraword===!1&&x&&!io.test(x))continue;const S=u;let v=S,w=$l(f,y,b),T=v;for(;w<0&&(T=T.getPreviousSibling())&&!X(T);)if(I(T)){if(T.hasFormat("code"))continue;const j=T.getTextContent();v=T,w=$l(j,j.length,b)}if(w<0||v===S&&w+m===y)continue;const C=v.getTextContent();if(w>0&&C[w-1]===g)continue;const F=C[w-1];if(_.intraword===!1&&F&&!io.test(F))continue;const P=S.getTextContent(),R=P.slice(0,y)+P.slice(h+1);S.setTextContent(R);const U=v===S?R:C;v.setTextContent(U.slice(0,w)+U.slice(w+m));const B=O(),K=si();fe(K);const $=h-m*(v===S?2:1)+1;K.anchor.set(v.__key,w,"text"),K.focus.set(S.__key,$,"text");for(const j of _.format)K.hasFormat(j)||K.formatText(j);K.anchor.set(K.focus.key,K.focus.offset,K.focus.type);for(const j of _.format)K.hasFormat(j)&&K.toggleFormat(j);return k(B)&&(K.format=B.format),!0}}(a,l,r)};return n.registerUpdateListener(({tags:i,dirtyLeaves:a,editorState:l,prevEditorState:u})=>{if(i.has(Zu)||i.has(lg)||n.isComposing())return;const c=l.read(O),d=u.read(O);if(!k(d)||!k(c)||!c.isCollapsed()||c.is(d))return;const f=c.anchor.key,h=c.anchor.offset,g=l._nodeMap.get(f);!I(g)||!a.has(f)||h!==1&&h>d.anchor.offset+1||n.update(()=>{if(!Bt(g))return;const p=g.getParent();p===null||ye(p)||s(p,g,c.anchor.offset)})})}const Xc=/^(\s*)(\d{1,})\.\s/,Qc=/^(\s*)[-*+]\s/,xp=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,Ps=/^(#{1,6})\s/,ed=/^>\s/,td=/^[ \t]*```(\w+)?/,nd=/[ \t]*```$/,vp=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,Sp=/^(?:\|)(.+)(?:\|)\s?$/,Cp=/^(\| ?:?-*:? ?)+\|\s?$/,rd=n=>(e,t,r)=>{const o=n(r);o.append(...t),e.replace(o),o.select(0,0)},od=n=>(e,t,r)=>{const o=e.getPreviousSibling(),s=e.getNextSibling(),i=Oe(n==="check"?r[3]==="x":void 0);if(D(s)&&s.getListType()===n){const l=s.getFirstChild();l!==null?l.insertBefore(i):s.append(i),e.remove()}else if(D(o)&&o.getListType()===n)o.append(i),e.remove();else{const l=Ne(n,n==="number"?Number(r[2]):void 0);l.append(i),e.replace(l)}i.append(...t),i.select(0,0);const a=function(l){const u=l.match(/\t/g),c=l.match(/ /g);let d=0;return u&&(d+=u.length),c&&(d+=Math.floor(c.length/4)),d}(r[1]);a&&i.setIndent(a)},$i=(n,e,t)=>{const r=[],o=n.getChildren();let s=0;for(const i of o)if(V(i)){if(i.getChildrenSize()===1){const c=i.getFirstChild();if(D(c)){r.push($i(c,e,t+1));continue}}const a=" ".repeat(4*t),l=n.getListType(),u=l==="number"?`${n.getStart()+s}. `:l==="check"?`- [${i.getChecked()?"x":" "}] `:"- ";r.push(a+u+e(i)),s++}return r.join(`
`)},wp={dependencies:[Eo],export:(n,e)=>{if(!Hc(n))return null;const t=Number(n.getTag().slice(1));return"#".repeat(t)+" "+e(n)},regExp:Ps,replace:rd(n=>{const e="h"+n[1].length;return Nt(e)}),type:"element"},Tp={dependencies:[Dn],export:(n,e)=>{if(!Ns(n))return null;const t=e(n).split(`
`),r=[];for(const o of t)r.push("> "+o);return r.join(`
`)},regExp:ed,replace:(n,e,t,r)=>{if(r){const s=n.getPreviousSibling();if(Ns(s))return s.splice(s.getChildrenSize(),0,[je(),...e]),s.select(0,0),void n.remove()}const o=To();o.append(...e),n.replace(o),o.select(0,0)},type:"element"},Ep={dependencies:[Vt],export:n=>{if(!ye(n))return null;const e=n.getTextContent();return"```"+(n.getLanguage()||"")+(e?`
`+e:"")+"\n```"},regExpEnd:{optional:!0,regExp:nd},regExpStart:td,replace:(n,e,t,r,o,s)=>{let i,a;if(!e&&o){if(o.length===1)r?(i=lt(),a=t[1]+o[0]):(i=lt(t[1]),a=o[0].startsWith(" ")?o[0].slice(1):o[0]);else{if(i=lt(t[1]),o[0].trim().length===0)for(;o.length>0&&!o[0].length;)o.shift();else o[0]=o[0].startsWith(" ")?o[0].slice(1):o[0];for(;o.length>0&&!o[o.length-1].length;)o.pop();a=o.join(`
`)}const l=oe(a);i.append(l),n.append(i)}else e&&rd(l=>lt(l?l[1]:void 0))(n,e,t,s)},type:"multiline-element"},kp={dependencies:[Dt,Mt],export:(n,e)=>D(n)?$i(n,e,0):null,regExp:Qc,replace:od("bullet"),type:"element"},Np={dependencies:[Dt,Mt],export:(n,e)=>D(n)?$i(n,e,0):null,regExp:Xc,replace:od("number"),type:"element"},Ap={format:["code"],tag:"`",type:"text-format"},Fp={format:["highlight"],tag:"==",type:"text-format"},Op={format:["bold","italic"],tag:"***",type:"text-format"},Ip={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},Lp={format:["bold"],tag:"**",type:"text-format"},Pp={format:["bold"],intraword:!1,tag:"__",type:"text-format"},$p={format:["strikethrough"],tag:"~~",type:"text-format"},Mp={format:["italic"],tag:"*",type:"text-format"},Dp={format:["italic"],intraword:!1,tag:"_",type:"text-format"},Rp={dependencies:[$n],export:(n,e,t)=>{if(!We(n)||Un(n))return null;const r=n.getTitle(),o=e(n);return r?`[${o}](${n.getURL()} "${r}")`:`[${o}](${n.getURL()})`},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(n,e)=>{const[,t,r,o]=e,s=(i=r).match(/^[a-z][a-z0-9+.-]*:/i)||i.match(/^[/#.]/)?i:i.includes("@")?`mailto:${i}`:fp.test(i)?`tel:${i}`:`https://${i}`;var i;const a=In(s,{title:o}),l=oe(t);return l.setFormat(n.getFormat()),a.append(l),n.replace(a),l},trigger:")",type:"text-match"},zp=[wp,Tp,kp,Np],Bp=[Ep],Wp=[Ap,Op,Ip,Lp,Pp,Fp,Mp,Dp,$p],Kp=[Rp],Rn=[...zp,...Bp,...Wp,...Kp];function sd(n,e=Rn,t,r=!1,o=!1){const s=r?n:function(i,a=!1){const l=i.split(`
`);let u=!1;const c=[];for(let d=0;d<l.length;d++){const f=l[d],h=c[c.length-1];vp.test(f)?c.push(f):td.test(f)||nd.test(f)?(u=!u,c.push(f)):u||f===""||h===""||!h||Ps.test(h)||Ps.test(f)||ed.test(f)||Xc.test(f)||Qc.test(f)||xp.test(f)||Sp.test(f)||Cp.test(f)||!a?c.push(f):c[c.length-1]=h+f}return c.join(`
`)}(n,o);return pp(e,r)(s,t)}function Up(n=Rn,e,t=!1){return function(o,s=!1){const i=Pi(o),a=[...i.multilineElement,...i.element],l=!s,u=i.textFormat.filter(c=>c.format.length===1).sort((c,d)=>Number(c.format.includes("code"))-Number(d.format.includes("code")));return c=>{const d=[],f=(c||re()).getChildren();for(let h=0;h<f.length;h++){const g=f[h],p=gp(g,a,u,i.textMatch);p!=null&&d.push(l&&h>0&&!Ls(g)&&!Ls(f[h-1])?`
`.concat(p):p)}return d.join(`
`)}}(n,t)(e)}function Ml(n,e){return n.getEditorState().read(()=>{const t=te(e);return t!==null&&t.isSelected()})}function jp(n){const[e]=$e(),[t,r]=N.useState(()=>Ml(e,n));return N.useEffect(()=>{let o=!0;const s=e.registerUpdateListener(()=>{o&&r(Ml(e,n))});return()=>{o=!1,s()}},[e,n]),[t,N.useCallback(o=>{e.update(()=>{let s=O();ue(s)||(s=ii(),fe(s)),ue(s)&&(o?s.add(n):s.delete(n))})},[e,n]),N.useCallback(()=>{e.update(()=>{const o=O();ue(o)&&o.clear()})},[e])]}function Hp({nodeKey:n}){const[e]=$e(),[t,r,o]=jp(n);return N.useEffect(()=>dt(e.registerCommand(ti,s=>{const i=e.getElementByKey(n);return s.target===i&&(s.shiftKey||o(),r(!t),!0)},Te)),[o,e,t,n,r]),N.useEffect(()=>{const s=e.getElementByKey(n),i=e._config.theme.hrSelected??"selected";s!==null&&(t?ae(s,i):Ft(s,i))},[e,t,n]),null}class br extends Vu{static getType(){return"horizontalrule"}static clone(e){return new br(e.__key)}static importJSON(e){return Mi().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:Jp,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const t=document.createElement("hr");return ae(t,e.theme.hr),t}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return M.jsx(Hp,{nodeKey:this.__key})}}function Jp(){return{node:Mi()}}function Mi(){return Se(new br)}function qp(n){return n instanceof br}const Vp=[{dependencies:[br],export:n=>qp(n)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(n,e,t,r)=>{const o=Mi();r||n.getNextSibling()!=null?n.replace(o):n.insertBefore(o),o.selectNext()},type:"element"},...Rn];function Gp({transformers:n=Vp}){const[e]=$e();return N.useEffect(()=>bp(e,n),[e,n]),null}const Yp="_toolbar_sfd4o_1",Zp={toolbar:Yp},id=1;function Xp(){return J("div",{className:"divider"})}function Dl(n,e){e===null?(n.style.opacity="0",n.style.top="-1000px",n.style.left="-1000px"):(n.style.opacity="1",n.style.top=`${e.top+e.height+window.pageYOffset+10}px`,n.style.left=`${e.left+window.pageXOffset-n.offsetWidth/2+e.width/2}px`)}function Qp({editor:n}){const e=N.useRef(null),t=N.useRef(null),r=N.useRef(!1),[o,s]=N.useState(""),[i,a]=N.useState(!1),[l,u]=N.useState(null),c=N.useCallback(()=>{const d=O();if(k(d)){const _=ad(d),b=_.getParent();We(b)?s(b.getURL()):We(_)?s(_.getURL()):s("")}const f=e.current,h=window.getSelection(),g=document.activeElement;if(f===null)return;const p=n.getRootElement();if(d!==null&&!h.isCollapsed&&p!==null&&p.contains(h.anchorNode)){const _=h.getRangeAt(0);let b;if(h.anchorNode===p){let m=p;for(;m.firstElementChild!=null;)m=m.firstElementChild;b=m.getBoundingClientRect()}else b=_.getBoundingClientRect();r.current||Dl(f,b),u(d)}else(!g||g.className!=="link-input")&&(Dl(f,null),u(null),a(!1),s(""));return!0},[n]);return N.useEffect(()=>dt(n.registerUpdateListener(({editorState:d})=>{d.read(()=>{c()})}),n.registerCommand(go,()=>(c(),!0),id)),[n,c]),N.useEffect(()=>{n.getEditorState().read(()=>{c()})},[n,c]),N.useEffect(()=>{i&&t.current&&t.current.focus()},[i]),J("div",{ref:e,className:"link-editor",children:i?J("input",{ref:t,className:"link-input",value:o,onChange:d=>{s(d.target.value)},onKeyDown:d=>{d.key==="Enter"?(d.preventDefault(),l!==null&&(o!==""&&n.dispatchCommand(ir,o),a(!1))):d.key==="Escape"&&(d.preventDefault(),a(!1))}}):J(zr,{children:Tt("div",{className:"link-input",children:[J("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:o}),J("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:d=>d.preventDefault(),onClick:()=>{a(!0)}})]})})})}function ad(n){const e=n.anchor,t=n.focus,r=n.anchor.getNode(),o=n.focus.getNode();return r===o?r:n.isBackward()?Ma(t)?r:o:Ma(e)?o:r}const Hn={paragraph:{label:"Normal",onChange:Wn("paragraph",()=>Q()),icon:df},h1:{label:"Large Heading",onChange:Wn("h1",()=>Nt("h1")),icon:nf},code:{label:"Code",onChange:Wn("code",()=>lt()),icon:nu},quote:{label:"Quote",onChange:Wn("quote",()=>To()),icon:uf},ol:{label:"Numbered list",onChange:Rl("ol",Ic,Es),icon:af},ul:{label:"Unordered list",onChange:Rl("ul",Oc,Es),icon:lf},h2:{label:"Small heading",onChange:Wn("h2",()=>Nt("h2")),icon:rf}};function Wn(n,e){return(t,r)=>{r!==n&&t.update(()=>{const o=O();k(o)&&qg(o,()=>e())})}}function Rl(n,e,t){return(r,o)=>{o!==n?r.dispatchCommand(e):r.dispatchCommand(t)}}function em({editor:n,blockType:e,toolbarRef:t}){const r=N.useRef(null);return J(uo,{data:Array.from(Object.entries(Hn)).map(([o,s])=>({value:o,label:s.label})),value:e,ref:r,onChange:o=>Hn[o].onChange(n,e),renderOption:({option:{value:o}})=>{const s=Hn[o]??Hn.paragraph,i=s.icon;return Tt(zr,{children:[i&&J(i,{stroke:1,size:24}),J(Cd,{children:s.label})]})}})}const zl={bold:{icon:tf},italic:{icon:of},underline:{icon:ff},strikethrough:{icon:cf},code:{icon:nu}};function tm({size:n}){const[e]=$e(),t=N.useRef(null),[r,o]=N.useState("paragraph"),[s,i]=N.useState(null),[a,l]=N.useState(""),[u,c]=N.useState(!1),[d,f]=N.useState(new Set),h=N.useCallback(()=>{const b=O();if(k(b)){const m=b.anchor.getNode(),y=m.getKey()==="root"?m:m.getTopLevelElementOrThrow(),x=y.getKey();if(e.getElementByKey(x)!==null)if(i(x),D(y)){const T=Sc(m,Dt),C=T?T.getTag():y.getTag();o(C)}else{const T=Hc(y)?y.getTag():y.getType();o(T),ye(y)&&l(y.getLanguage()||Nh())}f(new Set(Object.keys(zl).filter(T=>b.hasFormat(T))));const v=ad(b),w=v.getParent();We(w)||We(v)?c(!0):c(!1)}},[e]);N.useEffect(()=>dt(e.registerUpdateListener(({editorState:b})=>{b.read(()=>{h()})}),e.registerCommand(go,(b,m)=>(h(),!1),id)),[e,h]);const g=N.useMemo(()=>Ah(),[]),p=N.useCallback(b=>{e.update(()=>{if(s!==null){const m=te(s);ye(m)&&m.setLanguage(b.target.value)}})},[e,s]),_=N.useCallback(()=>{u?e.dispatchCommand(ir,null):e.dispatchCommand(ir,"https://")},[e,u]);return Tt("div",{className:Zp.toolbar,ref:t,children:[r in Hn&&Tt(zr,{children:[J(em,{editor:e,blockType:r,toolbarRef:t}),J(Xp,{})]}),r==="code"?Tt(zr,{children:[J(uo,{className:"toolbar-item code-language",onChange:p,data:g,value:a,size:"xl"}),J("i",{className:"chevron-down inside"})]}):Tt(Sd,{gap:"xs",children:[Object.entries(zl).map(([b,{icon:m}])=>J(Hi,{onClick:()=>{e.dispatchCommand(bt,b)},"aria-label":`Format ${b}`,variant:d.has(b)?"light":"subtle",size:n,children:m&&J(m,{size:n==="md"?24:16})},b)),J(Hi,{onClick:_,variant:u?"light":"subtle","aria-label":"Insert Link",children:J(sf,{size:n==="md"?24:16})}),u&&es.createPortal(J(Qp,{editor:e}),document.body)]})]})}function nm({onChange:n}){const[e]=$e();return N.useEffect(()=>e.registerUpdateListener(({editorState:t})=>{t.read(()=>{n==null||n(hc(!1))})}),[e,n]),null}function rm(){const[n]=$e();return N.useEffect(()=>Ph(n),[n]),null}function om({ref:n}){const[e]=$e();return N.useImperativeHandle(n,()=>({setMarkdown:t=>e==null?void 0:e.update(()=>{sd(t)}),getMarkdown:()=>{var t;return(t=e==null?void 0:e.getEditorState())==null?void 0:t.read(()=>Up(Rn))}}),[e]),J("span",{style:{display:"none"}})}var sm={name:"wfka8t",styles:"outline:none;margin:var(--mantine-spacing-xs)"},im={name:"1sarrbo",styles:"color:var(--mantine-color-gray-5);padding-left:var(--mantine-spacing-md);font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm)"},am={name:"14b04gs",styles:"position:absolute;top:0;pointer-events:none"};function hm({isDisabled:n,initialValue:e,onChange:t,footer:r,size:o="md",instanceId:s,ref:i,converterRef:a,m:l="lg"}){const{ref:u,focused:c}=Nd();return J(Kg,{initialConfig:{editorState:()=>sd(e??""),onError(f){console.error("Lexical Error:",f)},nodes:[Eo,Dt,Mt,Dn,Vt,ar,ko,_r,yr,Fi,$n],namespace:s,theme:{}},children:Tt(Oo,{withBorder:!0,className:"editor-container",mx:0,px:0,pb:0,p:0,my:l,children:[c&&J(Oo.Section,{inheritPadding:!0,withBorder:!0,pt:"md",children:J(tm,{size:o})}),Tt("div",{className:"editor-inner",css:Td("position:relative;outline:none;",Ed,"",""),ref:i,children:[J(np,{contentEditable:J(oh,{"aria-placeholder":"enter comment",disabled:n,placeholder:J("div",{css:am,children:J("p",{children:J("i",{css:im,children:"Enter a comment here"})})}),className:"editor-input",ref:u,css:sm}),ErrorBoundary:wd}),J(bh,{}),J(uh,{}),J(nm,{onChange:t}),J(Gp,{transformers:Rn}),J(rm,{}),J(om,{ref:a})]}),r&&J(Oo.Section,{inheritPadding:!0,withBorder:!0,children:r})]})})}export{hm as default};
//# sourceMappingURL=MarkdownTextarea-G5-nXG1w.js.map
