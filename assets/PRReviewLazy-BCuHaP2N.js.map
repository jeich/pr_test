{"version":3,"mappings":"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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA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","names":["getContextItemIndex","elementSelector","parentSelector","node","_a","findElementAncestor","element","useClipboard","timeout","error","setError","useState","copied","setCopied","copyTimeout","setCopyTimeout","handleCopyResult","value","valueToCopy","err","AccordionChevron","style","size","others","jsx","rem","defaultProps","CopyButton","props","children","useProps","clipboard","copy","Fragment","classes","varsResolver","createVarsResolver","theme","color","variant","getThemeColor","getSize","Divider","factory","_props","ref","classNames","className","styles","unstyled","vars","orientation","label","labelPosition","mod","getStyles","useStyles","Box","MenuContextProvider","useMenuContext","createSafeContext","MenuDivider","ctx","MenuDropdown","onMouseEnter","onMouseLeave","onKeyDown","wrapperRef","useRef","handleKeyDown","createEventHandler","event","_b","handleMouseEnter","handleMouseLeave","jsxs","Popover","useMergedRef","SubMenuProvider","useSubMenuContext","createOptionalContext","MenuItem","polymorphicFactory","closeMenuOnClick","leftSection","rightSection","disabled","dataDisabled","subCtx","useMantineTheme","dir","useDirection","itemRef","_others","handleClick","colors","parsedThemeColor","parseThemeColor","handleKeydown","UnstyledButton","createScopedKeydownHandler","MenuLabel","MenuSubDropdown","MenuSubItem","MenuSubTarget","refProp","isElement","MenuSub","closeDelay","id","useId","opened","open","close","useDisclosure","openDropdown","closeDropdown","useDelayedHover","focusFirstItem","focusParentItem","input","MenuTarget","forwardRef","_childrenProps","onClick","cloneElement","Menu","onOpen","onClose","defaultOpened","trapFocus","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","menuItemTabIndex","keepMounted","withInitialFocusPlaceholder","_opened","setOpened","useUncontrolled","openedViaClick","setOpenedViaClick","toggleDropdown","getItemIndex","resolvedClassNames","resolvedStyles","useResolvedStylesApi","getWithProps","TableProvider","useTableContext","getDataAttributes","options","data","tableElement","name","Component","TableTh","TableTd","TableTr","TableThead","TableTbody","TableTfoot","TableCaption","TableDataRenderer","item","index","row","rowIndex","_","minWidth","maxHeight","type","TableScrollContainer","scrollAreaProps","ScrollArea","layout","captionSide","horizontalSpacing","verticalSpacing","borderColor","stripedColor","highlightOnHoverColor","striped","highlightOnHover","stickyHeaderOffset","stickyHeader","getSpacing","Table","withColumnBorders","withRowBorders","withTableBorder","tabularNums","IconAlertCircle","createReactComponent","IconCheckbox","IconDotsVertical","IconExclamationCircle","IconGitCommit","IconGitMerge","IconMessage","IconPencilPlus","v0","v1","v2","v3","v4","v5","v6","v7","v8","v9","v10","v11","v12","v13","v14","v15","v16","v17","v18","v19","v20","v21","v22","v23","v24","v25","v26","v27","v28","v29","v30","v31","v32","v33","v34","v35","hash","args","hasOwn","React.createElement","argsLength","createElementArgArray","Emotion","createEmotionProps","_jsx","JSX","css","_len","_key","serializeStyles","atom","Map","pendingReviewIdAtom","pendingReviewBodyEditorAtom","hasPendingReviewBodyCommentAtom","pendingThreadCommentsAtom","ImmutableMap","pendingThreadsAtom","activeVersionAtom","baseActiveVersionAtom","EDGES","NODE","Chainable","constructor","obj","then","func","RecordProxyWrapper","store","record","setValues","values","debug","getDataID","JSON","stringify","k","v","Object","entries","setValue","setLinkedRecord","setLinkedRecords","records","map","r","getEdges","getLinkedRecords","log","getType","getNode","fieldName","getLinkedRecord","console","createAndAppendNodeToEdge","connectionType","edgeType","nodeType","nodeValues","field","rawField","create","uuid","edges","edgeId","nodeId","newEdge","newNode","push","appendToEdge","StoreUtils","get","delete","usePendingCommentUpdater","env","useRelayEnvironment","pendingReviewId","setPendingReviewId","useAtom","comment","pullRequestId","commitLocalUpdate","storeUtils","isPending","body","createdAt","dayjs","toISOString","first","MarkdownRenderer","lazy","__vitePreload","fragment","_CommentFragment","COMMENT_HEIGHT_LIMIT","CommentImpl","commentRef","header","right","undefined","border","useFragment","showFull","setShowFull","reviewState","contentRef","Stack","Group","author","User","login","Text","TimeDiffer","Badge","current","clientHeight","Button","Card","flexShrink","Modal","Comment","Suspense","LoadingSpinner","_useVersionHistoryFragment","useVersionHistory","prRef","pr","timelineItems","filterNulls","e","versionToHeadOid","useMemo","baseRefs","idxToBaseRef","versionTimes","versionOidsToNumber","latestVersion","previousCommit","baseRef","idx","timelineItem","Array","from","reverse","set","length","__typename","previousRefName","Error","has","beforeCommit","oid","committedDate","afterCommit","commit","only","lastCommit","nonNull","items","sha","headOid","filter","history","useGetCompareMultipleCommits","baseRepository","owner","viewerLatestReviewOid","viewerLatestReview","viewerLastReview","abbreviatedOid","slice","number","versions","h","commitOids","commits","c","nodeIds","node_id","MarkdownTextarea","_addReviewMutationPullRequestFragment","addReviewMutation","_addReviewMutationAddPullRequestReviewMutation","useAddReviewMutation","useSetAtom","pendingReviewBodyEditor","useAtomValue","onCompleteInternal","useCallback","setMarkdown","threads","reviewThreads","n","comments","line","path","startLine","updater","pendingPullRequestReviewId","createdReview","addPullRequestReview","pullRequestReview","pullRequest","addPR","isAddingPR","useMutation","onComplete","variables","onCompleted","response","useDeletePendingThreadComment","pendingReviewThreads","setPendingReviewThreads","reviewThreadId","pendingReviewThreadId","s","usePendingReviewThreadCommentUpdater","pendingReviewIds","pendingThreadCommentId","reviewThreadRecord","ids","query","_reviewThreadCommentMutationPullRequestFragment","addThreadCommentMutation","_reviewThreadCommentMutation","useReviewThreadCommentMutation","threadComments","setThreadComments","pendingCommentsThreadIdToNodeIdAtom","pendingThreads","threadCommentIdToBody","t","flat","mutateReviewThread","isMutatingReviewThread","pendingThreadIds","Set","onThreadComplete","threadId","tc","_createdReview","pendingReviewInfo","pullRequestReviewId","commentsToMutate","commentId","add","pullRequestReviewThreadId","addPullRequestReviewThreadReply","submitReviewMutation","_submitReviewMutationSubmitPullRequestReviewMutation","useSubmitReviewMutation","submitPR","isSubmittingPR","state","_SubmitReviewPanelFragment","SubmitReviewPanel","user","userLoginAtom","editorRef","hasDraftComment","mutateThread","isMutatingThread","addMutate","submitMutate","pendingReview","reviews","deleteThread","isMutating","threadCommentReplies","partition","_value","key","numComments","onThreadsComplete","markdownDraftComment","getMarkdown","coalesceString","leaveReview","viewerCanUpdate","IconTrash","IconX","IconCheck","_VersionSelectorFragment","VersionSelector","ErrorBoundary","VersionSelectorImpl","fragmentRef","versionHistory","selectedVersion","setSelectedVersion","display","gap","flex","fontWeight","height","version","marginBottom","cursor","backgroundColor","justifyContent","alignItems","commitOid","format","_FooterPullRequestFragment","Footer","Loader","FooterImpl","useSetSettings","reviewSplitByCommitSelector","sidepanelLayoutAtom","mergeable","viewerDidAuthor","viewerCanMergeAsAdmin","reviewFragment","_ActivityPanelReviewFragment","prFragment","_ActivityPanelFragment","ActivityPanelTextItem","text","alreadySeen","leftIcon","LeftIcon","Styles","secondaryText","ActivityPanelItem","review","reviewRef","currentCommits","inner","colorSuccess","isEmpty","currentVersion","knownPreviousVersion","suffix","colorWarning","_ref","_ref2","_ref3","ActivityPanel","draftComment","setDraftComment","setHasComment","currentCommitOids","userLoginSelector","commitShaToVersion","commentUpdater","converterRef","forcedWidth","setForcedWidth","onResizerDrag","ev","preventDefault","window","innerWidth","x","onMouseUp","_ev","removeEventListener","onResizerClick","addEventListener","useEffect","scrollTop","timelineCommits","mergeEvent","mergedAt","mergedBy","allItems","lastReview","last","sort","a","b","diff","Code","message","overflowX","width","getGithubURL","commitOrBranch","filename","ActionMenu","defaultBranchName","parentCommitOid","ActionIcon","CopyableFilePath","pieces","split","Breadcrumbs","lineClamp","piece","join","Tooltip","observerMap","RootIds","rootId","unsupportedValue","getRootId","root","optionsToId","createObserver","instance","elements","thresholds","observer","entry","inView","threshold","callback","observe","fallbackInView","bounds","callbacks","useInView","delay","trackVisibility","rootMargin","triggerOnce","skip","initialInView","setRef","React2.useState","React2.useRef","setState","React2.useEffect","unobserve","entryTarget","previousEntryTarget","result","ScopeStack","_ScopeStack","parent","scopeName","scopeNames","segments","i","other","base","FontStyle","FontStyle2","EncodedTokenMetadata","_EncodedTokenMetadata","encodedTokenAttributes","languageId","tokenType","fontStyle","foreground","background","containsBalancedBrackets","_languageId","_tokenType","_containsBalancedBracketsBit","_fontStyle","_foreground","_background","AttributedScopeStack","_AttributedScopeStack","scopePath","tokenAttributes","namesScopeList","contentNameScopesList","frame","grammar","rawRootMetadata","rootStyle","resolvedTokenAttributes","existingTokenAttributes","basicScopeAttributes","styleAttributes","scopes","scope","target","rawMetadata","newPath","scopeThemeMatchResult","metadata","self","StateStackImpl","ruleId","enterPos","anchorPos","beginRuleCapturedEOL","endRule","nameScopesList","__publicField","el","res","outIndex","contentNameScopeStack","_c","Diff","oldString","newString","_options$timeout","done","newLen","oldLen","editLength","maxEditLength","maxExecutionTime","abortAfterTimestamp","bestPath","newPos","minDiagonalToConsider","maxDiagonalToConsider","execEditLength","diagonalPath","basePath","removePath","addPath","canAdd","addPathNewPos","canRemove","buildValues","exec","ret","added","removed","oldPosInc","oldPos","commonCount","left","array","chars","lastComponent","useLongestToken","components","nextComponent","componentPos","componentLen","component","tmp","oldValue","finalComponent","extendedWordChars","reWhitespace","wordDiff","tokens","diffWordsWithSpace","oldStr","newStr","lineDiff","retLines","linesAndNewlines","sentenceDiff","cssDiff","_typeof","objectPrototypeToString","jsonDiff","_this$options","undefinedReplacement","_this$options$stringi","stringifyReplacer","canonicalize","stack","replacementStack","replacer","canonicalizedObj","sortedKeys","arrayDiff","sortedLanguages","doesLanguageMatchesFilename","language","extension","findOne","languages","foundLanguage","useDeleteReviewThreadUpdater","setPendingThreads","useAddReviewThreadUpdater","endLine","findEntry","_k","pendingThreadId","pendingThread","thread","viewerCanReply","reviewThread","resolveMutation","_resolveMutationResolveReviewThreadMutation","useResolveMutation","mutate","unresolveMutation","_unresolveMutationResolveReviewThreadMutation","useUnresolveMutation","reviewThreadFragment","_CommentThreadPullRequestReviewFragment","_CommentThreadPullRequestFragment","CommentThreadImpl","reviewThreadRef","commentThread","textareaRef","isSuggesting","setIsSuggesting","isHidden","toggle","setIsHidden","useToggle","isResolved","pendingThreadCommentUpdater","deleteReply","saveComment","resolveThread","isResolving","unresolveThread","isUnresolving","setIsEmpty","resolveComments","viewerCanResolve","viewerCanUnresolve","showReply","firstComment","headlineText","floatRight","CommentThread","worker","Worker","shikiTokenToStyle","token","themeFgColor","Italic","Bold","Underline","textDecoration","getDiffClassForPart","diffPart","intralineAdded","intralineRemoved","renderLineContent","shikiTokensForLine","charDiffs","lineType","resultNodes","currentTokenIndex","offsetInToken","charKeyCounter","part","remainingTextInDiffPart","currentToken","availableTextInToken","content","substring","consumeLength","Math","min","textSegment","splitPatches","patch","lines","patches","currentNumber","startsWith","parseGitPatch","patchHunk","lineStartInFullPatch","blockHeader","oldLineStartNum","newLineStartNum","match","parseInt","trim","currentOldLine","currentNewLine","oldNumber","newNumber","lineStart","_FileDiffer2Fragment","FileDiffer2","fileName","colorScheme","useMantineColorScheme","tokensMap","setTokensMap","useImmer","blocks","patchStrings","lineNum","patchStr","knownIds","isSelecting","setIsSelecting","highlightedRows","setHighlightedRows","expandedComemnts","setExpandedComments","addReviewThread","onWindowMouseUp","onMouseDown","parentElement","getAttribute","reduce","acc","curr","rt","endRow","startRow","_endRow","threadsAtLine","forEach","codeLines","l","langForShiki","filename2shiki","postMessage","code","lang","dark","handler","prev","toggleThread","lintInt","ec","block","blockTokensResult","fg","fileTable","lineIndex","currentLineTokens","isPartOfPair","attemptIntraline","addedLine","removedLine","lineNumber","lineNumberComment","lineNumberRight","codeCell","contextLine","j","whiteSpace","_CommitFileFragment","repoFragment","_CommitFileRepositoryFragment","commitFragment","_CommitFileCommitFragment","CommitFile","CommitFileImpl","repo","repoRef","commitRef","compareData","parents","detail","top","additions","deletions","marginLeft","defaultBranchRef","padding","_CommitViewFragment","repositoryFragment","_CommitViewRepositoryFragment","_CommitViewPullRequestFragment","CommitView","reviewSplitByCommit","useGetCompareCommits","commitIsHidden","commitToggle","Alert","messageHeadline","colorDanger","files","_CommitsViewPullRequestFragment","selectedCommitsQuery","_CommitsViewSelectedCommitsQuery","_CommitsViewRepositoryFragment","CommitsViewImpl","baseActiveVersion","activeVersion","commitsFromBaseVersion","commitsFromVersionData","useLazyLoadQuery","fetchPolicy","fetchKey","prCommits","nodes","numMissingCommits","totalCount","commitComponents","CommitsView","SummaryPanelFragment2_graphql","regex","hashPattern","getGHStackInfo","flatMap","getBodyWithoutGHStack","matches","replace","graphiteRegex","getGraphiteStackInfo","_PRTitleFragment","useGetPRs","numbers","queryFn","useGithubQueryWithPath","useQueries","queries","queryKey","staleTime","Infinity","StatusBadge","PRTitle","relatedPrs","paramWildcard","useParams","prs","findIndex","p","prefix","navigate","useNavigate","isOpened","setIsOpened","title","Title","location","pathname","o","IconChevronDown","_SummaryPanelFragment","SummaryPanel","SummaryPanelImpl","sortState","refetch","useRefetchableFragment","checkRuns","statusCheckRollup","contexts","currentUser","numRunsPassed","checkRunCountsByState","cr","count","statusContextCountsByState","sc","allCIPassing","reviewers","reviewRequests","requestedReviewer","participated","required","asCodeOwner","branchProtectionRule","requiresCodeOwnerReviews","isTeam","existing","date","allReviews","stateA","stateB","checkRunsComponent","overflow","marginTop","check","context","description","checkIsSuccessful","conclusion","checkInProgress","status","avatarUrl","detailsUrl","targetUrl","marginRight","objectFit","ciStatusComponent","closed","url","IconExternalLink","requiredApprovingReviewCount","commitsQuery","_PRReviewCommitsQuery","LoadingState","Layout","Skeleton","flexGrow","PRReview","PRReviewImpl","summaryPanel","commitsView","sidePanel","flexBasis","overflowY","_commit","_base","setUserLogin","sidepanelLayout","useGetScopes","includeTeam","Scopes","READ_ORG","viewer","repository"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,36,74,75,76,77],"sources":["../../node_modules/@mantine/core/esm/core/utils/get-context-item-index/get-context-item-index.mjs","../../node_modules/@mantine/hooks/esm/use-clipboard/use-clipboard.mjs","../../node_modules/@mantine/core/esm/components/Accordion/AccordionChevron.mjs","../../node_modules/@mantine/core/esm/components/CopyButton/CopyButton.mjs","../../node_modules/@mantine/core/esm/components/Divider/Divider.module.css.mjs","../../node_modules/@mantine/core/esm/components/Divider/Divider.mjs","../../node_modules/@mantine/core/esm/components/Menu/Menu.context.mjs","../../node_modules/@mantine/core/esm/components/Menu/Menu.module.css.mjs","../../node_modules/@mantine/core/esm/components/Menu/MenuDivider/MenuDivider.mjs","../../node_modules/@mantine/core/esm/components/Menu/MenuDropdown/MenuDropdown.mjs","../../node_modules/@mantine/core/esm/components/Menu/MenuSub/MenuSub.context.mjs","../../node_modules/@mantine/core/esm/components/Menu/MenuItem/MenuItem.mjs","../../node_modules/@mantine/core/esm/components/Menu/MenuLabel/MenuLabel.mjs","../../node_modules/@mantine/core/esm/components/Menu/MenuSubDropdown/MenuSubDropdown.mjs","../../node_modules/@mantine/core/esm/components/Menu/MenuSubItem/MenuSubItem.mjs","../../node_modules/@mantine/core/esm/components/Menu/MenuSubTarget/MenuSubTarget.mjs","../../node_modules/@mantine/core/esm/components/Menu/MenuSub/MenuSub.mjs","../../node_modules/@mantine/core/esm/components/Menu/MenuTarget/MenuTarget.mjs","../../node_modules/@mantine/core/esm/components/Menu/Menu.mjs","../../node_modules/@mantine/core/esm/components/Table/Table.context.mjs","../../node_modules/@mantine/core/esm/components/Table/Table.module.css.mjs","../../node_modules/@mantine/core/esm/components/Table/Table.components.mjs","../../node_modules/@mantine/core/esm/components/Table/TableDataRenderer.mjs","../../node_modules/@mantine/core/esm/components/Table/TableScrollContainer.mjs","../../node_modules/@mantine/core/esm/components/Table/Table.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconAlertCircle.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconCheckbox.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconDotsVertical.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconExclamationCircle.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconGitCommit.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconGitMerge.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconMessage.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconPencilPlus.mjs","../../src/components/review/__generated__/PRReviewCommitsQuery.graphql.ts","../../src/components/review/__generated__/ActivityPanelFragment.graphql.ts","../../src/components/review/__generated__/ActivityPanelReviewFragment.graphql.ts","../../node_modules/@emotion/react/dist/emotion-react.browser.esm.js","../../src/components/review/settings.ts","../../src/components/mutations/storeUtils.ts","../../src/components/mutations/pendingComment.ts","../../src/components/review/__generated__/CommentFragment.graphql.ts","../../src/components/markdown/LazyMarkdownRenderer.ts","../../src/components/review/Comment.tsx","../../src/components/review/__generated__/useVersionHistoryFragment.graphql.ts","../../src/components/review/useVersionHistory.ts","../../src/components/editor/LazyMarkdownTextarea.ts","../../src/components/review/__generated__/FooterPullRequestFragment.graphql.ts","../../src/components/review/__generated__/SubmitReviewPanelFragment.graphql.ts","../../src/components/mutations/__generated__/addReviewMutationAddPullRequestReviewMutation.graphql.ts","../../src/components/mutations/__generated__/addReviewMutationPullRequestFragment.graphql.ts","../../src/components/mutations/addReviewMutation.ts","../../src/components/mutations/pendingReviewThreadComment.ts","../../src/components/mutations/__generated__/reviewThreadCommentMutation.graphql.ts","../../src/components/mutations/__generated__/reviewThreadCommentMutationPullRequestFragment.graphql.ts","../../src/components/mutations/reviewThreadCommentMutation.ts","../../src/components/mutations/__generated__/submitReviewMutationSubmitPullRequestReviewMutation.graphql.ts","../../src/components/mutations/submitReviewMutation.ts","../../src/components/review/SubmitReviewPanel.tsx","../../src/components/review/__generated__/VersionSelectorFragment.graphql.ts","../../src/components/review/VersionSelector.tsx","../../src/components/review/Footer.tsx","../../src/components/review/ActivityPanel.tsx","../../src/components/review/__generated__/CommitsViewRepositoryFragment.graphql.ts","../../src/components/review/__generated__/CommitsViewSelectedCommitsQuery.graphql.ts","../../src/components/review/__generated__/CommitsViewPullRequestFragment.graphql.ts","../../src/components/review/__generated__/CommitViewPullRequestFragment.graphql.ts","../../src/components/review/__generated__/CommitViewRepositoryFragment.graphql.ts","../../src/components/review/__generated__/CommitViewFragment.graphql.ts","../../src/components/review/__generated__/CommitFileCommitFragment.graphql.ts","../../src/components/review/__generated__/CommitFileRepositoryFragment.graphql.ts","../../src/components/review/__generated__/CommitFileFragment.graphql.ts","../../src/components/review/ActionMenu.tsx","../../src/components/review/CopyableFilePath.tsx","../../src/components/review/__generated__/FileDiffer2Fragment.graphql.ts","../../node_modules/react-intersection-observer/dist/index.mjs","../../node_modules/@shikijs/vscode-textmate/dist/index.js","../../node_modules/diff/lib/index.mjs","../../node_modules/filename2shiki/dist/index.js","../../src/components/mutations/addReviewThreadUpdater.ts","../../src/components/review/__generated__/CommentThreadPullRequestFragment.graphql.ts","../../src/components/review/__generated__/CommentThreadPullRequestReviewFragment.graphql.ts","../../src/components/mutations/__generated__/resolveMutationResolveReviewThreadMutation.graphql.ts","../../src/components/mutations/resolveMutation.ts","../../src/components/mutations/__generated__/unresolveMutationResolveReviewThreadMutation.graphql.ts","../../src/components/mutations/unresolveMutation.ts","../../src/components/review/CommentThread.tsx","../../src/components/review/FileDiffer2.tsx","../../src/components/review/CommitFile.tsx","../../src/components/review/CommitView.tsx","../../src/components/review/CommitsView.tsx","../../src/components/review/__generated__/SummaryPanelFragment2.graphql.ts","../../src/components/review/__generated__/SummaryPanelFragment.graphql.ts","../../src/components/review/__generated__/PRTitleFragment.graphql.ts","../../src/components/review/stack.ts","../../src/components/review/PRTitle.tsx","../../src/components/review/SummaryPanel.tsx","../../src/components/review/PRReview.tsx","../../src/components/review/PRReviewLazy.tsx"],"sourcesContent":["'use client';\nimport { findElementAncestor } from '../find-element-ancestor/find-element-ancestor.mjs';\n\nfunction getContextItemIndex(elementSelector, parentSelector, node) {\n  if (!node) {\n    return null;\n  }\n  return Array.from(\n    findElementAncestor(node, parentSelector)?.querySelectorAll(elementSelector) || []\n  ).findIndex((element) => element === node);\n}\n\nexport { getContextItemIndex };\n//# sourceMappingURL=get-context-item-index.mjs.map\n","'use client';\nimport { useState } from 'react';\n\nfunction useClipboard({ timeout = 2e3 } = {}) {\n  const [error, setError] = useState(null);\n  const [copied, setCopied] = useState(false);\n  const [copyTimeout, setCopyTimeout] = useState(null);\n  const handleCopyResult = (value) => {\n    window.clearTimeout(copyTimeout);\n    setCopyTimeout(window.setTimeout(() => setCopied(false), timeout));\n    setCopied(value);\n  };\n  const copy = (valueToCopy) => {\n    if (\"clipboard\" in navigator) {\n      navigator.clipboard.writeText(valueToCopy).then(() => handleCopyResult(true)).catch((err) => setError(err));\n    } else {\n      setError(new Error(\"useClipboard: navigator.clipboard is not supported\"));\n    }\n  };\n  const reset = () => {\n    setCopied(false);\n    setError(null);\n    window.clearTimeout(copyTimeout);\n  };\n  return { copy, reset, error, copied };\n}\n\nexport { useClipboard };\n//# sourceMappingURL=use-clipboard.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { rem } from '../../core/utils/units-converters/rem.mjs';\nimport 'react';\nimport '@mantine/hooks';\nimport 'clsx';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../core/Box/Box.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\n\nfunction AccordionChevron({ style, size = 16, ...others }) {\n  return /* @__PURE__ */ jsx(\n    \"svg\",\n    {\n      viewBox: \"0 0 15 15\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      style: { ...style, width: rem(size), height: rem(size), display: \"block\" },\n      ...others,\n      children: /* @__PURE__ */ jsx(\n        \"path\",\n        {\n          d: \"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z\",\n          fill: \"currentColor\",\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\"\n        }\n      )\n    }\n  );\n}\nAccordionChevron.displayName = \"@mantine/core/AccordionChevron\";\n\nexport { AccordionChevron };\n//# sourceMappingURL=AccordionChevron.mjs.map\n","'use client';\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { useClipboard } from '@mantine/hooks';\nimport 'react';\nimport 'clsx';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../core/Box/Box.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\n\nconst defaultProps = {\n  timeout: 1e3\n};\nfunction CopyButton(props) {\n  const { children, timeout, value, ...others } = useProps(\"CopyButton\", defaultProps, props);\n  const clipboard = useClipboard({ timeout });\n  const copy = () => clipboard.copy(value);\n  return /* @__PURE__ */ jsx(Fragment, { children: children({ copy, copied: clipboard.copied, ...others }) });\n}\nCopyButton.displayName = \"@mantine/core/CopyButton\";\n\nexport { CopyButton };\n//# sourceMappingURL=CopyButton.mjs.map\n","'use client';\nvar classes = {\"root\":\"m_3eebeb36\",\"label\":\"m_9e365f20\"};\n\nexport { classes as default };\n//# sourceMappingURL=Divider.module.css.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport 'react';\nimport { getSize } from '../../core/utils/get-size/get-size.mjs';\nimport '@mantine/hooks';\nimport { createVarsResolver } from '../../core/styles-api/create-vars-resolver/create-vars-resolver.mjs';\nimport 'clsx';\nimport { getThemeColor } from '../../core/MantineProvider/color-functions/get-theme-color/get-theme-color.mjs';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport { useStyles } from '../../core/styles-api/use-styles/use-styles.mjs';\nimport { Box } from '../../core/Box/Box.mjs';\nimport { factory } from '../../core/factory/factory.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\nimport classes from './Divider.module.css.mjs';\n\nconst defaultProps = {\n  orientation: \"horizontal\"\n};\nconst varsResolver = createVarsResolver((theme, { color, variant, size }) => ({\n  root: {\n    \"--divider-color\": color ? getThemeColor(color, theme) : void 0,\n    \"--divider-border-style\": variant,\n    \"--divider-size\": getSize(size, \"divider-size\")\n  }\n}));\nconst Divider = factory((_props, ref) => {\n  const props = useProps(\"Divider\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    color,\n    orientation,\n    label,\n    labelPosition,\n    mod,\n    ...others\n  } = props;\n  const getStyles = useStyles({\n    name: \"Divider\",\n    classes,\n    props,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver\n  });\n  return /* @__PURE__ */ jsx(\n    Box,\n    {\n      ref,\n      mod: [{ orientation, \"with-label\": !!label }, mod],\n      ...getStyles(\"root\"),\n      ...others,\n      role: \"separator\",\n      children: label && /* @__PURE__ */ jsx(Box, { component: \"span\", mod: { position: labelPosition }, ...getStyles(\"label\"), children: label })\n    }\n  );\n});\nDivider.classes = classes;\nDivider.displayName = \"@mantine/core/Divider\";\n\nexport { Divider };\n//# sourceMappingURL=Divider.mjs.map\n","'use client';\nimport 'react';\nimport { createSafeContext } from '../../core/utils/create-safe-context/create-safe-context.mjs';\nimport 'react/jsx-runtime';\nimport '@mantine/hooks';\nimport 'clsx';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../core/Box/Box.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\n\nconst [MenuContextProvider, useMenuContext] = createSafeContext(\n  \"Menu component was not found in the tree\"\n);\n\nexport { MenuContextProvider, useMenuContext };\n//# sourceMappingURL=Menu.context.mjs.map\n","'use client';\nvar classes = {\"dropdown\":\"m_dc9b7c9f\",\"label\":\"m_9bfac126\",\"divider\":\"m_efdf90cb\",\"item\":\"m_99ac2aa1\",\"itemLabel\":\"m_5476e0d3\",\"itemSection\":\"m_8b75e504\",\"chevron\":\"m_b85b0bed\"};\n\nexport { classes as default };\n//# sourceMappingURL=Menu.module.css.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport 'react';\nimport '@mantine/hooks';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport { Box } from '../../../core/Box/Box.mjs';\nimport { factory } from '../../../core/factory/factory.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { useMenuContext } from '../Menu.context.mjs';\nimport classes from '../Menu.module.css.mjs';\n\nconst defaultProps = {};\nconst MenuDivider = factory((props, ref) => {\n  const { classNames, className, style, styles, vars, ...others } = useProps(\n    \"MenuDivider\",\n    defaultProps,\n    props\n  );\n  const ctx = useMenuContext();\n  return /* @__PURE__ */ jsx(\n    Box,\n    {\n      ref,\n      ...ctx.getStyles(\"divider\", { className, style, styles, classNames }),\n      ...others\n    }\n  );\n});\nMenuDivider.classes = classes;\nMenuDivider.displayName = \"@mantine/core/MenuDivider\";\n\nexport { MenuDivider };\n//# sourceMappingURL=MenuDivider.mjs.map\n","'use client';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { useRef } from 'react';\nimport { useMergedRef } from '@mantine/hooks';\nimport { createEventHandler } from '../../../core/utils/create-event-handler/create-event-handler.mjs';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport { factory } from '../../../core/factory/factory.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { Popover } from '../../Popover/Popover.mjs';\nimport '../../Popover/PopoverDropdown/PopoverDropdown.mjs';\nimport '../../Popover/PopoverTarget/PopoverTarget.mjs';\nimport { useMenuContext } from '../Menu.context.mjs';\nimport classes from '../Menu.module.css.mjs';\n\nconst defaultProps = {};\nconst MenuDropdown = factory((props, ref) => {\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    vars,\n    onMouseEnter,\n    onMouseLeave,\n    onKeyDown,\n    children,\n    ...others\n  } = useProps(\"MenuDropdown\", defaultProps, props);\n  const wrapperRef = useRef(null);\n  const ctx = useMenuContext();\n  const handleKeyDown = createEventHandler(onKeyDown, (event) => {\n    if (event.key === \"ArrowUp\" || event.key === \"ArrowDown\") {\n      event.preventDefault();\n      wrapperRef.current?.querySelectorAll(\"[data-menu-item]:not(:disabled)\")[0]?.focus();\n    }\n  });\n  const handleMouseEnter = createEventHandler(\n    onMouseEnter,\n    () => (ctx.trigger === \"hover\" || ctx.trigger === \"click-hover\") && ctx.openDropdown()\n  );\n  const handleMouseLeave = createEventHandler(\n    onMouseLeave,\n    () => (ctx.trigger === \"hover\" || ctx.trigger === \"click-hover\") && ctx.closeDropdown()\n  );\n  return /* @__PURE__ */ jsxs(\n    Popover.Dropdown,\n    {\n      ...others,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      role: \"menu\",\n      \"aria-orientation\": \"vertical\",\n      ref: useMergedRef(ref, wrapperRef),\n      ...ctx.getStyles(\"dropdown\", {\n        className,\n        style,\n        styles,\n        classNames,\n        withStaticClass: false\n      }),\n      tabIndex: -1,\n      \"data-menu-dropdown\": true,\n      onKeyDown: handleKeyDown,\n      children: [\n        ctx.withInitialFocusPlaceholder && /* @__PURE__ */ jsx(\"div\", { tabIndex: -1, \"data-autofocus\": true, \"data-mantine-stop-propagation\": true, style: { outline: 0 } }),\n        children\n      ]\n    }\n  );\n});\nMenuDropdown.classes = classes;\nMenuDropdown.displayName = \"@mantine/core/MenuDropdown\";\n\nexport { MenuDropdown };\n//# sourceMappingURL=MenuDropdown.mjs.map\n","'use client';\nimport 'react';\nimport 'react/jsx-runtime';\nimport { createOptionalContext } from '../../../core/utils/create-optional-context/create-optional-context.mjs';\nimport '@mantine/hooks';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\n\nconst [SubMenuProvider, useSubMenuContext] = createOptionalContext();\n\nexport { SubMenuProvider, useSubMenuContext };\n//# sourceMappingURL=MenuSub.context.mjs.map\n","'use client';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { useRef } from 'react';\nimport { useMergedRef } from '@mantine/hooks';\nimport { createScopedKeydownHandler } from '../../../core/utils/create-scoped-keydown-handler/create-scoped-keydown-handler.mjs';\nimport { createEventHandler } from '../../../core/utils/create-event-handler/create-event-handler.mjs';\nimport 'clsx';\nimport { parseThemeColor } from '../../../core/MantineProvider/color-functions/parse-theme-color/parse-theme-color.mjs';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport { useMantineTheme } from '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport { polymorphicFactory } from '../../../core/factory/polymorphic-factory.mjs';\nimport { useDirection } from '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { UnstyledButton } from '../../UnstyledButton/UnstyledButton.mjs';\nimport { useMenuContext } from '../Menu.context.mjs';\nimport { useSubMenuContext } from '../MenuSub/MenuSub.context.mjs';\nimport classes from '../Menu.module.css.mjs';\n\nconst defaultProps = {};\nconst MenuItem = polymorphicFactory((props, ref) => {\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    vars,\n    color,\n    closeMenuOnClick,\n    leftSection,\n    rightSection,\n    children,\n    disabled,\n    \"data-disabled\": dataDisabled,\n    ...others\n  } = useProps(\"MenuItem\", defaultProps, props);\n  const ctx = useMenuContext();\n  const subCtx = useSubMenuContext();\n  const theme = useMantineTheme();\n  const { dir } = useDirection();\n  const itemRef = useRef(null);\n  const _others = others;\n  const handleClick = createEventHandler(_others.onClick, () => {\n    if (dataDisabled) {\n      return;\n    }\n    if (typeof closeMenuOnClick === \"boolean\") {\n      closeMenuOnClick && ctx.closeDropdownImmediately();\n    } else {\n      ctx.closeOnItemClick && ctx.closeDropdownImmediately();\n    }\n  });\n  const colors = color ? theme.variantColorResolver({ color, theme, variant: \"light\" }) : void 0;\n  const parsedThemeColor = color ? parseThemeColor({ color, theme }) : null;\n  const handleKeydown = createEventHandler(_others.onKeyDown, (event) => {\n    if (event.key === \"ArrowLeft\" && subCtx) {\n      subCtx.close();\n      subCtx.focusParentItem();\n    }\n  });\n  return /* @__PURE__ */ jsxs(\n    UnstyledButton,\n    {\n      onMouseDown: (event) => event.preventDefault(),\n      ...others,\n      unstyled: ctx.unstyled,\n      tabIndex: ctx.menuItemTabIndex,\n      ...ctx.getStyles(\"item\", { className, style, styles, classNames }),\n      ref: useMergedRef(itemRef, ref),\n      role: \"menuitem\",\n      disabled,\n      \"data-menu-item\": true,\n      \"data-disabled\": disabled || dataDisabled || void 0,\n      \"data-mantine-stop-propagation\": true,\n      onClick: handleClick,\n      onKeyDown: createScopedKeydownHandler({\n        siblingSelector: \"[data-menu-item]:not([data-disabled])\",\n        parentSelector: \"[data-menu-dropdown]\",\n        activateOnFocus: false,\n        loop: ctx.loop,\n        dir,\n        orientation: \"vertical\",\n        onKeyDown: handleKeydown\n      }),\n      __vars: {\n        \"--menu-item-color\": parsedThemeColor?.isThemeColor && parsedThemeColor?.shade === void 0 ? `var(--mantine-color-${parsedThemeColor.color}-6)` : colors?.color,\n        \"--menu-item-hover\": colors?.hover\n      },\n      children: [\n        leftSection && /* @__PURE__ */ jsx(\"div\", { ...ctx.getStyles(\"itemSection\", { styles, classNames }), \"data-position\": \"left\", children: leftSection }),\n        children && /* @__PURE__ */ jsx(\"div\", { ...ctx.getStyles(\"itemLabel\", { styles, classNames }), children }),\n        rightSection && /* @__PURE__ */ jsx(\"div\", { ...ctx.getStyles(\"itemSection\", { styles, classNames }), \"data-position\": \"right\", children: rightSection })\n      ]\n    }\n  );\n});\nMenuItem.classes = classes;\nMenuItem.displayName = \"@mantine/core/MenuItem\";\n\nexport { MenuItem };\n//# sourceMappingURL=MenuItem.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport 'react';\nimport '@mantine/hooks';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport { Box } from '../../../core/Box/Box.mjs';\nimport { factory } from '../../../core/factory/factory.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { useMenuContext } from '../Menu.context.mjs';\nimport classes from '../Menu.module.css.mjs';\n\nconst defaultProps = {};\nconst MenuLabel = factory((props, ref) => {\n  const { classNames, className, style, styles, vars, ...others } = useProps(\n    \"MenuLabel\",\n    defaultProps,\n    props\n  );\n  const ctx = useMenuContext();\n  return /* @__PURE__ */ jsx(\n    Box,\n    {\n      ref,\n      ...ctx.getStyles(\"label\", { className, style, styles, classNames }),\n      ...others\n    }\n  );\n});\nMenuLabel.classes = classes;\nMenuLabel.displayName = \"@mantine/core/MenuLabel\";\n\nexport { MenuLabel };\n//# sourceMappingURL=MenuLabel.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { useRef } from 'react';\nimport { useMergedRef } from '@mantine/hooks';\nimport { createEventHandler } from '../../../core/utils/create-event-handler/create-event-handler.mjs';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport { factory } from '../../../core/factory/factory.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { Popover } from '../../Popover/Popover.mjs';\nimport '../../Popover/PopoverDropdown/PopoverDropdown.mjs';\nimport '../../Popover/PopoverTarget/PopoverTarget.mjs';\nimport { useMenuContext } from '../Menu.context.mjs';\nimport { useSubMenuContext } from '../MenuSub/MenuSub.context.mjs';\nimport classes from '../Menu.module.css.mjs';\n\nconst defaultProps = {};\nconst MenuSubDropdown = factory((props, ref) => {\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    vars,\n    onMouseEnter,\n    onMouseLeave,\n    onKeyDown,\n    children,\n    ...others\n  } = useProps(\"MenuSubDropdown\", defaultProps, props);\n  const wrapperRef = useRef(null);\n  const ctx = useMenuContext();\n  const subCtx = useSubMenuContext();\n  const handleMouseEnter = createEventHandler(onMouseEnter, subCtx?.open);\n  const handleMouseLeave = createEventHandler(onMouseLeave, subCtx?.close);\n  return /* @__PURE__ */ jsx(\n    Popover.Dropdown,\n    {\n      ...others,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      role: \"menu\",\n      \"aria-orientation\": \"vertical\",\n      ref: useMergedRef(ref, wrapperRef),\n      ...ctx.getStyles(\"dropdown\", {\n        className,\n        style,\n        styles,\n        classNames,\n        withStaticClass: false\n      }),\n      tabIndex: -1,\n      \"data-menu-dropdown\": true,\n      children\n    }\n  );\n});\nMenuSubDropdown.classes = classes;\nMenuSubDropdown.displayName = \"@mantine/core/MenuSubDropdown\";\n\nexport { MenuSubDropdown };\n//# sourceMappingURL=MenuSubDropdown.mjs.map\n","'use client';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { useRef } from 'react';\nimport { useMergedRef } from '@mantine/hooks';\nimport { createScopedKeydownHandler } from '../../../core/utils/create-scoped-keydown-handler/create-scoped-keydown-handler.mjs';\nimport { createEventHandler } from '../../../core/utils/create-event-handler/create-event-handler.mjs';\nimport 'clsx';\nimport { parseThemeColor } from '../../../core/MantineProvider/color-functions/parse-theme-color/parse-theme-color.mjs';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport { useMantineTheme } from '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport { polymorphicFactory } from '../../../core/factory/polymorphic-factory.mjs';\nimport { useDirection } from '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport '../../Accordion/Accordion.mjs';\nimport { AccordionChevron } from '../../Accordion/AccordionChevron.mjs';\nimport '../../Accordion/AccordionItem/AccordionItem.mjs';\nimport '../../Accordion/AccordionPanel/AccordionPanel.mjs';\nimport '../../Accordion/AccordionControl/AccordionControl.mjs';\nimport { UnstyledButton } from '../../UnstyledButton/UnstyledButton.mjs';\nimport { useMenuContext } from '../Menu.context.mjs';\nimport { useSubMenuContext } from '../MenuSub/MenuSub.context.mjs';\nimport classes from '../Menu.module.css.mjs';\n\nconst defaultProps = {};\nconst MenuSubItem = polymorphicFactory((props, ref) => {\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    vars,\n    color,\n    leftSection,\n    rightSection,\n    children,\n    disabled,\n    \"data-disabled\": dataDisabled,\n    closeMenuOnClick,\n    ...others\n  } = useProps(\"MenuSubItem\", defaultProps, props);\n  const ctx = useMenuContext();\n  const subCtx = useSubMenuContext();\n  const theme = useMantineTheme();\n  const { dir } = useDirection();\n  const itemRef = useRef(null);\n  const _others = others;\n  const colors = color ? theme.variantColorResolver({ color, theme, variant: \"light\" }) : void 0;\n  const parsedThemeColor = color ? parseThemeColor({ color, theme }) : null;\n  const handleKeydown = createEventHandler(_others.onKeyDown, (event) => {\n    if (event.key === \"ArrowRight\") {\n      subCtx?.open();\n      subCtx?.focusFirstItem();\n    }\n    if (event.key === \"ArrowLeft\" && subCtx?.parentContext) {\n      subCtx.parentContext.close();\n      subCtx.parentContext.focusParentItem();\n    }\n  });\n  const handleClick = createEventHandler(_others.onClick, () => {\n    if (!dataDisabled && closeMenuOnClick) {\n      ctx.closeDropdownImmediately();\n    }\n  });\n  const handleMouseEnter = createEventHandler(_others.onMouseEnter, subCtx?.open);\n  const handleMouseLeave = createEventHandler(_others.onMouseLeave, subCtx?.close);\n  return /* @__PURE__ */ jsxs(\n    UnstyledButton,\n    {\n      onMouseDown: (event) => event.preventDefault(),\n      ...others,\n      unstyled: ctx.unstyled,\n      tabIndex: ctx.menuItemTabIndex,\n      ...ctx.getStyles(\"item\", { className, style, styles, classNames }),\n      ref: useMergedRef(itemRef, ref),\n      role: \"menuitem\",\n      disabled,\n      \"data-menu-item\": true,\n      \"data-sub-menu-item\": true,\n      \"data-disabled\": disabled || dataDisabled || void 0,\n      \"data-mantine-stop-propagation\": true,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      onClick: handleClick,\n      onKeyDown: createScopedKeydownHandler({\n        siblingSelector: \"[data-menu-item]:not([data-disabled])\",\n        parentSelector: \"[data-menu-dropdown]\",\n        activateOnFocus: false,\n        loop: ctx.loop,\n        dir,\n        orientation: \"vertical\",\n        onKeyDown: handleKeydown\n      }),\n      __vars: {\n        \"--menu-item-color\": parsedThemeColor?.isThemeColor && parsedThemeColor?.shade === void 0 ? `var(--mantine-color-${parsedThemeColor.color}-6)` : colors?.color,\n        \"--menu-item-hover\": colors?.hover\n      },\n      children: [\n        leftSection && /* @__PURE__ */ jsx(\"div\", { ...ctx.getStyles(\"itemSection\", { styles, classNames }), \"data-position\": \"left\", children: leftSection }),\n        children && /* @__PURE__ */ jsx(\"div\", { ...ctx.getStyles(\"itemLabel\", { styles, classNames }), children }),\n        /* @__PURE__ */ jsx(\"div\", { ...ctx.getStyles(\"itemSection\", { styles, classNames }), \"data-position\": \"right\", children: rightSection || /* @__PURE__ */ jsx(AccordionChevron, { ...ctx.getStyles(\"chevron\"), size: 14 }) })\n      ]\n    }\n  );\n});\nMenuSubItem.classes = classes;\nMenuSubItem.displayName = \"@mantine/core/MenuSubItem\";\n\nexport { MenuSubItem };\n//# sourceMappingURL=MenuSubItem.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { isElement } from '../../../core/utils/is-element/is-element.mjs';\nimport 'react';\nimport '@mantine/hooks';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { Popover } from '../../Popover/Popover.mjs';\nimport '../../Popover/PopoverDropdown/PopoverDropdown.mjs';\nimport '../../Popover/PopoverTarget/PopoverTarget.mjs';\nimport { useMenuContext } from '../Menu.context.mjs';\n\nfunction MenuSubTarget({ children, refProp }) {\n  if (!isElement(children)) {\n    throw new Error(\n      \"Menu.Sub.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported\"\n    );\n  }\n  useMenuContext();\n  return /* @__PURE__ */ jsx(Popover.Target, { refProp, popupType: \"menu\", children });\n}\nMenuSubTarget.displayName = \"@mantine/core/MenuSubTarget\";\n\nexport { MenuSubTarget };\n//# sourceMappingURL=MenuSubTarget.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { useId, useDisclosure } from '@mantine/hooks';\nimport 'react';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { useDelayedHover } from '../../Floating/use-delayed-hover.mjs';\nimport '@floating-ui/react';\nimport '../../Floating/FloatingArrow/FloatingArrow.mjs';\nimport { Popover } from '../../Popover/Popover.mjs';\nimport '../../Popover/PopoverDropdown/PopoverDropdown.mjs';\nimport '../../Popover/PopoverTarget/PopoverTarget.mjs';\nimport { MenuSubDropdown } from '../MenuSubDropdown/MenuSubDropdown.mjs';\nimport { MenuSubItem } from '../MenuSubItem/MenuSubItem.mjs';\nimport { MenuSubTarget } from '../MenuSubTarget/MenuSubTarget.mjs';\nimport { useSubMenuContext, SubMenuProvider } from './MenuSub.context.mjs';\n\nconst defaultProps = {\n  offset: 0,\n  position: \"right-start\",\n  transitionProps: { duration: 0 }\n};\nfunction MenuSub(_props) {\n  const { children, closeDelay, ...others } = useProps(\"MenuSub\", defaultProps, _props);\n  const id = useId();\n  const [opened, { open, close }] = useDisclosure(false);\n  const ctx = useSubMenuContext();\n  const { openDropdown, closeDropdown } = useDelayedHover({\n    open,\n    close,\n    closeDelay,\n    openDelay: 0\n  });\n  const focusFirstItem = () => window.setTimeout(() => {\n    document.getElementById(`${id}-dropdown`)?.querySelectorAll(\"[data-menu-item]:not([data-disabled])\")[0]?.focus();\n  }, 16);\n  const focusParentItem = () => window.setTimeout(() => {\n    document.getElementById(`${id}-target`)?.focus();\n  }, 16);\n  return /* @__PURE__ */ jsx(\n    SubMenuProvider,\n    {\n      value: {\n        opened,\n        close: closeDropdown,\n        open: openDropdown,\n        focusFirstItem,\n        focusParentItem,\n        parentContext: ctx\n      },\n      children: /* @__PURE__ */ jsx(Popover, { opened, ...others, withinPortal: false, id, children })\n    }\n  );\n}\nMenuSub.extend = (input) => input;\nMenuSub.displayName = \"@mantine/core/MenuSub\";\nMenuSub.Target = MenuSubTarget;\nMenuSub.Dropdown = MenuSubDropdown;\nMenuSub.Item = MenuSubItem;\n\nexport { MenuSub };\n//# sourceMappingURL=MenuSub.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { forwardRef, cloneElement } from 'react';\nimport { isElement } from '../../../core/utils/is-element/is-element.mjs';\nimport { createEventHandler } from '../../../core/utils/create-event-handler/create-event-handler.mjs';\nimport '@mantine/hooks';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { Popover } from '../../Popover/Popover.mjs';\nimport '../../Popover/PopoverDropdown/PopoverDropdown.mjs';\nimport '../../Popover/PopoverTarget/PopoverTarget.mjs';\nimport { useMenuContext } from '../Menu.context.mjs';\n\nconst defaultProps = {\n  refProp: \"ref\"\n};\nconst MenuTarget = forwardRef((props, ref) => {\n  const { children, refProp, ...others } = useProps(\"MenuTarget\", defaultProps, props);\n  if (!isElement(children)) {\n    throw new Error(\n      \"Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported\"\n    );\n  }\n  const ctx = useMenuContext();\n  const _childrenProps = children.props;\n  const onClick = createEventHandler(_childrenProps.onClick, () => {\n    if (ctx.trigger === \"click\") {\n      ctx.toggleDropdown();\n    } else if (ctx.trigger === \"click-hover\") {\n      ctx.setOpenedViaClick(true);\n      if (!ctx.opened) {\n        ctx.openDropdown();\n      }\n    }\n  });\n  const onMouseEnter = createEventHandler(\n    _childrenProps.onMouseEnter,\n    () => (ctx.trigger === \"hover\" || ctx.trigger === \"click-hover\") && ctx.openDropdown()\n  );\n  const onMouseLeave = createEventHandler(_childrenProps.onMouseLeave, () => {\n    if (ctx.trigger === \"hover\") {\n      ctx.closeDropdown();\n    } else if (ctx.trigger === \"click-hover\" && !ctx.openedViaClick) {\n      ctx.closeDropdown();\n    }\n  });\n  return /* @__PURE__ */ jsx(Popover.Target, { refProp, popupType: \"menu\", ref, ...others, children: cloneElement(children, {\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    \"data-expanded\": ctx.opened ? true : void 0\n  }) });\n});\nMenuTarget.displayName = \"@mantine/core/MenuTarget\";\n\nexport { MenuTarget };\n//# sourceMappingURL=MenuTarget.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport { useUncontrolled } from '@mantine/hooks';\nimport { getContextItemIndex } from '../../core/utils/get-context-item-index/get-context-item-index.mjs';\nimport 'clsx';\nimport { useResolvedStylesApi } from '../../core/styles-api/use-resolved-styles-api/use-resolved-styles-api.mjs';\nimport { useStyles } from '../../core/styles-api/use-styles/use-styles.mjs';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../core/Box/Box.mjs';\nimport { getWithProps } from '../../core/factory/factory.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\nimport { useDelayedHover } from '../Floating/use-delayed-hover.mjs';\nimport '@floating-ui/react';\nimport '../Floating/FloatingArrow/FloatingArrow.mjs';\nimport { Popover } from '../Popover/Popover.mjs';\nimport '../Popover/PopoverDropdown/PopoverDropdown.mjs';\nimport '../Popover/PopoverTarget/PopoverTarget.mjs';\nimport { MenuContextProvider } from './Menu.context.mjs';\nimport { MenuDivider } from './MenuDivider/MenuDivider.mjs';\nimport { MenuDropdown } from './MenuDropdown/MenuDropdown.mjs';\nimport { MenuItem } from './MenuItem/MenuItem.mjs';\nimport { MenuLabel } from './MenuLabel/MenuLabel.mjs';\nimport { MenuSub } from './MenuSub/MenuSub.mjs';\nimport { MenuTarget } from './MenuTarget/MenuTarget.mjs';\nimport classes from './Menu.module.css.mjs';\n\nconst defaultProps = {\n  trapFocus: true,\n  closeOnItemClick: true,\n  withInitialFocusPlaceholder: true,\n  clickOutsideEvents: [\"mousedown\", \"touchstart\", \"keydown\"],\n  loop: true,\n  trigger: \"click\",\n  openDelay: 0,\n  closeDelay: 100,\n  menuItemTabIndex: -1\n};\nfunction Menu(_props) {\n  const props = useProps(\"Menu\", defaultProps, _props);\n  const {\n    children,\n    onOpen,\n    onClose,\n    opened,\n    defaultOpened,\n    trapFocus,\n    onChange,\n    closeOnItemClick,\n    loop,\n    closeOnEscape,\n    trigger,\n    openDelay,\n    closeDelay,\n    classNames,\n    styles,\n    unstyled,\n    variant,\n    vars,\n    menuItemTabIndex,\n    keepMounted,\n    withInitialFocusPlaceholder,\n    ...others\n  } = props;\n  const getStyles = useStyles({\n    name: \"Menu\",\n    classes,\n    props,\n    classNames,\n    styles,\n    unstyled\n  });\n  const [_opened, setOpened] = useUncontrolled({\n    value: opened,\n    defaultValue: defaultOpened,\n    finalValue: false,\n    onChange\n  });\n  const [openedViaClick, setOpenedViaClick] = useState(false);\n  const close = () => {\n    setOpened(false);\n    setOpenedViaClick(false);\n    _opened && onClose?.();\n  };\n  const open = () => {\n    setOpened(true);\n    !_opened && onOpen?.();\n  };\n  const toggleDropdown = () => {\n    _opened ? close() : open();\n  };\n  const { openDropdown, closeDropdown } = useDelayedHover({ open, close, closeDelay, openDelay });\n  const getItemIndex = (node) => getContextItemIndex(\"[data-menu-item]\", \"[data-menu-dropdown]\", node);\n  const { resolvedClassNames, resolvedStyles } = useResolvedStylesApi({\n    classNames,\n    styles,\n    props\n  });\n  return /* @__PURE__ */ jsx(\n    MenuContextProvider,\n    {\n      value: {\n        getStyles,\n        opened: _opened,\n        toggleDropdown,\n        getItemIndex,\n        openedViaClick,\n        setOpenedViaClick,\n        closeOnItemClick,\n        closeDropdown: trigger === \"click\" ? close : closeDropdown,\n        openDropdown: trigger === \"click\" ? open : openDropdown,\n        closeDropdownImmediately: close,\n        loop,\n        trigger,\n        unstyled,\n        menuItemTabIndex,\n        withInitialFocusPlaceholder\n      },\n      children: /* @__PURE__ */ jsx(\n        Popover,\n        {\n          ...others,\n          opened: _opened,\n          onChange: toggleDropdown,\n          defaultOpened,\n          trapFocus: keepMounted ? false : trapFocus,\n          closeOnEscape,\n          __staticSelector: \"Menu\",\n          classNames: resolvedClassNames,\n          styles: resolvedStyles,\n          unstyled,\n          variant,\n          keepMounted,\n          children\n        }\n      )\n    }\n  );\n}\nMenu.extend = (input) => input;\nMenu.withProps = getWithProps(Menu);\nMenu.classes = classes;\nMenu.displayName = \"@mantine/core/Menu\";\nMenu.Item = MenuItem;\nMenu.Label = MenuLabel;\nMenu.Dropdown = MenuDropdown;\nMenu.Target = MenuTarget;\nMenu.Divider = MenuDivider;\nMenu.Sub = MenuSub;\n\nexport { Menu };\n//# sourceMappingURL=Menu.mjs.map\n","'use client';\nimport 'react';\nimport { createSafeContext } from '../../core/utils/create-safe-context/create-safe-context.mjs';\nimport 'react/jsx-runtime';\nimport '@mantine/hooks';\nimport 'clsx';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../core/Box/Box.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\n\nconst [TableProvider, useTableContext] = createSafeContext(\n  \"Table component was not found in the tree\"\n);\n\nexport { TableProvider, useTableContext };\n//# sourceMappingURL=Table.context.mjs.map\n","'use client';\nvar classes = {\"table\":\"m_b23fa0ef\",\"th\":\"m_4e7aa4f3\",\"tr\":\"m_4e7aa4fd\",\"td\":\"m_4e7aa4ef\",\"tbody\":\"m_b2404537\",\"thead\":\"m_b242d975\",\"caption\":\"m_9e5a3ac7\",\"scrollContainer\":\"m_a100c15\",\"scrollContainerInner\":\"m_62259741\"};\n\nexport { classes as default };\n//# sourceMappingURL=Table.module.css.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport 'react';\nimport '@mantine/hooks';\nimport 'clsx';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport { Box } from '../../core/Box/Box.mjs';\nimport { factory } from '../../core/factory/factory.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\nimport { useTableContext } from './Table.context.mjs';\nimport classes from './Table.module.css.mjs';\n\nfunction getDataAttributes(ctx, options) {\n  if (!options) {\n    return void 0;\n  }\n  const data = {};\n  if (options.columnBorder && ctx.withColumnBorders) {\n    data[\"data-with-column-border\"] = true;\n  }\n  if (options.rowBorder && ctx.withRowBorders) {\n    data[\"data-with-row-border\"] = true;\n  }\n  if (options.striped && ctx.striped) {\n    data[\"data-striped\"] = ctx.striped;\n  }\n  if (options.highlightOnHover && ctx.highlightOnHover) {\n    data[\"data-hover\"] = true;\n  }\n  if (options.captionSide && ctx.captionSide) {\n    data[\"data-side\"] = ctx.captionSide;\n  }\n  if (options.stickyHeader && ctx.stickyHeader) {\n    data[\"data-sticky\"] = true;\n  }\n  return data;\n}\nfunction tableElement(element, options) {\n  const name = `Table${element.charAt(0).toUpperCase()}${element.slice(1)}`;\n  const Component = factory((_props, ref) => {\n    const props = useProps(name, {}, _props);\n    const { classNames, className, style, styles, ...others } = props;\n    const ctx = useTableContext();\n    return /* @__PURE__ */ jsx(\n      Box,\n      {\n        component: element,\n        ref,\n        ...getDataAttributes(ctx, options),\n        ...ctx.getStyles(element, { className, classNames, style, styles, props }),\n        ...others\n      }\n    );\n  });\n  Component.displayName = `@mantine/core/${name}`;\n  Component.classes = classes;\n  return Component;\n}\nconst TableTh = tableElement(\"th\", { columnBorder: true });\nconst TableTd = tableElement(\"td\", { columnBorder: true });\nconst TableTr = tableElement(\"tr\", {\n  rowBorder: true,\n  striped: true,\n  highlightOnHover: true\n});\nconst TableThead = tableElement(\"thead\", { stickyHeader: true });\nconst TableTbody = tableElement(\"tbody\");\nconst TableTfoot = tableElement(\"tfoot\");\nconst TableCaption = tableElement(\"caption\", { captionSide: true });\n\nexport { TableCaption, TableTbody, TableTd, TableTfoot, TableTh, TableThead, TableTr, tableElement };\n//# sourceMappingURL=Table.components.mjs.map\n","'use client';\nimport { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { TableCaption, TableThead, TableTr, TableTh, TableTbody, TableTd, TableTfoot } from './Table.components.mjs';\n\nfunction TableDataRenderer({ data }) {\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    data.caption && /* @__PURE__ */ jsx(TableCaption, { children: data.caption }),\n    data.head && /* @__PURE__ */ jsx(TableThead, { children: /* @__PURE__ */ jsx(TableTr, { children: data.head.map((item, index) => /* @__PURE__ */ jsx(TableTh, { children: item }, index)) }) }),\n    data.body && /* @__PURE__ */ jsx(TableTbody, { children: data.body.map((row, rowIndex) => /* @__PURE__ */ jsx(TableTr, { children: row.map((item, index) => /* @__PURE__ */ jsx(TableTd, { children: item }, index)) }, rowIndex)) }),\n    data.foot && /* @__PURE__ */ jsx(TableTfoot, { children: /* @__PURE__ */ jsx(TableTr, { children: data.foot.map((item, index) => /* @__PURE__ */ jsx(TableTh, { children: item }, index)) }) })\n  ] });\n}\nTableDataRenderer.displayName = \"@mantine/core/TableDataRenderer\";\n\nexport { TableDataRenderer };\n//# sourceMappingURL=TableDataRenderer.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { rem } from '../../core/utils/units-converters/rem.mjs';\nimport 'react';\nimport '@mantine/hooks';\nimport { createVarsResolver } from '../../core/styles-api/create-vars-resolver/create-vars-resolver.mjs';\nimport 'clsx';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport { useStyles } from '../../core/styles-api/use-styles/use-styles.mjs';\nimport { Box } from '../../core/Box/Box.mjs';\nimport { factory } from '../../core/factory/factory.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\nimport { ScrollArea } from '../ScrollArea/ScrollArea.mjs';\nimport classes from './Table.module.css.mjs';\n\nconst defaultProps = {\n  type: \"scrollarea\"\n};\nconst varsResolver = createVarsResolver(\n  (_, { minWidth, maxHeight, type }) => ({\n    scrollContainer: {\n      \"--table-min-width\": rem(minWidth),\n      \"--table-max-height\": rem(maxHeight),\n      \"--table-overflow\": type === \"native\" ? \"auto\" : void 0\n    }\n  })\n);\nconst TableScrollContainer = factory((_props, ref) => {\n  const props = useProps(\"TableScrollContainer\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    children,\n    minWidth,\n    maxHeight,\n    type,\n    scrollAreaProps,\n    ...others\n  } = props;\n  const getStyles = useStyles({\n    name: \"TableScrollContainer\",\n    classes,\n    props,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n    rootSelector: \"scrollContainer\"\n  });\n  return /* @__PURE__ */ jsx(\n    Box,\n    {\n      component: type === \"scrollarea\" ? ScrollArea : \"div\",\n      ...type === \"scrollarea\" ? maxHeight ? { offsetScrollbars: \"xy\", ...scrollAreaProps } : { offsetScrollbars: \"x\", ...scrollAreaProps } : {},\n      ref,\n      ...getStyles(\"scrollContainer\"),\n      ...others,\n      children: /* @__PURE__ */ jsx(\"div\", { ...getStyles(\"scrollContainerInner\"), children })\n    }\n  );\n});\nTableScrollContainer.classes = classes;\nTableScrollContainer.displayName = \"@mantine/core/TableScrollContainer\";\n\nexport { TableScrollContainer };\n//# sourceMappingURL=TableScrollContainer.mjs.map\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { rem } from '../../core/utils/units-converters/rem.mjs';\nimport 'react';\nimport { getSpacing } from '../../core/utils/get-size/get-size.mjs';\nimport '@mantine/hooks';\nimport { createVarsResolver } from '../../core/styles-api/create-vars-resolver/create-vars-resolver.mjs';\nimport 'clsx';\nimport { getThemeColor } from '../../core/MantineProvider/color-functions/get-theme-color/get-theme-color.mjs';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport { useStyles } from '../../core/styles-api/use-styles/use-styles.mjs';\nimport { Box } from '../../core/Box/Box.mjs';\nimport { factory } from '../../core/factory/factory.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\nimport { TableTd, TableTh, TableTr, TableThead, TableTbody, TableTfoot, TableCaption } from './Table.components.mjs';\nimport { TableProvider } from './Table.context.mjs';\nimport { TableDataRenderer } from './TableDataRenderer.mjs';\nimport { TableScrollContainer } from './TableScrollContainer.mjs';\nimport classes from './Table.module.css.mjs';\n\nconst defaultProps = {\n  withRowBorders: true,\n  verticalSpacing: 7\n};\nconst varsResolver = createVarsResolver(\n  (theme, {\n    layout,\n    captionSide,\n    horizontalSpacing,\n    verticalSpacing,\n    borderColor,\n    stripedColor,\n    highlightOnHoverColor,\n    striped,\n    highlightOnHover,\n    stickyHeaderOffset,\n    stickyHeader\n  }) => ({\n    table: {\n      \"--table-layout\": layout,\n      \"--table-caption-side\": captionSide,\n      \"--table-horizontal-spacing\": getSpacing(horizontalSpacing),\n      \"--table-vertical-spacing\": getSpacing(verticalSpacing),\n      \"--table-border-color\": borderColor ? getThemeColor(borderColor, theme) : void 0,\n      \"--table-striped-color\": striped && stripedColor ? getThemeColor(stripedColor, theme) : void 0,\n      \"--table-highlight-on-hover-color\": highlightOnHover && highlightOnHoverColor ? getThemeColor(highlightOnHoverColor, theme) : void 0,\n      \"--table-sticky-header-offset\": stickyHeader ? rem(stickyHeaderOffset) : void 0\n    }\n  })\n);\nconst Table = factory((_props, ref) => {\n  const props = useProps(\"Table\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    horizontalSpacing,\n    verticalSpacing,\n    captionSide,\n    stripedColor,\n    highlightOnHoverColor,\n    striped,\n    highlightOnHover,\n    withColumnBorders,\n    withRowBorders,\n    withTableBorder,\n    borderColor,\n    layout,\n    variant,\n    data,\n    children,\n    stickyHeader,\n    stickyHeaderOffset,\n    mod,\n    tabularNums,\n    ...others\n  } = props;\n  const getStyles = useStyles({\n    name: \"Table\",\n    props,\n    className,\n    style,\n    classes,\n    classNames,\n    styles,\n    unstyled,\n    rootSelector: \"table\",\n    vars,\n    varsResolver\n  });\n  return /* @__PURE__ */ jsx(\n    TableProvider,\n    {\n      value: {\n        getStyles,\n        stickyHeader,\n        striped: striped === true ? \"odd\" : striped || void 0,\n        highlightOnHover,\n        withColumnBorders,\n        withRowBorders,\n        captionSide: captionSide || \"bottom\"\n      },\n      children: /* @__PURE__ */ jsx(\n        Box,\n        {\n          component: \"table\",\n          variant,\n          ref,\n          mod: [{ \"data-with-table-border\": withTableBorder, \"data-tabular-nums\": tabularNums }, mod],\n          ...getStyles(\"table\"),\n          ...others,\n          children: children || !!data && /* @__PURE__ */ jsx(TableDataRenderer, { data })\n        }\n      )\n    }\n  );\n});\nTable.classes = classes;\nTable.displayName = \"@mantine/core/Table\";\nTable.Td = TableTd;\nTable.Th = TableTh;\nTable.Tr = TableTr;\nTable.Thead = TableThead;\nTable.Tbody = TableTbody;\nTable.Tfoot = TableTfoot;\nTable.Caption = TableCaption;\nTable.ScrollContainer = TableScrollContainer;\nTable.DataRenderer = TableDataRenderer;\n\nexport { Table };\n//# sourceMappingURL=Table.mjs.map\n","/**\n * @license @tabler/icons-react v3.33.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nvar IconAlertCircle = createReactComponent(\"outline\", \"alert-circle\", \"IconAlertCircle\", [[\"path\", { \"d\": \"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M12 8v4\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M12 16h.01\", \"key\": \"svg-2\" }]]);\n\nexport { IconAlertCircle as default };\n//# sourceMappingURL=IconAlertCircle.mjs.map\n","/**\n * @license @tabler/icons-react v3.33.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nvar IconCheckbox = createReactComponent(\"outline\", \"checkbox\", \"IconCheckbox\", [[\"path\", { \"d\": \"M9 11l3 3l8 -8\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9\", \"key\": \"svg-1\" }]]);\n\nexport { IconCheckbox as default };\n//# sourceMappingURL=IconCheckbox.mjs.map\n","/**\n * @license @tabler/icons-react v3.33.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nvar IconDotsVertical = createReactComponent(\"outline\", \"dots-vertical\", \"IconDotsVertical\", [[\"path\", { \"d\": \"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-2\" }]]);\n\nexport { IconDotsVertical as default };\n//# sourceMappingURL=IconDotsVertical.mjs.map\n","/**\n * @license @tabler/icons-react v3.33.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nvar IconExclamationCircle = createReactComponent(\"outline\", \"exclamation-circle\", \"IconExclamationCircle\", [[\"path\", { \"d\": \"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M12 9v4\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M12 16v.01\", \"key\": \"svg-2\" }]]);\n\nexport { IconExclamationCircle as default };\n//# sourceMappingURL=IconExclamationCircle.mjs.map\n","/**\n * @license @tabler/icons-react v3.33.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nvar IconGitCommit = createReactComponent(\"outline\", \"git-commit\", \"IconGitCommit\", [[\"path\", { \"d\": \"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M12 3l0 6\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M12 15l0 6\", \"key\": \"svg-2\" }]]);\n\nexport { IconGitCommit as default };\n//# sourceMappingURL=IconGitCommit.mjs.map\n","/**\n * @license @tabler/icons-react v3.33.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nvar IconGitMerge = createReactComponent(\"outline\", \"git-merge\", \"IconGitMerge\", [[\"path\", { \"d\": \"M7 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M7 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M17 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M7 8l0 8\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M7 8a4 4 0 0 0 4 4h4\", \"key\": \"svg-4\" }]]);\n\nexport { IconGitMerge as default };\n//# sourceMappingURL=IconGitMerge.mjs.map\n","/**\n * @license @tabler/icons-react v3.33.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nvar IconMessage = createReactComponent(\"outline\", \"message\", \"IconMessage\", [[\"path\", { \"d\": \"M8 9h8\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M8 13h6\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z\", \"key\": \"svg-2\" }]]);\n\nexport { IconMessage as default };\n//# sourceMappingURL=IconMessage.mjs.map\n","/**\n * @license @tabler/icons-react v3.33.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nvar IconPencilPlus = createReactComponent(\"outline\", \"pencil-plus\", \"IconPencilPlus\", [[\"path\", { \"d\": \"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M13.5 6.5l4 4\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M16 19h6\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M19 16v6\", \"key\": \"svg-3\" }]]);\n\nexport { IconPencilPlus as default };\n//# sourceMappingURL=IconPencilPlus.mjs.map\n","/**\n * @generated SignedSource<<d859708b3bce755a29815f021ce7452c>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type PRReviewCommitsQuery$variables = {\n  id: number;\n  includeTeam: boolean;\n  name: string;\n  owner: string;\n};\nexport type PRReviewCommitsQuery$data = {\n  readonly repository: {\n    readonly defaultBranchRef: {\n      readonly name: string;\n    } | null | undefined;\n    readonly pullRequest: {\n      readonly \" $fragmentSpreads\": FragmentRefs<\"ActivityPanelFragment\" | \"CommitsViewPullRequestFragment\" | \"FooterPullRequestFragment\" | \"SummaryPanelFragment\">;\n    } | null | undefined;\n    readonly \" $fragmentSpreads\": FragmentRefs<\"CommitsViewRepositoryFragment\">;\n  } | null | undefined;\n  readonly viewer: {\n    readonly login: string;\n  };\n};\nexport type PRReviewCommitsQuery = {\n  response: PRReviewCommitsQuery$data;\n  variables: PRReviewCommitsQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"id\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"includeTeam\"\n},\nv2 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"name\"\n},\nv3 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"owner\"\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"login\",\n  \"storageKey\": null\n},\nv5 = [\n  (v4/*: any*/)\n],\nv6 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"name\",\n    \"variableName\": \"name\"\n  },\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"owner\",\n    \"variableName\": \"owner\"\n  }\n],\nv7 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n},\nv8 = [\n  (v7/*: any*/)\n],\nv9 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"number\",\n    \"variableName\": \"id\"\n  }\n],\nv10 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv11 = [\n  (v4/*: any*/),\n  (v10/*: any*/)\n],\nv12 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"__typename\",\n  \"storageKey\": null\n},\nv13 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": null,\n  \"kind\": \"LinkedField\",\n  \"name\": \"owner\",\n  \"plural\": false,\n  \"selections\": [\n    (v12/*: any*/),\n    (v4/*: any*/),\n    (v10/*: any*/)\n  ],\n  \"storageKey\": null\n},\nv14 = [\n  (v7/*: any*/),\n  (v10/*: any*/)\n],\nv15 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": \"Ref\",\n  \"kind\": \"LinkedField\",\n  \"name\": \"defaultBranchRef\",\n  \"plural\": false,\n  \"selections\": (v14/*: any*/),\n  \"storageKey\": null\n},\nv16 = {\n  \"kind\": \"InlineFragment\",\n  \"selections\": [\n    (v10/*: any*/)\n  ],\n  \"type\": \"Node\",\n  \"abstractKey\": \"__isNode\"\n},\nv17 = [\n  (v12/*: any*/),\n  (v4/*: any*/),\n  (v16/*: any*/)\n],\nv18 = {\n  \"kind\": \"Literal\",\n  \"name\": \"first\",\n  \"value\": 30\n},\nv19 = [\n  (v18/*: any*/)\n],\nv20 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"totalCount\",\n  \"storageKey\": null\n},\nv21 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"oid\",\n  \"storageKey\": null\n},\nv22 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"message\",\n  \"storageKey\": null\n},\nv23 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"createdAt\",\n  \"storageKey\": null\n},\nv24 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"state\",\n  \"storageKey\": null\n},\nv25 = [\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"count\",\n    \"storageKey\": null\n  },\n  (v24/*: any*/)\n],\nv26 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": \"Ref\",\n  \"kind\": \"LinkedField\",\n  \"name\": \"ref\",\n  \"plural\": false,\n  \"selections\": (v14/*: any*/),\n  \"storageKey\": null\n},\nv27 = [\n  (v21/*: any*/),\n  (v10/*: any*/)\n],\nv28 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"committedDate\",\n  \"storageKey\": null\n},\nv29 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": null,\n  \"kind\": \"LinkedField\",\n  \"name\": \"author\",\n  \"plural\": false,\n  \"selections\": (v17/*: any*/),\n  \"storageKey\": null\n},\nv30 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"body\",\n  \"storageKey\": null\n},\nv31 = {\n  \"kind\": \"InlineFragment\",\n  \"selections\": [\n    {\n      \"alias\": \"reviewState\",\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"state\",\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"PullRequestReviewComment\",\n  \"abstractKey\": null\n},\nv32 = {\n  \"kind\": \"ClientExtension\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"isPending\",\n      \"storageKey\": null\n    }\n  ]\n},\nv33 = [\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"first\",\n    \"value\": 20\n  }\n],\nv34 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"startLine\",\n  \"storageKey\": null\n},\nv35 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"line\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/),\n      (v2/*: any*/),\n      (v3/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"PRReviewCommitsQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"viewer\",\n        \"plural\": false,\n        \"selections\": (v5/*: any*/),\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": (v6/*: any*/),\n        \"concreteType\": \"Repository\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"repository\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"CommitsViewRepositoryFragment\"\n          },\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"Ref\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"defaultBranchRef\",\n            \"plural\": false,\n            \"selections\": (v8/*: any*/),\n            \"storageKey\": null\n          },\n          {\n            \"alias\": null,\n            \"args\": (v9/*: any*/),\n            \"concreteType\": \"PullRequest\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"pullRequest\",\n            \"plural\": false,\n            \"selections\": [\n              {\n                \"args\": null,\n                \"kind\": \"FragmentSpread\",\n                \"name\": \"ActivityPanelFragment\"\n              },\n              {\n                \"args\": null,\n                \"kind\": \"FragmentSpread\",\n                \"name\": \"FooterPullRequestFragment\"\n              },\n              {\n                \"args\": null,\n                \"kind\": \"FragmentSpread\",\n                \"name\": \"CommitsViewPullRequestFragment\"\n              },\n              {\n                \"args\": null,\n                \"kind\": \"FragmentSpread\",\n                \"name\": \"SummaryPanelFragment\"\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v3/*: any*/),\n      (v2/*: any*/),\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"PRReviewCommitsQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"viewer\",\n        \"plural\": false,\n        \"selections\": (v11/*: any*/),\n        \"storageKey\": null\n      },\n      {\n        \"alias\": null,\n        \"args\": (v6/*: any*/),\n        \"concreteType\": \"Repository\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"repository\",\n        \"plural\": false,\n        \"selections\": [\n          (v13/*: any*/),\n          (v7/*: any*/),\n          (v15/*: any*/),\n          {\n            \"alias\": null,\n            \"args\": (v9/*: any*/),\n            \"concreteType\": \"PullRequest\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"pullRequest\",\n            \"plural\": false,\n            \"selections\": [\n              (v10/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"viewerCanUpdate\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"mergedAt\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": null,\n                \"kind\": \"LinkedField\",\n                \"name\": \"mergedBy\",\n                \"plural\": false,\n                \"selections\": (v17/*: any*/),\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": (v19/*: any*/),\n                \"concreteType\": \"PullRequestCommitConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"commits\",\n                \"plural\": false,\n                \"selections\": [\n                  (v20/*: any*/),\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"PullRequestCommitEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      (v12/*: any*/),\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"PullRequestCommit\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"concreteType\": \"Commit\",\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"commit\",\n                            \"plural\": false,\n                            \"selections\": [\n                              (v21/*: any*/),\n                              (v10/*: any*/),\n                              {\n                                \"alias\": null,\n                                \"args\": [\n                                  {\n                                    \"kind\": \"Literal\",\n                                    \"name\": \"first\",\n                                    \"value\": 2\n                                  }\n                                ],\n                                \"concreteType\": \"CommitConnection\",\n                                \"kind\": \"LinkedField\",\n                                \"name\": \"parents\",\n                                \"plural\": false,\n                                \"selections\": [\n                                  {\n                                    \"alias\": null,\n                                    \"args\": null,\n                                    \"concreteType\": \"CommitEdge\",\n                                    \"kind\": \"LinkedField\",\n                                    \"name\": \"edges\",\n                                    \"plural\": true,\n                                    \"selections\": [\n                                      {\n                                        \"alias\": null,\n                                        \"args\": null,\n                                        \"concreteType\": \"Commit\",\n                                        \"kind\": \"LinkedField\",\n                                        \"name\": \"node\",\n                                        \"plural\": false,\n                                        \"selections\": [\n                                          (v21/*: any*/),\n                                          (v10/*: any*/),\n                                          (v22/*: any*/)\n                                        ],\n                                        \"storageKey\": null\n                                      }\n                                    ],\n                                    \"storageKey\": null\n                                  }\n                                ],\n                                \"storageKey\": \"parents(first:2)\"\n                              },\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"kind\": \"ScalarField\",\n                                \"name\": \"messageHeadline\",\n                                \"storageKey\": null\n                              },\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"kind\": \"ScalarField\",\n                                \"name\": \"additions\",\n                                \"storageKey\": null\n                              },\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"kind\": \"ScalarField\",\n                                \"name\": \"deletions\",\n                                \"storageKey\": null\n                              },\n                              (v22/*: any*/)\n                            ],\n                            \"storageKey\": null\n                          },\n                          (v10/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"commits(first:30)\"\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"mergeable\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"viewerDidAuthor\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"viewerCanMergeAsAdmin\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Repository\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"baseRepository\",\n                \"plural\": false,\n                \"selections\": [\n                  (v13/*: any*/),\n                  (v7/*: any*/),\n                  (v10/*: any*/)\n                ],\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Ref\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"baseRef\",\n                \"plural\": false,\n                \"selections\": [\n                  (v7/*: any*/),\n                  (v10/*: any*/),\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"BranchProtectionRule\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"branchProtectionRule\",\n                    \"plural\": false,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"requiresCodeOwnerReviews\",\n                        \"storageKey\": null\n                      },\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"requiredApprovingReviewCount\",\n                        \"storageKey\": null\n                      },\n                      (v10/*: any*/)\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": null\n              },\n              (v23/*: any*/),\n              {\n                \"alias\": \"lastCommit\",\n                \"args\": [\n                  {\n                    \"kind\": \"Literal\",\n                    \"name\": \"last\",\n                    \"value\": 1\n                  }\n                ],\n                \"concreteType\": \"PullRequestCommitConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"commits\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"PullRequestCommitEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"PullRequestCommit\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"concreteType\": \"Commit\",\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"commit\",\n                            \"plural\": false,\n                            \"selections\": [\n                              (v21/*: any*/),\n                              (v10/*: any*/),\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"concreteType\": \"StatusCheckRollup\",\n                                \"kind\": \"LinkedField\",\n                                \"name\": \"statusCheckRollup\",\n                                \"plural\": false,\n                                \"selections\": [\n                                  (v24/*: any*/),\n                                  {\n                                    \"alias\": null,\n                                    \"args\": [\n                                      {\n                                        \"kind\": \"Literal\",\n                                        \"name\": \"first\",\n                                        \"value\": 50\n                                      }\n                                    ],\n                                    \"concreteType\": \"StatusCheckRollupContextConnection\",\n                                    \"kind\": \"LinkedField\",\n                                    \"name\": \"contexts\",\n                                    \"plural\": false,\n                                    \"selections\": [\n                                      (v20/*: any*/),\n                                      {\n                                        \"alias\": null,\n                                        \"args\": null,\n                                        \"concreteType\": \"CheckRunStateCount\",\n                                        \"kind\": \"LinkedField\",\n                                        \"name\": \"checkRunCountsByState\",\n                                        \"plural\": true,\n                                        \"selections\": (v25/*: any*/),\n                                        \"storageKey\": null\n                                      },\n                                      {\n                                        \"alias\": null,\n                                        \"args\": null,\n                                        \"concreteType\": \"StatusContextStateCount\",\n                                        \"kind\": \"LinkedField\",\n                                        \"name\": \"statusContextCountsByState\",\n                                        \"plural\": true,\n                                        \"selections\": (v25/*: any*/),\n                                        \"storageKey\": null\n                                      },\n                                      {\n                                        \"alias\": null,\n                                        \"args\": null,\n                                        \"concreteType\": \"StatusCheckRollupContextEdge\",\n                                        \"kind\": \"LinkedField\",\n                                        \"name\": \"edges\",\n                                        \"plural\": true,\n                                        \"selections\": [\n                                          {\n                                            \"alias\": null,\n                                            \"args\": null,\n                                            \"concreteType\": null,\n                                            \"kind\": \"LinkedField\",\n                                            \"name\": \"node\",\n                                            \"plural\": false,\n                                            \"selections\": [\n                                              (v12/*: any*/),\n                                              {\n                                                \"kind\": \"InlineFragment\",\n                                                \"selections\": [\n                                                  (v10/*: any*/),\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"detailsUrl\",\n                                                    \"storageKey\": null\n                                                  },\n                                                  (v7/*: any*/),\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"status\",\n                                                    \"storageKey\": null\n                                                  },\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"conclusion\",\n                                                    \"storageKey\": null\n                                                  }\n                                                ],\n                                                \"type\": \"CheckRun\",\n                                                \"abstractKey\": null\n                                              },\n                                              {\n                                                \"kind\": \"InlineFragment\",\n                                                \"selections\": [\n                                                  (v10/*: any*/),\n                                                  (v24/*: any*/),\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"description\",\n                                                    \"storageKey\": null\n                                                  },\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"context\",\n                                                    \"storageKey\": null\n                                                  },\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"avatarUrl\",\n                                                    \"storageKey\": null\n                                                  },\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"targetUrl\",\n                                                    \"storageKey\": null\n                                                  }\n                                                ],\n                                                \"type\": \"StatusContext\",\n                                                \"abstractKey\": null\n                                              },\n                                              (v16/*: any*/)\n                                            ],\n                                            \"storageKey\": null\n                                          }\n                                        ],\n                                        \"storageKey\": null\n                                      }\n                                    ],\n                                    \"storageKey\": \"contexts(first:50)\"\n                                  },\n                                  (v10/*: any*/)\n                                ],\n                                \"storageKey\": null\n                              }\n                            ],\n                            \"storageKey\": null\n                          },\n                          (v10/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"commits(last:1)\"\n              },\n              {\n                \"alias\": null,\n                \"args\": [\n                  (v18/*: any*/),\n                  {\n                    \"kind\": \"Literal\",\n                    \"name\": \"itemTypes\",\n                    \"value\": [\n                      \"HEAD_REF_FORCE_PUSHED_EVENT\",\n                      \"BASE_REF_FORCE_PUSHED_EVENT\",\n                      \"BASE_REF_CHANGED_EVENT\",\n                      \"PULL_REQUEST_COMMIT\"\n                    ]\n                  }\n                ],\n                \"concreteType\": \"PullRequestTimelineItemsConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"timelineItems\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"PullRequestTimelineItemsEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": null,\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v12/*: any*/),\n                          {\n                            \"kind\": \"InlineFragment\",\n                            \"selections\": [\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"concreteType\": \"Commit\",\n                                \"kind\": \"LinkedField\",\n                                \"name\": \"commit\",\n                                \"plural\": false,\n                                \"selections\": [\n                                  (v21/*: any*/),\n                                  {\n                                    \"alias\": null,\n                                    \"args\": null,\n                                    \"kind\": \"ScalarField\",\n                                    \"name\": \"authoredDate\",\n                                    \"storageKey\": null\n                                  },\n                                  (v10/*: any*/)\n                                ],\n                                \"storageKey\": null\n                              }\n                            ],\n                            \"type\": \"PullRequestCommit\",\n                            \"abstractKey\": null\n                          },\n                          {\n                            \"kind\": \"InlineFragment\",\n                            \"selections\": [\n                              (v23/*: any*/),\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"kind\": \"ScalarField\",\n                                \"name\": \"previousRefName\",\n                                \"storageKey\": null\n                              }\n                            ],\n                            \"type\": \"BaseRefChangedEvent\",\n                            \"abstractKey\": null\n                          },\n                          {\n                            \"kind\": \"InlineFragment\",\n                            \"selections\": [\n                              (v23/*: any*/),\n                              (v26/*: any*/)\n                            ],\n                            \"type\": \"BaseRefForcePushedEvent\",\n                            \"abstractKey\": null\n                          },\n                          {\n                            \"kind\": \"InlineFragment\",\n                            \"selections\": [\n                              (v23/*: any*/),\n                              (v26/*: any*/),\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"concreteType\": \"Commit\",\n                                \"kind\": \"LinkedField\",\n                                \"name\": \"afterCommit\",\n                                \"plural\": false,\n                                \"selections\": (v27/*: any*/),\n                                \"storageKey\": null\n                              },\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"concreteType\": \"Commit\",\n                                \"kind\": \"LinkedField\",\n                                \"name\": \"beforeCommit\",\n                                \"plural\": false,\n                                \"selections\": [\n                                  (v21/*: any*/),\n                                  (v28/*: any*/),\n                                  (v10/*: any*/)\n                                ],\n                                \"storageKey\": null\n                              }\n                            ],\n                            \"type\": \"HeadRefForcePushedEvent\",\n                            \"abstractKey\": null\n                          },\n                          (v16/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"timelineItems(first:30,itemTypes:[\\\"HEAD_REF_FORCE_PUSHED_EVENT\\\",\\\"BASE_REF_FORCE_PUSHED_EVENT\\\",\\\"BASE_REF_CHANGED_EVENT\\\",\\\"PULL_REQUEST_COMMIT\\\"])\"\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"PullRequestReview\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"viewerLatestReview\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"Commit\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"commit\",\n                    \"plural\": false,\n                    \"selections\": [\n                      (v10/*: any*/),\n                      (v21/*: any*/)\n                    ],\n                    \"storageKey\": null\n                  },\n                  (v10/*: any*/)\n                ],\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Repository\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"repository\",\n                \"plural\": false,\n                \"selections\": [\n                  (v15/*: any*/),\n                  (v10/*: any*/)\n                ],\n                \"storageKey\": null\n              },\n              (v29/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": (v19/*: any*/),\n                \"concreteType\": \"PullRequestReviewConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"reviews\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"PullRequestReviewEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"PullRequestReview\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v10/*: any*/),\n                          (v24/*: any*/),\n                          (v30/*: any*/),\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"concreteType\": null,\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"author\",\n                            \"plural\": false,\n                            \"selections\": [\n                              (v12/*: any*/),\n                              (v4/*: any*/),\n                              (v16/*: any*/),\n                              {\n                                \"kind\": \"InlineFragment\",\n                                \"selections\": [\n                                  {\n                                    \"alias\": null,\n                                    \"args\": null,\n                                    \"kind\": \"ScalarField\",\n                                    \"name\": \"location\",\n                                    \"storageKey\": null\n                                  },\n                                  {\n                                    \"alias\": null,\n                                    \"args\": null,\n                                    \"kind\": \"ScalarField\",\n                                    \"name\": \"company\",\n                                    \"storageKey\": null\n                                  },\n                                  {\n                                    \"alias\": null,\n                                    \"args\": null,\n                                    \"kind\": \"ScalarField\",\n                                    \"name\": \"email\",\n                                    \"storageKey\": null\n                                  }\n                                ],\n                                \"type\": \"User\",\n                                \"abstractKey\": null\n                              }\n                            ],\n                            \"storageKey\": null\n                          },\n                          (v12/*: any*/),\n                          (v23/*: any*/),\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"concreteType\": \"Commit\",\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"commit\",\n                            \"plural\": false,\n                            \"selections\": (v27/*: any*/),\n                            \"storageKey\": null\n                          },\n                          {\n                            \"alias\": null,\n                            \"args\": [\n                              {\n                                \"kind\": \"Literal\",\n                                \"name\": \"last\",\n                                \"value\": 30\n                              }\n                            ],\n                            \"concreteType\": \"PullRequestReviewCommentConnection\",\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"comments\",\n                            \"plural\": false,\n                            \"selections\": [\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"concreteType\": \"PullRequestReviewCommentEdge\",\n                                \"kind\": \"LinkedField\",\n                                \"name\": \"edges\",\n                                \"plural\": true,\n                                \"selections\": [\n                                  {\n                                    \"alias\": null,\n                                    \"args\": null,\n                                    \"concreteType\": \"PullRequestReviewComment\",\n                                    \"kind\": \"LinkedField\",\n                                    \"name\": \"node\",\n                                    \"plural\": false,\n                                    \"selections\": [\n                                      (v30/*: any*/),\n                                      (v29/*: any*/),\n                                      (v10/*: any*/)\n                                    ],\n                                    \"storageKey\": null\n                                  }\n                                ],\n                                \"storageKey\": null\n                              }\n                            ],\n                            \"storageKey\": \"comments(last:30)\"\n                          },\n                          {\n                            \"kind\": \"InlineFragment\",\n                            \"selections\": [\n                              (v31/*: any*/),\n                              (v32/*: any*/)\n                            ],\n                            \"type\": \"Comment\",\n                            \"abstractKey\": \"__isComment\"\n                          }\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"reviews(first:30)\"\n              },\n              {\n                \"alias\": null,\n                \"args\": (v33/*: any*/),\n                \"concreteType\": \"PullRequestReviewThreadConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"reviewThreads\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"PullRequestReviewThreadEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"PullRequestReviewThread\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v10/*: any*/),\n                          {\n                            \"alias\": null,\n                            \"args\": (v33/*: any*/),\n                            \"concreteType\": \"PullRequestReviewCommentConnection\",\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"comments\",\n                            \"plural\": false,\n                            \"selections\": [\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"concreteType\": \"PullRequestReviewCommentEdge\",\n                                \"kind\": \"LinkedField\",\n                                \"name\": \"edges\",\n                                \"plural\": true,\n                                \"selections\": [\n                                  {\n                                    \"alias\": null,\n                                    \"args\": null,\n                                    \"concreteType\": \"PullRequestReviewComment\",\n                                    \"kind\": \"LinkedField\",\n                                    \"name\": \"node\",\n                                    \"plural\": false,\n                                    \"selections\": [\n                                      (v10/*: any*/),\n                                      (v30/*: any*/),\n                                      (v34/*: any*/),\n                                      (v35/*: any*/),\n                                      (v32/*: any*/),\n                                      {\n                                        \"kind\": \"InlineFragment\",\n                                        \"selections\": [\n                                          (v29/*: any*/),\n                                          (v23/*: any*/),\n                                          (v31/*: any*/)\n                                        ],\n                                        \"type\": \"Comment\",\n                                        \"abstractKey\": \"__isComment\"\n                                      }\n                                    ],\n                                    \"storageKey\": null\n                                  }\n                                ],\n                                \"storageKey\": null\n                              }\n                            ],\n                            \"storageKey\": \"comments(first:20)\"\n                          },\n                          (v35/*: any*/),\n                          (v34/*: any*/),\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"kind\": \"ScalarField\",\n                            \"name\": \"path\",\n                            \"storageKey\": null\n                          },\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"kind\": \"ScalarField\",\n                            \"name\": \"isResolved\",\n                            \"storageKey\": null\n                          },\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"kind\": \"ScalarField\",\n                            \"name\": \"viewerCanReply\",\n                            \"storageKey\": null\n                          },\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"kind\": \"ScalarField\",\n                            \"name\": \"viewerCanResolve\",\n                            \"storageKey\": null\n                          },\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"kind\": \"ScalarField\",\n                            \"name\": \"viewerCanUnresolve\",\n                            \"storageKey\": null\n                          },\n                          (v32/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"reviewThreads(first:20)\"\n              },\n              {\n                \"alias\": null,\n                \"args\": (v19/*: any*/),\n                \"concreteType\": \"IssueCommentConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"comments\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"IssueCommentEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"IssueComment\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v12/*: any*/),\n                          (v23/*: any*/),\n                          (v10/*: any*/),\n                          (v30/*: any*/),\n                          {\n                            \"kind\": \"InlineFragment\",\n                            \"selections\": [\n                              (v29/*: any*/),\n                              (v31/*: any*/),\n                              (v32/*: any*/)\n                            ],\n                            \"type\": \"Comment\",\n                            \"abstractKey\": \"__isComment\"\n                          }\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"comments(first:30)\"\n              },\n              {\n                \"alias\": \"timelineCommits\",\n                \"args\": [\n                  (v18/*: any*/),\n                  {\n                    \"kind\": \"Literal\",\n                    \"name\": \"itemTypes\",\n                    \"value\": [\n                      \"PULL_REQUEST_COMMIT\"\n                    ]\n                  }\n                ],\n                \"concreteType\": \"PullRequestTimelineItemsConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"timelineItems\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"PullRequestTimelineItemsEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": null,\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v12/*: any*/),\n                          {\n                            \"kind\": \"InlineFragment\",\n                            \"selections\": [\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"concreteType\": \"Commit\",\n                                \"kind\": \"LinkedField\",\n                                \"name\": \"commit\",\n                                \"plural\": false,\n                                \"selections\": [\n                                  (v10/*: any*/),\n                                  (v28/*: any*/),\n                                  (v22/*: any*/),\n                                  {\n                                    \"alias\": null,\n                                    \"args\": null,\n                                    \"concreteType\": \"GitActor\",\n                                    \"kind\": \"LinkedField\",\n                                    \"name\": \"author\",\n                                    \"plural\": false,\n                                    \"selections\": [\n                                      {\n                                        \"alias\": null,\n                                        \"args\": null,\n                                        \"concreteType\": \"User\",\n                                        \"kind\": \"LinkedField\",\n                                        \"name\": \"user\",\n                                        \"plural\": false,\n                                        \"selections\": (v11/*: any*/),\n                                        \"storageKey\": null\n                                      }\n                                    ],\n                                    \"storageKey\": null\n                                  }\n                                ],\n                                \"storageKey\": null\n                              }\n                            ],\n                            \"type\": \"PullRequestCommit\",\n                            \"abstractKey\": null\n                          },\n                          (v16/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"timelineItems(first:30,itemTypes:[\\\"PULL_REQUEST_COMMIT\\\"])\"\n              },\n              (v12/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"url\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"title\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"closed\",\n                \"storageKey\": null\n              },\n              (v30/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"number\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"isDraft\",\n                \"storageKey\": null\n              },\n              (v24/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"mergeStateStatus\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": (v19/*: any*/),\n                \"concreteType\": \"ReviewRequestConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"reviewRequests\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"ReviewRequestEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"ReviewRequest\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"kind\": \"ScalarField\",\n                            \"name\": \"asCodeOwner\",\n                            \"storageKey\": null\n                          },\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"concreteType\": null,\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"requestedReviewer\",\n                            \"plural\": false,\n                            \"selections\": [\n                              (v12/*: any*/),\n                              {\n                                \"kind\": \"InlineFragment\",\n                                \"selections\": (v5/*: any*/),\n                                \"type\": \"User\",\n                                \"abstractKey\": null\n                              },\n                              {\n                                \"condition\": \"includeTeam\",\n                                \"kind\": \"Condition\",\n                                \"passingValue\": true,\n                                \"selections\": [\n                                  {\n                                    \"kind\": \"InlineFragment\",\n                                    \"selections\": (v8/*: any*/),\n                                    \"type\": \"Team\",\n                                    \"abstractKey\": null\n                                  }\n                                ]\n                              },\n                              (v16/*: any*/)\n                            ],\n                            \"storageKey\": null\n                          },\n                          (v10/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"reviewRequests(first:30)\"\n              }\n            ],\n            \"storageKey\": null\n          },\n          (v10/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"0b9647f26d0345d3b3bfcd7d2bc74f43\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"PRReviewCommitsQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query PRReviewCommitsQuery(\\n  $owner: String!\\n  $name: String!\\n  $id: Int!\\n  $includeTeam: Boolean!\\n) {\\n  viewer {\\n    login\\n    id\\n  }\\n  repository(owner: $owner, name: $name) {\\n    ...CommitsViewRepositoryFragment\\n    defaultBranchRef {\\n      name\\n      id\\n    }\\n    pullRequest(number: $id) {\\n      ...ActivityPanelFragment\\n      ...FooterPullRequestFragment\\n      ...CommitsViewPullRequestFragment\\n      ...SummaryPanelFragment\\n      id\\n    }\\n    id\\n  }\\n}\\n\\nfragment ActivityPanelFragment on PullRequest {\\n  id\\n  viewerCanUpdate\\n  mergedAt\\n  mergedBy {\\n    __typename\\n    login\\n    ... on Node {\\n      __isNode: __typename\\n      id\\n    }\\n  }\\n  ...FooterPullRequestFragment\\n  reviews(first: 30) {\\n    edges {\\n      node {\\n        author {\\n          __typename\\n          login\\n          ... on Node {\\n            __isNode: __typename\\n            id\\n          }\\n        }\\n        __typename\\n        createdAt\\n        id\\n        state\\n        ...CommentFragment\\n        ...ActivityPanelReviewFragment\\n      }\\n    }\\n  }\\n  comments(first: 30) {\\n    edges {\\n      node {\\n        __typename\\n        createdAt\\n        ...CommentFragment\\n        id\\n      }\\n    }\\n  }\\n  commits(first: 30) {\\n    edges {\\n      node {\\n        commit {\\n          oid\\n          id\\n        }\\n        id\\n      }\\n    }\\n  }\\n  timelineCommits: timelineItems(itemTypes: [PULL_REQUEST_COMMIT], first: 30) {\\n    edges {\\n      node {\\n        __typename\\n        ... on PullRequestCommit {\\n          commit {\\n            id\\n            committedDate\\n            message\\n            author {\\n              user {\\n                login\\n                id\\n              }\\n            }\\n          }\\n        }\\n        ... on Node {\\n          __isNode: __typename\\n          id\\n        }\\n      }\\n    }\\n  }\\n  ...useVersionHistoryFragment\\n}\\n\\nfragment ActivityPanelReviewFragment on PullRequestReview {\\n  id\\n  state\\n  createdAt\\n  author {\\n    __typename\\n    ...UserFragment\\n    login\\n    ... on Node {\\n      __isNode: __typename\\n      id\\n    }\\n  }\\n  body\\n  commit {\\n    oid\\n    id\\n  }\\n  ...CommentFragment\\n  comments(last: 30) {\\n    edges {\\n      node {\\n        body\\n        author {\\n          __typename\\n          login\\n          ... on Node {\\n            __isNode: __typename\\n            id\\n          }\\n        }\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment CommentFragment on Comment {\\n  __isComment: __typename\\n  body\\n  author {\\n    __typename\\n    login\\n    ... on Node {\\n      __isNode: __typename\\n      id\\n    }\\n  }\\n  createdAt\\n  ... on PullRequestReviewComment {\\n    reviewState: state\\n  }\\n}\\n\\nfragment CommentThreadPullRequestFragment on PullRequest {\\n  reviews(first: 30) {\\n    edges {\\n      node {\\n        id\\n        state\\n      }\\n    }\\n  }\\n}\\n\\nfragment CommentThreadPullRequestReviewFragment on PullRequestReviewThread {\\n  id\\n  isResolved\\n  line\\n  startLine\\n  comments(first: 20) {\\n    edges {\\n      node {\\n        id\\n        startLine\\n        line\\n        ...CommentFragment\\n      }\\n    }\\n  }\\n  viewerCanReply\\n  viewerCanResolve\\n  viewerCanUnresolve\\n}\\n\\nfragment CommitFileCommitFragment on Commit {\\n  oid\\n  parents(first: 2) {\\n    edges {\\n      node {\\n        oid\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment CommitFileFragment on PullRequest {\\n  ...FileDiffer2Fragment\\n}\\n\\nfragment CommitFileRepositoryFragment on Repository {\\n  owner {\\n    __typename\\n    login\\n    id\\n  }\\n  name\\n  defaultBranchRef {\\n    name\\n    id\\n  }\\n}\\n\\nfragment CommitViewFragment on Commit {\\n  ...CommitFileCommitFragment\\n  oid\\n  messageHeadline\\n  additions\\n  deletions\\n  message\\n  parents(first: 2) {\\n    edges {\\n      node {\\n        oid\\n        message\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment CommitViewPullRequestFragment on PullRequest {\\n  ...CommitFileFragment\\n}\\n\\nfragment CommitViewRepositoryFragment on Repository {\\n  ...CommitFileRepositoryFragment\\n}\\n\\nfragment CommitsViewPullRequestFragment on PullRequest {\\n  __typename\\n  baseRef {\\n    name\\n    id\\n  }\\n  commits(first: 30) {\\n    totalCount\\n    edges {\\n      node {\\n        commit {\\n          id\\n          ...CommitViewFragment\\n          parents(first: 2) {\\n            edges {\\n              node {\\n                oid\\n                message\\n                id\\n              }\\n            }\\n          }\\n        }\\n        id\\n      }\\n    }\\n  }\\n  ...CommitViewPullRequestFragment\\n}\\n\\nfragment CommitsViewRepositoryFragment on Repository {\\n  ...CommitViewRepositoryFragment\\n}\\n\\nfragment FileDiffer2Fragment on PullRequest {\\n  id\\n  ...CommentThreadPullRequestFragment\\n  reviewThreads(first: 20) {\\n    edges {\\n      node {\\n        id\\n        path\\n        line\\n        ...CommentThreadPullRequestReviewFragment\\n      }\\n    }\\n  }\\n}\\n\\nfragment FooterPullRequestFragment on PullRequest {\\n  commits(first: 30) {\\n    totalCount\\n    edges {\\n      __typename\\n    }\\n  }\\n  mergeable\\n  viewerDidAuthor\\n  viewerCanMergeAsAdmin\\n  ...VersionSelectorFragment\\n  ...SubmitReviewPanelFragment\\n}\\n\\nfragment PRTitleFragment on PullRequest {\\n  title\\n  body\\n  number\\n  isDraft\\n  state\\n  mergeStateStatus\\n  comments(first: 30) {\\n    edges {\\n      node {\\n        body\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment SubmitReviewPanelFragment on PullRequest {\\n  id\\n  viewerCanUpdate\\n  author {\\n    __typename\\n    login\\n    ... on Node {\\n      __isNode: __typename\\n      id\\n    }\\n  }\\n  reviews(first: 30) {\\n    edges {\\n      node {\\n        id\\n        state\\n        body\\n      }\\n    }\\n  }\\n  ...reviewThreadCommentMutationPullRequestFragment\\n  ...addReviewMutationPullRequestFragment\\n}\\n\\nfragment SummaryPanelFragment on PullRequest {\\n  mergeable\\n  url\\n  title\\n  closed\\n  body\\n  createdAt\\n  viewerCanMergeAsAdmin\\n  ...PRTitleFragment\\n  baseRef {\\n    branchProtectionRule {\\n      requiresCodeOwnerReviews\\n      requiredApprovingReviewCount\\n      id\\n    }\\n    id\\n  }\\n  author {\\n    __typename\\n    login\\n    ... on Node {\\n      __isNode: __typename\\n      id\\n    }\\n  }\\n  reviews(first: 30) {\\n    edges {\\n      node {\\n        state\\n        createdAt\\n        author {\\n          __typename\\n          login\\n          ... on Node {\\n            __isNode: __typename\\n            id\\n          }\\n        }\\n        id\\n      }\\n    }\\n  }\\n  reviewRequests(first: 30) {\\n    edges {\\n      node {\\n        asCodeOwner\\n        requestedReviewer {\\n          __typename\\n          ... on User {\\n            login\\n          }\\n          ... on Team @include(if: $includeTeam) {\\n            name\\n          }\\n          ... on Node {\\n            __isNode: __typename\\n            id\\n          }\\n        }\\n        id\\n      }\\n    }\\n  }\\n  lastCommit: commits(last: 1) {\\n    edges {\\n      node {\\n        commit {\\n          statusCheckRollup {\\n            state\\n            contexts(first: 50) {\\n              totalCount\\n              checkRunCountsByState {\\n                count\\n                state\\n              }\\n              statusContextCountsByState {\\n                count\\n                state\\n              }\\n              edges {\\n                node {\\n                  __typename\\n                  ... on CheckRun {\\n                    __typename\\n                    id\\n                    detailsUrl\\n                    name\\n                    status\\n                    conclusion\\n                  }\\n                  ... on StatusContext {\\n                    __typename\\n                    id\\n                    state\\n                    description\\n                    context\\n                    avatarUrl\\n                    targetUrl\\n                  }\\n                  ... on Node {\\n                    __isNode: __typename\\n                    id\\n                  }\\n                }\\n              }\\n            }\\n            id\\n          }\\n          id\\n        }\\n        id\\n      }\\n    }\\n  }\\n  id\\n}\\n\\nfragment UserFragment on User {\\n  login\\n  location\\n  company\\n  email\\n}\\n\\nfragment VersionSelectorFragment on PullRequest {\\n  ...useVersionHistoryFragment\\n  repository {\\n    defaultBranchRef {\\n      name\\n      id\\n    }\\n    id\\n  }\\n}\\n\\nfragment addReviewMutationPullRequestFragment on PullRequest {\\n  id\\n  reviewThreads(first: 20) {\\n    edges {\\n      node {\\n        line\\n        startLine\\n        path\\n        comments(first: 20) {\\n          edges {\\n            node {\\n              body\\n              id\\n            }\\n          }\\n        }\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment reviewThreadCommentMutationPullRequestFragment on PullRequest {\\n  reviewThreads(first: 20) {\\n    edges {\\n      node {\\n        id\\n        comments(first: 20) {\\n          edges {\\n            node {\\n              id\\n              body\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\\nfragment useVersionHistoryFragment on PullRequest {\\n  baseRepository {\\n    owner {\\n      __typename\\n      login\\n      id\\n    }\\n    name\\n    id\\n  }\\n  baseRef {\\n    name\\n    id\\n  }\\n  createdAt\\n  lastCommit: commits(last: 1) {\\n    edges {\\n      node {\\n        commit {\\n          oid\\n          id\\n        }\\n        id\\n      }\\n    }\\n  }\\n  timelineItems(first: 30, itemTypes: [HEAD_REF_FORCE_PUSHED_EVENT, BASE_REF_FORCE_PUSHED_EVENT, BASE_REF_CHANGED_EVENT, PULL_REQUEST_COMMIT]) {\\n    edges {\\n      node {\\n        __typename\\n        ... on PullRequestCommit {\\n          commit {\\n            oid\\n            authoredDate\\n            id\\n          }\\n        }\\n        ... on BaseRefChangedEvent {\\n          __typename\\n          createdAt\\n          previousRefName\\n        }\\n        ... on BaseRefForcePushedEvent {\\n          __typename\\n          createdAt\\n          ref {\\n            name\\n            id\\n          }\\n        }\\n        ... on HeadRefForcePushedEvent {\\n          __typename\\n          createdAt\\n          ref {\\n            name\\n            id\\n          }\\n          afterCommit {\\n            oid\\n            id\\n          }\\n          beforeCommit {\\n            oid\\n            committedDate\\n            id\\n          }\\n        }\\n        ... on Node {\\n          __isNode: __typename\\n          id\\n        }\\n      }\\n    }\\n  }\\n  commits(first: 30) {\\n    edges {\\n      node {\\n        commit {\\n          oid\\n          id\\n        }\\n        id\\n      }\\n    }\\n  }\\n  viewerLatestReview {\\n    commit {\\n      id\\n      oid\\n    }\\n    id\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"5e50bd2bc396d55adef999c71f1f99ac\";\n\nexport default node;\n","/**\n * @generated SignedSource<<f8540a35873e435ddb304dbc5bdb3435>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nexport type PullRequestReviewState = \"APPROVED\" | \"CHANGES_REQUESTED\" | \"COMMENTED\" | \"DISMISSED\" | \"PENDING\" | \"%future added value\";\nimport { FragmentRefs } from \"relay-runtime\";\nexport type ActivityPanelFragment$data = {\n  readonly comments: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly __typename: \"IssueComment\";\n        readonly createdAt: any;\n        readonly id: string;\n        readonly \" $fragmentSpreads\": FragmentRefs<\"CommentFragment\">;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly commits: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly commit: {\n          readonly oid: any;\n        };\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly id: string;\n  readonly mergedAt: any | null | undefined;\n  readonly mergedBy: {\n    readonly login: string;\n  } | null | undefined;\n  readonly reviews: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly __typename: \"PullRequestReview\";\n        readonly author: {\n          readonly login: string;\n        } | null | undefined;\n        readonly createdAt: any;\n        readonly id: string;\n        readonly state: PullRequestReviewState;\n        readonly \" $fragmentSpreads\": FragmentRefs<\"ActivityPanelReviewFragment\" | \"CommentFragment\">;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  } | null | undefined;\n  readonly timelineCommits: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly commit?: {\n          readonly author: {\n            readonly user: {\n              readonly login: string;\n            } | null | undefined;\n          } | null | undefined;\n          readonly committedDate: any;\n          readonly id: string;\n          readonly message: string;\n        };\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly viewerCanUpdate: boolean;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"FooterPullRequestFragment\" | \"useVersionHistoryFragment\">;\n  readonly \" $fragmentType\": \"ActivityPanelFragment\";\n};\nexport type ActivityPanelFragment$key = {\n  readonly \" $data\"?: ActivityPanelFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"ActivityPanelFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"login\",\n    \"storageKey\": null\n  }\n],\nv2 = {\n  \"kind\": \"Literal\",\n  \"name\": \"first\",\n  \"value\": 30\n},\nv3 = [\n  (v2/*: any*/)\n],\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"__typename\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"createdAt\",\n  \"storageKey\": null\n},\nv6 = {\n  \"args\": null,\n  \"kind\": \"FragmentSpread\",\n  \"name\": \"CommentFragment\"\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"ActivityPanelFragment\",\n  \"selections\": [\n    (v0/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"viewerCanUpdate\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"mergedAt\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": null,\n      \"kind\": \"LinkedField\",\n      \"name\": \"mergedBy\",\n      \"plural\": false,\n      \"selections\": (v1/*: any*/),\n      \"storageKey\": null\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"FooterPullRequestFragment\"\n    },\n    {\n      \"alias\": null,\n      \"args\": (v3/*: any*/),\n      \"concreteType\": \"PullRequestReviewConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"reviews\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestReviewEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestReview\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"concreteType\": null,\n                  \"kind\": \"LinkedField\",\n                  \"name\": \"author\",\n                  \"plural\": false,\n                  \"selections\": (v1/*: any*/),\n                  \"storageKey\": null\n                },\n                (v4/*: any*/),\n                (v5/*: any*/),\n                (v0/*: any*/),\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"state\",\n                  \"storageKey\": null\n                },\n                (v6/*: any*/),\n                {\n                  \"args\": null,\n                  \"kind\": \"FragmentSpread\",\n                  \"name\": \"ActivityPanelReviewFragment\"\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"reviews(first:30)\"\n    },\n    {\n      \"alias\": null,\n      \"args\": (v3/*: any*/),\n      \"concreteType\": \"IssueCommentConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"comments\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"IssueCommentEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"IssueComment\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                (v4/*: any*/),\n                (v5/*: any*/),\n                (v6/*: any*/),\n                (v0/*: any*/)\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"comments(first:30)\"\n    },\n    {\n      \"alias\": null,\n      \"args\": (v3/*: any*/),\n      \"concreteType\": \"PullRequestCommitConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"commits\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestCommitEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestCommit\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"concreteType\": \"Commit\",\n                  \"kind\": \"LinkedField\",\n                  \"name\": \"commit\",\n                  \"plural\": false,\n                  \"selections\": [\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"kind\": \"ScalarField\",\n                      \"name\": \"oid\",\n                      \"storageKey\": null\n                    }\n                  ],\n                  \"storageKey\": null\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"commits(first:30)\"\n    },\n    {\n      \"alias\": \"timelineCommits\",\n      \"args\": [\n        (v2/*: any*/),\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"itemTypes\",\n          \"value\": [\n            \"PULL_REQUEST_COMMIT\"\n          ]\n        }\n      ],\n      \"concreteType\": \"PullRequestTimelineItemsConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"timelineItems\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestTimelineItemsEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": null,\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                {\n                  \"kind\": \"InlineFragment\",\n                  \"selections\": [\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"concreteType\": \"Commit\",\n                      \"kind\": \"LinkedField\",\n                      \"name\": \"commit\",\n                      \"plural\": false,\n                      \"selections\": [\n                        (v0/*: any*/),\n                        {\n                          \"alias\": null,\n                          \"args\": null,\n                          \"kind\": \"ScalarField\",\n                          \"name\": \"committedDate\",\n                          \"storageKey\": null\n                        },\n                        {\n                          \"alias\": null,\n                          \"args\": null,\n                          \"kind\": \"ScalarField\",\n                          \"name\": \"message\",\n                          \"storageKey\": null\n                        },\n                        {\n                          \"alias\": null,\n                          \"args\": null,\n                          \"concreteType\": \"GitActor\",\n                          \"kind\": \"LinkedField\",\n                          \"name\": \"author\",\n                          \"plural\": false,\n                          \"selections\": [\n                            {\n                              \"alias\": null,\n                              \"args\": null,\n                              \"concreteType\": \"User\",\n                              \"kind\": \"LinkedField\",\n                              \"name\": \"user\",\n                              \"plural\": false,\n                              \"selections\": (v1/*: any*/),\n                              \"storageKey\": null\n                            }\n                          ],\n                          \"storageKey\": null\n                        }\n                      ],\n                      \"storageKey\": null\n                    }\n                  ],\n                  \"type\": \"PullRequestCommit\",\n                  \"abstractKey\": null\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"timelineItems(first:30,itemTypes:[\\\"PULL_REQUEST_COMMIT\\\"])\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"useVersionHistoryFragment\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"dfeb8ac801f60732512d36ccf529125a\";\n\nexport default node;\n","/**\n * @generated SignedSource<<c3aa03de22365a2c291f4557ac1fcccf>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nexport type PullRequestReviewState = \"APPROVED\" | \"CHANGES_REQUESTED\" | \"COMMENTED\" | \"DISMISSED\" | \"PENDING\" | \"%future added value\";\nimport { FragmentRefs } from \"relay-runtime\";\nexport type ActivityPanelReviewFragment$data = {\n  readonly author: {\n    readonly login: string;\n    readonly \" $fragmentSpreads\": FragmentRefs<\"UserFragment\">;\n  } | null | undefined;\n  readonly body: string;\n  readonly comments: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly author: {\n          readonly login: string;\n        } | null | undefined;\n        readonly body: string;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly commit: {\n    readonly oid: any;\n  } | null | undefined;\n  readonly createdAt: any;\n  readonly id: string;\n  readonly state: PullRequestReviewState;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommentFragment\">;\n  readonly \" $fragmentType\": \"ActivityPanelReviewFragment\";\n};\nexport type ActivityPanelReviewFragment$key = {\n  readonly \" $data\"?: ActivityPanelReviewFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"ActivityPanelReviewFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"login\",\n  \"storageKey\": null\n},\nv1 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"body\",\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"ActivityPanelReviewFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"state\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"createdAt\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": null,\n      \"kind\": \"LinkedField\",\n      \"name\": \"author\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"args\": null,\n          \"kind\": \"FragmentSpread\",\n          \"name\": \"UserFragment\"\n        },\n        (v0/*: any*/)\n      ],\n      \"storageKey\": null\n    },\n    (v1/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": \"Commit\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"commit\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"kind\": \"ScalarField\",\n          \"name\": \"oid\",\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": null\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"CommentFragment\"\n    },\n    {\n      \"alias\": null,\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"last\",\n          \"value\": 30\n        }\n      ],\n      \"concreteType\": \"PullRequestReviewCommentConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"comments\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestReviewCommentEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestReviewComment\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                (v1/*: any*/),\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"concreteType\": null,\n                  \"kind\": \"LinkedField\",\n                  \"name\": \"author\",\n                  \"plural\": false,\n                  \"selections\": [\n                    (v0/*: any*/)\n                  ],\n                  \"storageKey\": null\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"comments(last:30)\"\n    }\n  ],\n  \"type\": \"PullRequestReview\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"d18ba5d809c6b447e654d4c984484e16\";\n\nexport default node;\n","import { h as hasOwn, E as Emotion, c as createEmotionProps, w as withEmotionCache, T as ThemeContext, i as isDevelopment } from './emotion-element-f0de968e.browser.esm.js';\nexport { C as CacheProvider, T as ThemeContext, a as ThemeProvider, _ as __unsafe_useEmotionCache, u as useTheme, w as withEmotionCache, b as withTheme } from './emotion-element-f0de968e.browser.esm.js';\nimport * as React from 'react';\nimport { insertStyles, registerStyles, getRegisteredStyles } from '@emotion/utils';\nimport { useInsertionEffectWithLayoutFallback, useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\nimport { serializeStyles } from '@emotion/serialize';\nimport '@emotion/cache';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport '../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport 'hoist-non-react-statics';\n\nvar jsx = function jsx(type, props) {\n  // eslint-disable-next-line prefer-rest-params\n  var args = arguments;\n\n  if (props == null || !hasOwn.call(props, 'css')) {\n    return React.createElement.apply(undefined, args);\n  }\n\n  var argsLength = args.length;\n  var createElementArgArray = new Array(argsLength);\n  createElementArgArray[0] = Emotion;\n  createElementArgArray[1] = createEmotionProps(type, props);\n\n  for (var i = 2; i < argsLength; i++) {\n    createElementArgArray[i] = args[i];\n  }\n\n  return React.createElement.apply(null, createElementArgArray);\n};\n\n(function (_jsx) {\n  var JSX;\n\n  (function (_JSX) {})(JSX || (JSX = _jsx.JSX || (_jsx.JSX = {})));\n})(jsx || (jsx = {}));\n\n// initial render from browser, insertBefore context.sheet.tags[0] or if a style hasn't been inserted there yet, appendChild\n// initial client-side render from SSR, use place of hydrating tag\n\nvar Global = /* #__PURE__ */withEmotionCache(function (props, cache) {\n\n  var styles = props.styles;\n  var serialized = serializeStyles([styles], undefined, React.useContext(ThemeContext));\n  // but it is based on a constant that will never change at runtime\n  // it's effectively like having two implementations and switching them out\n  // so it's not actually breaking anything\n\n\n  var sheetRef = React.useRef();\n  useInsertionEffectWithLayoutFallback(function () {\n    var key = cache.key + \"-global\"; // use case of https://github.com/emotion-js/emotion/issues/2675\n\n    var sheet = new cache.sheet.constructor({\n      key: key,\n      nonce: cache.sheet.nonce,\n      container: cache.sheet.container,\n      speedy: cache.sheet.isSpeedy\n    });\n    var rehydrating = false;\n    var node = document.querySelector(\"style[data-emotion=\\\"\" + key + \" \" + serialized.name + \"\\\"]\");\n\n    if (cache.sheet.tags.length) {\n      sheet.before = cache.sheet.tags[0];\n    }\n\n    if (node !== null) {\n      rehydrating = true; // clear the hash so this node won't be recognizable as rehydratable by other <Global/>s\n\n      node.setAttribute('data-emotion', key);\n      sheet.hydrate([node]);\n    }\n\n    sheetRef.current = [sheet, rehydrating];\n    return function () {\n      sheet.flush();\n    };\n  }, [cache]);\n  useInsertionEffectWithLayoutFallback(function () {\n    var sheetRefCurrent = sheetRef.current;\n    var sheet = sheetRefCurrent[0],\n        rehydrating = sheetRefCurrent[1];\n\n    if (rehydrating) {\n      sheetRefCurrent[1] = false;\n      return;\n    }\n\n    if (serialized.next !== undefined) {\n      // insert keyframes\n      insertStyles(cache, serialized.next, true);\n    }\n\n    if (sheet.tags.length) {\n      // if this doesn't exist then it will be null so the style element will be appended\n      var element = sheet.tags[sheet.tags.length - 1].nextElementSibling;\n      sheet.before = element;\n      sheet.flush();\n    }\n\n    cache.insert(\"\", serialized, sheet, false);\n  }, [cache, serialized.name]);\n  return null;\n});\n\nfunction css() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return serializeStyles(args);\n}\n\nfunction keyframes() {\n  var insertable = css.apply(void 0, arguments);\n  var name = \"animation-\" + insertable.name;\n  return {\n    name: name,\n    styles: \"@keyframes \" + name + \"{\" + insertable.styles + \"}\",\n    anim: 1,\n    toString: function toString() {\n      return \"_EMO_\" + this.name + \"_\" + this.styles + \"_EMO_\";\n    }\n  };\n}\n\nvar classnames = function classnames(args) {\n  var len = args.length;\n  var i = 0;\n  var cls = '';\n\n  for (; i < len; i++) {\n    var arg = args[i];\n    if (arg == null) continue;\n    var toAdd = void 0;\n\n    switch (typeof arg) {\n      case 'boolean':\n        break;\n\n      case 'object':\n        {\n          if (Array.isArray(arg)) {\n            toAdd = classnames(arg);\n          } else {\n\n            toAdd = '';\n\n            for (var k in arg) {\n              if (arg[k] && k) {\n                toAdd && (toAdd += ' ');\n                toAdd += k;\n              }\n            }\n          }\n\n          break;\n        }\n\n      default:\n        {\n          toAdd = arg;\n        }\n    }\n\n    if (toAdd) {\n      cls && (cls += ' ');\n      cls += toAdd;\n    }\n  }\n\n  return cls;\n};\n\nfunction merge(registered, css, className) {\n  var registeredStyles = [];\n  var rawClassName = getRegisteredStyles(registered, registeredStyles, className);\n\n  if (registeredStyles.length < 2) {\n    return className;\n  }\n\n  return rawClassName + css(registeredStyles);\n}\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serializedArr = _ref.serializedArr;\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n\n    for (var i = 0; i < serializedArr.length; i++) {\n      insertStyles(cache, serializedArr[i], false);\n    }\n  });\n\n  return null;\n};\n\nvar ClassNames = /* #__PURE__ */withEmotionCache(function (props, cache) {\n  var hasRendered = false;\n  var serializedArr = [];\n\n  var css = function css() {\n    if (hasRendered && isDevelopment) {\n      throw new Error('css can only be used during render');\n    }\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var serialized = serializeStyles(args, cache.registered);\n    serializedArr.push(serialized); // registration has to happen here as the result of this might get consumed by `cx`\n\n    registerStyles(cache, serialized, false);\n    return cache.key + \"-\" + serialized.name;\n  };\n\n  var cx = function cx() {\n    if (hasRendered && isDevelopment) {\n      throw new Error('cx can only be used during render');\n    }\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return merge(cache.registered, css, classnames(args));\n  };\n\n  var content = {\n    css: css,\n    cx: cx,\n    theme: React.useContext(ThemeContext)\n  };\n  var ele = props.children(content);\n  hasRendered = true;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n    cache: cache,\n    serializedArr: serializedArr\n  }), ele);\n});\n\nexport { ClassNames, Global, jsx as createElement, css, jsx, keyframes };\n","import { Map as ImmutableMap } from \"immutable\";\nimport { atom } from \"jotai\";\nimport { ReactElement, Ref, RefObject } from \"react\";\nimport { Version, ViewerLatestReview } from \"./useVersionHistory\";\nimport { EditorState } from \"lexical\";\nimport { MarkdownTextareaRef } from \"../editor/MarkdownTextarea\";\n\n\nexport const commentThreadsAtom = atom<Map<string, [ReactElement, number][]>>(\n  new Map()\n);\n\nexport const pendingReviewIdAtom = atom<string | null>(null);\n\n// export const pendingReviewThreadsAtom = atom<\n//   ImmutableMap<string, { pendingReviewThreadId: string; comment: string }>\n// >({\n//   key: \"pending_review_threads\",\n//   default: ImmutableMap(),\n// });\n\nexport const pendingReviewBodyEditorAtom = atom<RefObject<MarkdownTextareaRef> | null>(null);\nexport const hasPendingReviewBodyCommentAtom = atom<boolean>(false);\n\n/**\n * For every pending thread comment, this is a mapping from the ReviewThread ID\n * to the relay node ID of the comment itself\n */\nexport const pendingThreadCommentsAtom = atom<ImmutableMap<string, string>>(\n  ImmutableMap<string, string>()\n);\n\nexport type PendingThread = {\n  line: number;\n  path: string;\n  startLine?: number | null;\n};\n\n/**\n * NodeIDs of every pending ReviewThread\n */\nexport const pendingThreadsAtom = atom<ImmutableMap<string, PendingThread>>(\n  ImmutableMap<string, PendingThread>()\n);\n\nexport const activeVersionAtom = atom<Version | null>(null);\n\nexport const baseActiveVersionAtom = atom<ViewerLatestReview>(null);\n","import {\n  RecordProxy,\n  RecordSourceProxy,\n} from \"relay-runtime/lib/store/RelayStoreTypes\";\nimport { v4 as uuid } from \"uuid\";\n\nconst EDGES = \"edges\";\nconst NODE = \"node\";\n\nclass Chainable<T> {\n  obj: T;\n  constructor(obj: T) {\n    this.obj = obj;\n  }\n  then(func: (obj: T) => void) {\n    func(this.obj);\n  }\n}\n/**\n * The relay store swallows errors by default and has cumbersome syntax.\n * This class will print errors to console and tidy up the syntax.\n */\nclass RecordProxyWrapper<T extends object> {\n  record: RecordProxy<T>;\n  constructor(store: RecordProxy<T>) {\n    this.record = store;\n  }\n\n  setValues(values: object) {\n    console.debug(\n      `setValues ${this.record.getDataID()} => ${JSON.stringify(values)}`\n    );\n    for (const [k, v] of Object.entries(values)) {\n      this.record.setValue(v, k);\n    }\n  }\n\n  setLinkedRecord<T extends object>(\n    record: RecordProxyWrapper<T>,\n    name: string\n  ) {\n    this.record.setLinkedRecord(record.record, name);\n  }\n\n  setLinkedRecords<T extends object>(\n    records: RecordProxyWrapper<T>[],\n    name: string\n  ) {\n    this.record.setLinkedRecords(\n      records.map((r) => r.record),\n      name\n    );\n  }\n\n  getEdges(args?: object) {\n    const records = this.record.getLinkedRecords(EDGES, args);\n    if (records == null) {\n      console.log(\n        `unable to get edges from ${this.record.getDataID()} of type ${this.record.getType()}`\n      );\n      return null;\n    }\n    return records.map((r) => new RecordProxyWrapper(r));\n  }\n\n  getNode(fieldName: string, args: object): RecordProxyWrapper<object> | null {\n    const record = this.record.getLinkedRecord(fieldName, args);\n    if (record == null) {\n      console.log(\n        `unable to get node ${fieldName} from ${this.record.getDataID()} of type ${this.record.getType()}`\n      );\n      return null;\n    }\n    return new RecordProxyWrapper(record);\n  }\n\n  /**\n   * Inserts a new record of the specified type at the end of the connection\n   * e.g.\n   * widgets(first:10) {# <-- fieldName, args, connectionType\n   *   edges { # <-- edgeType\n   *     node { # <-- nodeType\n   *       id\n   *     }\n   *   }\n   * }\n   * @param fieldName The name of the field that is a connection\n   * @param args Args for said field\n   * @returns\n   */\n  createAndAppendNodeToEdge<T extends object>(\n    store: RecordSourceProxy,\n    fieldName: string,\n    args: object,\n    connectionType: string,\n    edgeType: string,\n    nodeType: string,\n    nodeValues: T\n  ) {\n    console.debug(`createAndAppendNodeToEdge ${fieldName} ${args}`);\n    let field = this.getNode(fieldName, args);\n    if (field == null) {\n      const rawField = store.create(uuid(), connectionType);\n      console.log(\n        `could't find field ${fieldName} on record ${this.record.getDataID()}, creating...`\n      );\n      this.record.setLinkedRecord(rawField, fieldName, args);\n      field = new RecordProxyWrapper(rawField);\n    }\n    let edges = field.getEdges() ?? null;\n    if (edges == null) {\n      // const rawField = store.create(uuid(), edgeType);\n      console.log(\n        `could't find field edges on record ${field.record.getDataID()}, creating...`\n      );\n      field.record.setLinkedRecords([], EDGES);\n      edges = [];\n    }\n    const edgeId = uuid();\n    const nodeId = uuid();\n    const newEdge = new RecordProxyWrapper(store.create(edgeId, edgeType));\n    const newNode = new RecordProxyWrapper(store.create(nodeId, nodeType));\n    newNode.setValues({ ...nodeValues, id: nodeId });\n    newEdge.setLinkedRecord(newNode, NODE);\n    edges.push(newEdge);\n    field.setLinkedRecords(edges, EDGES);\n    console.log(`created edge ${edgeId}`);\n    return new Chainable({\n      edgeId,\n      nodeId,\n      node: newNode,\n    });\n  }\n\n  appendToEdge(\n    store: RecordSourceProxy,\n    fieldName: string,\n    args: object,\n    edgeType: string,\n    nodeId: string\n  ) {\n    console.debug(`appendToEdge ${fieldName}`);\n    const field = this.getNode(fieldName, args);\n    if (field == null) return;\n    const edges = field.getEdges();\n    if (edges == null) return;\n    const edgeId = uuid();\n    const newEdge = new RecordProxyWrapper(store.create(edgeId, edgeType));\n    const node = new StoreUtils(store).get(nodeId);\n    if (node == null) {\n      console.error(`unable to find node with id ${nodeId}`);\n      return;\n    }\n    newEdge.setLinkedRecord(node, NODE);\n    edges.push(newEdge);\n    field.setLinkedRecords(edges, EDGES);\n    return new Chainable({\n      edgeId,\n      nodeId,\n    });\n  }\n}\n\nexport default class StoreUtils {\n  store: RecordSourceProxy;\n  constructor(store: RecordSourceProxy) {\n    this.store = store;\n  }\n\n  get<T extends object>(\n    nodeId: string | null | undefined\n  ): RecordProxyWrapper<T> | null {\n    console.debug(`getRecord ${nodeId}`);\n    if (nodeId == null) {\n      console.error(`attempted to find null nodeId`);\n      return null;\n    }\n    const record = this.store.get<T>(nodeId);\n    if (record == null) {\n      console.error(`unable to find record ${nodeId}`);\n      return null;\n    }\n    return new RecordProxyWrapper(record);\n  }\n\n  delete(nodeId: string | null | undefined): void {\n    if (nodeId != null) {\n      this.store.delete(nodeId);\n    }\n  }\n}\n","import { useAtom } from \"jotai\";\nimport { useRelayEnvironment } from \"react-relay\";\nimport { commitLocalUpdate } from \"relay-runtime\";\nimport { pendingReviewIdAtom } from \"../review/settings\";\nimport StoreUtils from \"./storeUtils\";\nimport dayjs from \"dayjs\";\n\nexport default function usePendingCommentUpdater(): (\n  comment: string,\n  pullRequestId: string\n) => void {\n  const env = useRelayEnvironment();\n  const [pendingReviewId, setPendingReviewId] =\n    useAtom(pendingReviewIdAtom);\n  return (comment, pullRequestId) => {\n    commitLocalUpdate(env, (store) => {\n      const storeUtils = new StoreUtils(store);\n      if (pendingReviewId != null) {\n        storeUtils.get(pendingReviewId)?.setValues({\n          isPending: true,\n          body: comment,\n          createdAt: dayjs().toISOString(),\n        });\n        return;\n      }\n      storeUtils\n        .get(pullRequestId)\n        ?.createAndAppendNodeToEdge(\n          store,\n          \"reviews\",\n          { first: 30 },\n          \"PullRequestReviewConnection\",\n          \"PullRequestReviewEdge\",\n          \"PullRequestReview\",\n          {\n            isPending: true,\n            body: comment,\n            createdAt: dayjs().toISOString(),\n          }\n        )\n        ?.then(({ nodeId }) => {\n          setPendingReviewId(nodeId);\n        });\n      // Comments\n    });\n  };\n}\n","/**\n * @generated SignedSource<<6ea94d7f2cc2689fb14f87df309ddcf2>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nexport type PullRequestReviewCommentState = \"PENDING\" | \"SUBMITTED\" | \"%future added value\";\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommentFragment$data = {\n  readonly author: {\n    readonly login: string;\n  } | null | undefined;\n  readonly body: string;\n  readonly createdAt: any;\n  readonly isPending: boolean | null | undefined;\n  readonly reviewState?: PullRequestReviewCommentState;\n  readonly \" $fragmentType\": \"CommentFragment\";\n};\nexport type CommentFragment$key = {\n  readonly \" $data\"?: CommentFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommentFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommentFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"body\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": null,\n      \"kind\": \"LinkedField\",\n      \"name\": \"author\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"kind\": \"ScalarField\",\n          \"name\": \"login\",\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"createdAt\",\n      \"storageKey\": null\n    },\n    {\n      \"kind\": \"InlineFragment\",\n      \"selections\": [\n        {\n          \"alias\": \"reviewState\",\n          \"args\": null,\n          \"kind\": \"ScalarField\",\n          \"name\": \"state\",\n          \"storageKey\": null\n        }\n      ],\n      \"type\": \"PullRequestReviewComment\",\n      \"abstractKey\": null\n    },\n    {\n      \"kind\": \"ClientExtension\",\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"kind\": \"ScalarField\",\n          \"name\": \"isPending\",\n          \"storageKey\": null\n        }\n      ]\n    }\n  ],\n  \"type\": \"Comment\",\n  \"abstractKey\": \"__isComment\"\n};\n\n(node as any).hash = \"08730b47ba257692da11cc5d964ecfdc\";\n\nexport default node;\n","import { lazy } from 'react';\n\nexport const MarkdownRenderer = lazy(() => import('./MarkdownRenderer'));","import { Badge, Button, Card, Group, Modal, Stack, Text } from \"@mantine/core\";\nimport { ReactElement, ReactNode, Suspense, useRef, useState } from \"react\";\nimport { graphql, useFragment } from \"react-relay\";\nimport LoadingSpinner from \"../LoadingSpinner\";\nimport TimeDiffer from \"../TimeDiffer\";\nimport User from \"./User\";\nimport { CommentFragment$key } from \"./__generated__/CommentFragment.graphql\";\nimport { MarkdownRenderer } from \"../markdown/LazyMarkdownRenderer\";\nimport dayjs from \"dayjs\";\n\n\nconst fragment = graphql`\n  fragment CommentFragment on Comment {\n    body\n    author {\n      login\n    }\n    createdAt\n    isPending\n    ... on PullRequestReviewComment {\n      reviewState: state\n    }\n  }\n`;\n\ntype Props = Readonly<{\n  comment: CommentFragment$key;\n  className?: string;\n  variant?: \"normal\" | \"small\";\n  header?: \"none\" | \"default\";\n  style?: React.CSSProperties;\n  right?: ReactNode | undefined;\n  bottomBorder?: boolean;\n  border?: boolean;\n}>;\n\nconst COMMENT_HEIGHT_LIMIT = 500;\n\nfunction CommentImpl({\n  comment: commentRef,\n  header = \"default\",\n  right = undefined,\n  border = true,\n}: Props): ReactElement {\n  const data = useFragment(fragment, commentRef);\n  const [showFull, setShowFull] = useState(false);\n  const isPending = data.isPending || data.reviewState === \"PENDING\";\n  const contentRef = useRef<HTMLDivElement>(null);\n  const body = (\n    <Stack gap=\"xs\">\n      <Group wrap=\"nowrap\" justify=\"space-between\">\n        <Group gap={0}>\n          {data.author != null && (\n            <User capitalize login={data.author.login} size=\"sm\" />\n          )}\n          <Text span size=\"sm\">\n            &nbsp;commented&nbsp;\n          </Text>\n          <TimeDiffer from={dayjs(data.createdAt)} prefix={null} />\n          {isPending && (\n            <Badge variant=\"light\" color=\"yellow.8\" ml=\"sm\" radius=\"sm\">\n              Pending\n            </Badge>\n          )}\n        </Group>\n        <Group>\n          {(contentRef.current?.clientHeight ?? 0) > COMMENT_HEIGHT_LIMIT && (\n            <Button size=\"compact-xs\" onClick={() => setShowFull(true)}>\n              ...\n            </Button>\n          )}\n          {right}\n        </Group>\n      </Group>\n      <MarkdownRenderer ref={contentRef}>{data.body}</MarkdownRenderer>\n    </Stack>\n  );\n  return (\n    <Card\n      mah={COMMENT_HEIGHT_LIMIT}\n      withBorder={border}\n      p=\"xs\"\n      radius={0}\n      style={{flexShrink: 0}}\n    >\n      {header === \"default\" && (\n        <Group justify=\"space-between\">\n          {data.author != null && <User login={data.author.login} />}\n          <TimeDiffer from={dayjs(data.createdAt)} prefix={null} />\n          {isPending && <Badge c=\"yellow\">Pending</Badge>}\n        </Group>\n      )}\n      {body}\n      {showFull && (\n        <Modal size=\"lg\" opened onClose={() => setShowFull(false)}>\n          <MarkdownRenderer>{data.body}</MarkdownRenderer>\n        </Modal>\n      )}\n    </Card>\n  );\n}\n\nexport default function Comment(props: Props): ReactElement {\n  return (\n    <Suspense fallback={<LoadingSpinner />}>\n      <CommentImpl {...props} />\n    </Suspense>\n  );\n}\n","/**\n * @generated SignedSource<<25174c590a372bca58e55145e7a69435>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type useVersionHistoryFragment$data = {\n  readonly baseRef: {\n    readonly name: string;\n  } | null | undefined;\n  readonly baseRepository: {\n    readonly name: string;\n    readonly owner: {\n      readonly login: string;\n    };\n  } | null | undefined;\n  readonly commits: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly commit: {\n          readonly oid: any;\n        };\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly createdAt: any;\n  readonly lastCommit: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly commit: {\n          readonly oid: any;\n        };\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly timelineItems: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly __typename: \"BaseRefChangedEvent\";\n        readonly __typename: \"BaseRefChangedEvent\";\n        readonly createdAt: any;\n        readonly previousRefName: string;\n      } | {\n        readonly __typename: \"BaseRefForcePushedEvent\";\n        readonly __typename: \"BaseRefForcePushedEvent\";\n        readonly createdAt: any;\n        readonly ref: {\n          readonly name: string;\n        } | null | undefined;\n      } | {\n        readonly __typename: \"HeadRefForcePushedEvent\";\n        readonly __typename: \"HeadRefForcePushedEvent\";\n        readonly afterCommit: {\n          readonly oid: any;\n        } | null | undefined;\n        readonly beforeCommit: {\n          readonly committedDate: any;\n          readonly oid: any;\n        } | null | undefined;\n        readonly createdAt: any;\n        readonly ref: {\n          readonly name: string;\n        } | null | undefined;\n      } | {\n        readonly __typename: \"PullRequestCommit\";\n        readonly commit: {\n          readonly authoredDate: any;\n          readonly oid: any;\n        };\n      } | {\n        // This will never be '%other', but we need some\n        // value in case none of the concrete values match.\n        readonly __typename: \"%other\";\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly viewerLatestReview: {\n    readonly commit: {\n      readonly id: string;\n      readonly oid: any;\n    } | null | undefined;\n  } | null | undefined;\n  readonly \" $fragmentType\": \"useVersionHistoryFragment\";\n};\nexport type useVersionHistoryFragment$key = {\n  readonly \" $data\"?: useVersionHistoryFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"useVersionHistoryFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n},\nv1 = [\n  (v0/*: any*/)\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"createdAt\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"oid\",\n  \"storageKey\": null\n},\nv4 = [\n  (v3/*: any*/)\n],\nv5 = [\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"concreteType\": \"PullRequestCommitEdge\",\n    \"kind\": \"LinkedField\",\n    \"name\": \"edges\",\n    \"plural\": true,\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"PullRequestCommit\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"node\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"Commit\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"commit\",\n            \"plural\": false,\n            \"selections\": (v4/*: any*/),\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"storageKey\": null\n  }\n],\nv6 = {\n  \"kind\": \"Literal\",\n  \"name\": \"first\",\n  \"value\": 30\n},\nv7 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": \"Ref\",\n  \"kind\": \"LinkedField\",\n  \"name\": \"ref\",\n  \"plural\": false,\n  \"selections\": (v1/*: any*/),\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"useVersionHistoryFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": \"Repository\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"baseRepository\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": null,\n          \"kind\": \"LinkedField\",\n          \"name\": \"owner\",\n          \"plural\": false,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"kind\": \"ScalarField\",\n              \"name\": \"login\",\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        },\n        (v0/*: any*/)\n      ],\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": \"Ref\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"baseRef\",\n      \"plural\": false,\n      \"selections\": (v1/*: any*/),\n      \"storageKey\": null\n    },\n    (v2/*: any*/),\n    {\n      \"alias\": \"lastCommit\",\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"last\",\n          \"value\": 1\n        }\n      ],\n      \"concreteType\": \"PullRequestCommitConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"commits\",\n      \"plural\": false,\n      \"selections\": (v5/*: any*/),\n      \"storageKey\": \"commits(last:1)\"\n    },\n    {\n      \"alias\": null,\n      \"args\": [\n        (v6/*: any*/),\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"itemTypes\",\n          \"value\": [\n            \"HEAD_REF_FORCE_PUSHED_EVENT\",\n            \"BASE_REF_FORCE_PUSHED_EVENT\",\n            \"BASE_REF_CHANGED_EVENT\",\n            \"PULL_REQUEST_COMMIT\"\n          ]\n        }\n      ],\n      \"concreteType\": \"PullRequestTimelineItemsConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"timelineItems\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestTimelineItemsEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": null,\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"__typename\",\n                  \"storageKey\": null\n                },\n                {\n                  \"kind\": \"InlineFragment\",\n                  \"selections\": [\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"concreteType\": \"Commit\",\n                      \"kind\": \"LinkedField\",\n                      \"name\": \"commit\",\n                      \"plural\": false,\n                      \"selections\": [\n                        (v3/*: any*/),\n                        {\n                          \"alias\": null,\n                          \"args\": null,\n                          \"kind\": \"ScalarField\",\n                          \"name\": \"authoredDate\",\n                          \"storageKey\": null\n                        }\n                      ],\n                      \"storageKey\": null\n                    }\n                  ],\n                  \"type\": \"PullRequestCommit\",\n                  \"abstractKey\": null\n                },\n                {\n                  \"kind\": \"InlineFragment\",\n                  \"selections\": [\n                    (v2/*: any*/),\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"kind\": \"ScalarField\",\n                      \"name\": \"previousRefName\",\n                      \"storageKey\": null\n                    }\n                  ],\n                  \"type\": \"BaseRefChangedEvent\",\n                  \"abstractKey\": null\n                },\n                {\n                  \"kind\": \"InlineFragment\",\n                  \"selections\": [\n                    (v2/*: any*/),\n                    (v7/*: any*/)\n                  ],\n                  \"type\": \"BaseRefForcePushedEvent\",\n                  \"abstractKey\": null\n                },\n                {\n                  \"kind\": \"InlineFragment\",\n                  \"selections\": [\n                    (v2/*: any*/),\n                    (v7/*: any*/),\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"concreteType\": \"Commit\",\n                      \"kind\": \"LinkedField\",\n                      \"name\": \"afterCommit\",\n                      \"plural\": false,\n                      \"selections\": (v4/*: any*/),\n                      \"storageKey\": null\n                    },\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"concreteType\": \"Commit\",\n                      \"kind\": \"LinkedField\",\n                      \"name\": \"beforeCommit\",\n                      \"plural\": false,\n                      \"selections\": [\n                        (v3/*: any*/),\n                        {\n                          \"alias\": null,\n                          \"args\": null,\n                          \"kind\": \"ScalarField\",\n                          \"name\": \"committedDate\",\n                          \"storageKey\": null\n                        }\n                      ],\n                      \"storageKey\": null\n                    }\n                  ],\n                  \"type\": \"HeadRefForcePushedEvent\",\n                  \"abstractKey\": null\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"timelineItems(first:30,itemTypes:[\\\"HEAD_REF_FORCE_PUSHED_EVENT\\\",\\\"BASE_REF_FORCE_PUSHED_EVENT\\\",\\\"BASE_REF_CHANGED_EVENT\\\",\\\"PULL_REQUEST_COMMIT\\\"])\"\n    },\n    {\n      \"alias\": null,\n      \"args\": [\n        (v6/*: any*/)\n      ],\n      \"concreteType\": \"PullRequestCommitConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"commits\",\n      \"plural\": false,\n      \"selections\": (v5/*: any*/),\n      \"storageKey\": \"commits(first:30)\"\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": \"PullRequestReview\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"viewerLatestReview\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"Commit\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"commit\",\n          \"plural\": false,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"kind\": \"ScalarField\",\n              \"name\": \"id\",\n              \"storageKey\": null\n            },\n            (v3/*: any*/)\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"f6d0a238f940ca721636bd35ebd7bb9b\";\n\nexport default node;\n","import { useMemo } from \"react\";\nimport { useFragment } from \"react-relay\";\nimport { graphql } from \"relay-runtime\";\nimport { useGetCompareMultipleCommits } from \"../../api\";\nimport { filterNulls, nonNull, only } from \"../../utils\";\nimport { useVersionHistoryFragment$key } from \"./__generated__/useVersionHistoryFragment.graphql\";\nimport dayjs, { Dayjs } from \"dayjs\";\n\nconst fragment = graphql`\n  fragment useVersionHistoryFragment on PullRequest {\n    baseRepository {\n      owner {\n        login\n      }\n      name\n    }\n    baseRef {\n      name\n    }\n    createdAt\n    lastCommit: commits(last: 1) {\n      edges {\n        node {\n          commit {\n            oid\n          }\n        }\n      }\n    }\n    timelineItems(\n      first: 30\n      itemTypes: [\n        HEAD_REF_FORCE_PUSHED_EVENT\n        BASE_REF_FORCE_PUSHED_EVENT\n        BASE_REF_CHANGED_EVENT\n        PULL_REQUEST_COMMIT\n      ]\n    ) {\n      edges {\n        node {\n          __typename\n          ... on PullRequestCommit {\n            commit {\n              oid\n              authoredDate\n            }\n          }\n          ... on BaseRefChangedEvent {\n            __typename\n            createdAt\n            previousRefName\n          }\n          ... on BaseRefForcePushedEvent {\n            __typename\n            createdAt\n            ref {\n              name\n            }\n          }\n          ... on HeadRefForcePushedEvent {\n            __typename\n            createdAt\n            ref {\n              name\n            }\n            afterCommit {\n              oid\n            }\n            beforeCommit {\n              oid\n              committedDate\n            }\n          }\n        }\n      }\n    }\n    commits(first: 30) {\n      edges {\n        node {\n          commit {\n            oid\n          }\n        }\n      }\n    }\n    viewerLatestReview {\n      commit {\n        id\n        oid\n      }\n    }\n  }\n`;\n\nexport type Version = {\n  baseRef: string;\n  headOid: string;\n  commitOids: string[];\n  number: number;\n  nodeIds: string[];\n  createdAt?: Dayjs;\n  abbreviatedOid: string;\n  author: string;\n};\n\nexport type ViewerLatestReview = {\n  oid: string;\n  number: number | null;\n  abbreviatedOid: string;\n  nodeId: string;\n} | null;\n\nexport type VersionHistory = {\n  versions: Version[];\n  viewerLastReview: ViewerLatestReview;\n};\n\nexport default function useVersionHistory(\n  prRef: useVersionHistoryFragment$key\n): VersionHistory {\n  // @ts-expect-error 2769\n  const pr = useFragment(fragment, prRef);\n  const timelineItems = filterNulls(\n    pr.timelineItems.edges?.map((e) => e?.node)\n  );\n  // A version is the latest commit __before__ a force push\n  // These need to be recalcuated when the PR changes as this component is not necessarily unmounted\n  /* eslint-disable react-hooks/exhaustive-deps */\n  const versionToHeadOid = useMemo(() => new Map<number, string>(), [pr]);\n  const baseRefs = useMemo(() => new Map<number, string>(), [pr]);\n  const idxToBaseRef = useMemo(() => new Map<number, string>(), [pr]);\n  const versionTimes = useMemo(() => new Map<number, string>(), [pr]);\n  const versionOidsToNumber = useMemo(() => new Map<string, number>(), [pr]);\n  /* eslint-enable react-hooks/exhaustive-deps */\n  useMemo(() => {\n    let latestVersion = 1;\n    let previousCommit = null;\n    let ref = pr.baseRef?.name;\n    if (pr.baseRef == null || ref == null) {\n      return null;\n    }\n    for (const [idx, timelineItem] of Array.from(\n      timelineItems.entries()\n    ).reverse()) {\n      idxToBaseRef.set(timelineItems.length - 1 - idx, ref);\n      if (timelineItem.__typename === \"BaseRefChangedEvent\") {\n        ref = timelineItem.previousRefName;\n      } else if (timelineItem.__typename === \"BaseRefForcePushedEvent\") {\n        if (timelineItem.ref?.name != null) {\n          ref = timelineItem.ref?.name;\n        }\n      }\n    }\n    for (const [idx, timelineItem] of timelineItems.entries()) {\n      ref = idxToBaseRef.get(idx);\n      if (ref == null) {\n        throw new Error(\"unable to find baseRef for verison\");\n      }\n      if (timelineItem.__typename === \"HeadRefForcePushedEvent\") {\n        if (!versionOidsToNumber.has(timelineItem.beforeCommit?.oid)) {\n          versionToHeadOid.set(latestVersion, timelineItem.beforeCommit?.oid);\n          baseRefs.set(latestVersion, ref);\n          versionTimes.set(\n            latestVersion,\n            timelineItem.beforeCommit?.committedDate\n          );\n          versionOidsToNumber.set(timelineItem.afterCommit?.oid, latestVersion);\n          latestVersion++;\n        }\n        versionToHeadOid.set(latestVersion, timelineItem.afterCommit?.oid);\n        baseRefs.set(latestVersion, ref);\n        versionTimes.set(latestVersion, timelineItem.createdAt);\n        versionOidsToNumber.set(timelineItem.afterCommit?.oid, latestVersion);\n        latestVersion++;\n      } else if (timelineItem.__typename === \"PullRequestCommit\") {\n        previousCommit = timelineItem.commit;\n      }\n    }\n    if (versionToHeadOid.size > 0 && previousCommit != null) {\n      // aka the there has been a commit since the last force push\n      versionToHeadOid.set(latestVersion - 1, previousCommit.oid);\n      // TODO unclear if this is the right date because sometimes it's earlier than the force push\n      // if (\n      //   moment(versionTimes.get(latestVersion - 1)).diff(\n      //     previousCommit.authoredDate\n      //   ) < 0\n      // ) {\n      //   versionTimes.set(latestVersion - 1, previousCommit.authoredDate);\n      // }\n    }\n    if (versionToHeadOid.size === 0) {\n      versionToHeadOid.set(\n        1,\n        only(pr.lastCommit.edges?.map((e) => e?.node))?.commit.oid\n      );\n      baseRefs.set(1, nonNull(pr.baseRef?.name));\n    }\n  }, [\n    baseRefs,\n    idxToBaseRef,\n    pr,\n    timelineItems,\n    versionOidsToNumber,\n    versionTimes,\n    versionToHeadOid,\n  ]);\n  const items = useMemo(\n    () =>\n      Array.from(versionToHeadOid.entries())\n        .map(([idx, sha]) => ({\n          baseRef: baseRefs.get(idx),\n          headOid: sha,\n        }))\n        .filter((item) => item.baseRef != null),\n    [baseRefs, versionToHeadOid]\n  );\n  const history = useGetCompareMultipleCommits(\n    nonNull(pr.baseRepository?.owner?.login),\n    nonNull(pr.baseRepository?.name),\n    items\n  );\n  const viewerLatestReviewOid = pr.viewerLatestReview?.commit?.oid;\n  let viewerLastReview = null;\n  if (viewerLatestReviewOid != null) {\n    viewerLastReview = {\n      oid: viewerLatestReviewOid,\n      abbreviatedOid: viewerLatestReviewOid.slice(0, 7),\n      number: versionOidsToNumber.get(viewerLatestReviewOid) ?? null,\n      nodeId: nonNull(pr.viewerLatestReview?.commit?.id),\n    };\n  }\n  return {\n    viewerLastReview: viewerLastReview,\n    versions: filterNulls(\n      // incredibly inefficient way to get around a null check\n      history\n        ?.map(({ data }) => data)\n        ?.filter((data) => data != null)\n        ?.map((h, idx) => ({\n          commitOids: h.commits.map((c) => c.sha),\n          number: idx + 1,\n          headOid: h.commits[h.commits.length - 1].sha,\n          abbreviatedOid: h.commits[h.commits.length - 1].sha.slice(0, 7),\n          baseRef: baseRefs.get(idx + 1)!,\n          nodeIds: h.commits.map((c) => c.node_id),\n          author: h.commits[h.commits.length - 1].author.login,\n          createdAt:\n            versionTimes.get(idx + 1) == null\n              ? undefined\n              : dayjs(versionTimes.get(idx + 1)),\n        }))\n    ),\n  };\n}\n","import { lazy } from 'react';\n\n\nexport const MarkdownTextarea = lazy(() => import('./MarkdownTextarea'));","/**\n * @generated SignedSource<<958d5253dc43ab339d56c2049dc7c8cc>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nexport type MergeableState = \"CONFLICTING\" | \"MERGEABLE\" | \"UNKNOWN\" | \"%future added value\";\nimport { FragmentRefs } from \"relay-runtime\";\nexport type FooterPullRequestFragment$data = {\n  readonly commits: {\n    readonly edges: ReadonlyArray<{\n      readonly __typename: \"PullRequestCommitEdge\";\n    } | null | undefined> | null | undefined;\n    readonly totalCount: number;\n  };\n  readonly mergeable: MergeableState;\n  readonly viewerCanMergeAsAdmin: boolean;\n  readonly viewerDidAuthor: boolean;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"SubmitReviewPanelFragment\" | \"VersionSelectorFragment\">;\n  readonly \" $fragmentType\": \"FooterPullRequestFragment\";\n};\nexport type FooterPullRequestFragment$key = {\n  readonly \" $data\"?: FooterPullRequestFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"FooterPullRequestFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"FooterPullRequestFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"first\",\n          \"value\": 30\n        }\n      ],\n      \"concreteType\": \"PullRequestCommitConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"commits\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"kind\": \"ScalarField\",\n          \"name\": \"totalCount\",\n          \"storageKey\": null\n        },\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestCommitEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"kind\": \"ScalarField\",\n              \"name\": \"__typename\",\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"commits(first:30)\"\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"mergeable\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"viewerDidAuthor\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"viewerCanMergeAsAdmin\",\n      \"storageKey\": null\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"VersionSelectorFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"SubmitReviewPanelFragment\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"0a0f71df99f45ad6a99f371e951b963d\";\n\nexport default node;\n","/**\n * @generated SignedSource<<f271de5572c339548ad7ce870ee1b1f5>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nexport type PullRequestReviewState = \"APPROVED\" | \"CHANGES_REQUESTED\" | \"COMMENTED\" | \"DISMISSED\" | \"PENDING\" | \"%future added value\";\nimport { FragmentRefs } from \"relay-runtime\";\nexport type SubmitReviewPanelFragment$data = {\n  readonly author: {\n    readonly login: string;\n  } | null | undefined;\n  readonly id: string;\n  readonly reviews: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly body: string;\n        readonly id: string;\n        readonly state: PullRequestReviewState;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  } | null | undefined;\n  readonly viewerCanUpdate: boolean;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"addReviewMutationPullRequestFragment\" | \"reviewThreadCommentMutationPullRequestFragment\">;\n  readonly \" $fragmentType\": \"SubmitReviewPanelFragment\";\n};\nexport type SubmitReviewPanelFragment$key = {\n  readonly \" $data\"?: SubmitReviewPanelFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"SubmitReviewPanelFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"SubmitReviewPanelFragment\",\n  \"selections\": [\n    (v0/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"viewerCanUpdate\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": null,\n      \"kind\": \"LinkedField\",\n      \"name\": \"author\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"kind\": \"ScalarField\",\n          \"name\": \"login\",\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"first\",\n          \"value\": 30\n        }\n      ],\n      \"concreteType\": \"PullRequestReviewConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"reviews\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestReviewEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestReview\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                (v0/*: any*/),\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"state\",\n                  \"storageKey\": null\n                },\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"body\",\n                  \"storageKey\": null\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"reviews(first:30)\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"reviewThreadCommentMutationPullRequestFragment\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"addReviewMutationPullRequestFragment\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"4aae75e425f298b1928b0d77f8bf260f\";\n\nexport default node;\n","/**\n * @generated SignedSource<<0d1bf3adc1dfa866174f77f1c5dd856b>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type DiffSide = \"LEFT\" | \"RIGHT\" | \"%future added value\";\nexport type PullRequestReviewEvent = \"APPROVE\" | \"COMMENT\" | \"DISMISS\" | \"REQUEST_CHANGES\" | \"%future added value\";\nexport type AddPullRequestReviewInput = {\n  body?: string | null | undefined;\n  clientMutationId?: string | null | undefined;\n  comments?: ReadonlyArray<DraftPullRequestReviewComment | null | undefined> | null | undefined;\n  commitOID?: any | null | undefined;\n  event?: PullRequestReviewEvent | null | undefined;\n  pullRequestId: string;\n  threads?: ReadonlyArray<DraftPullRequestReviewThread | null | undefined> | null | undefined;\n};\nexport type DraftPullRequestReviewComment = {\n  body: string;\n  path: string;\n  position: number;\n};\nexport type DraftPullRequestReviewThread = {\n  body: string;\n  line: number;\n  path: string;\n  side?: DiffSide | null | undefined;\n  startLine?: number | null | undefined;\n  startSide?: DiffSide | null | undefined;\n};\nexport type addReviewMutationAddPullRequestReviewMutation$variables = {\n  input: AddPullRequestReviewInput;\n};\nexport type addReviewMutationAddPullRequestReviewMutation$data = {\n  readonly addPullRequestReview: {\n    readonly pullRequestReview: {\n      readonly createdAt: any;\n      readonly id: string;\n      readonly pullRequest: {\n        readonly id: string;\n      };\n      readonly \" $fragmentSpreads\": FragmentRefs<\"ActivityPanelReviewFragment\">;\n    } | null | undefined;\n  } | null | undefined;\n};\nexport type addReviewMutationAddPullRequestReviewMutation = {\n  response: addReviewMutationAddPullRequestReviewMutation$data;\n  variables: addReviewMutationAddPullRequestReviewMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"input\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"input\",\n    \"variableName\": \"input\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"createdAt\",\n  \"storageKey\": null\n},\nv4 = [\n  (v2/*: any*/)\n],\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": \"PullRequest\",\n  \"kind\": \"LinkedField\",\n  \"name\": \"pullRequest\",\n  \"plural\": false,\n  \"selections\": (v4/*: any*/),\n  \"storageKey\": null\n},\nv6 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"__typename\",\n  \"storageKey\": null\n},\nv7 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"login\",\n  \"storageKey\": null\n},\nv8 = {\n  \"kind\": \"InlineFragment\",\n  \"selections\": (v4/*: any*/),\n  \"type\": \"Node\",\n  \"abstractKey\": \"__isNode\"\n},\nv9 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"body\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"addReviewMutationAddPullRequestReviewMutation\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"AddPullRequestReviewPayload\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"addPullRequestReview\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"PullRequestReview\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"pullRequestReview\",\n            \"plural\": false,\n            \"selections\": [\n              (v2/*: any*/),\n              (v3/*: any*/),\n              {\n                \"args\": null,\n                \"kind\": \"FragmentSpread\",\n                \"name\": \"ActivityPanelReviewFragment\"\n              },\n              (v5/*: any*/)\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"addReviewMutationAddPullRequestReviewMutation\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"AddPullRequestReviewPayload\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"addPullRequestReview\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"PullRequestReview\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"pullRequestReview\",\n            \"plural\": false,\n            \"selections\": [\n              (v2/*: any*/),\n              (v3/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"state\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": null,\n                \"kind\": \"LinkedField\",\n                \"name\": \"author\",\n                \"plural\": false,\n                \"selections\": [\n                  (v6/*: any*/),\n                  (v7/*: any*/),\n                  {\n                    \"kind\": \"InlineFragment\",\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"location\",\n                        \"storageKey\": null\n                      },\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"company\",\n                        \"storageKey\": null\n                      },\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"email\",\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"type\": \"User\",\n                    \"abstractKey\": null\n                  },\n                  (v8/*: any*/)\n                ],\n                \"storageKey\": null\n              },\n              (v9/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Commit\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"commit\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"oid\",\n                    \"storageKey\": null\n                  },\n                  (v2/*: any*/)\n                ],\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": [\n                  {\n                    \"kind\": \"Literal\",\n                    \"name\": \"last\",\n                    \"value\": 30\n                  }\n                ],\n                \"concreteType\": \"PullRequestReviewCommentConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"comments\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"PullRequestReviewCommentEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"PullRequestReviewComment\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v9/*: any*/),\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"concreteType\": null,\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"author\",\n                            \"plural\": false,\n                            \"selections\": [\n                              (v6/*: any*/),\n                              (v7/*: any*/),\n                              (v8/*: any*/)\n                            ],\n                            \"storageKey\": null\n                          },\n                          (v2/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"comments(last:30)\"\n              },\n              (v5/*: any*/),\n              {\n                \"kind\": \"InlineFragment\",\n                \"selections\": [\n                  {\n                    \"kind\": \"InlineFragment\",\n                    \"selections\": [\n                      {\n                        \"alias\": \"reviewState\",\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"state\",\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"type\": \"PullRequestReviewComment\",\n                    \"abstractKey\": null\n                  },\n                  {\n                    \"kind\": \"ClientExtension\",\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"isPending\",\n                        \"storageKey\": null\n                      }\n                    ]\n                  }\n                ],\n                \"type\": \"Comment\",\n                \"abstractKey\": \"__isComment\"\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"892dd143fbc2949c120104e84d4d082b\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"addReviewMutationAddPullRequestReviewMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation addReviewMutationAddPullRequestReviewMutation(\\n  $input: AddPullRequestReviewInput!\\n) {\\n  addPullRequestReview(input: $input) {\\n    pullRequestReview {\\n      id\\n      createdAt\\n      ...ActivityPanelReviewFragment\\n      pullRequest {\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment ActivityPanelReviewFragment on PullRequestReview {\\n  id\\n  state\\n  createdAt\\n  author {\\n    __typename\\n    ...UserFragment\\n    login\\n    ... on Node {\\n      __isNode: __typename\\n      id\\n    }\\n  }\\n  body\\n  commit {\\n    oid\\n    id\\n  }\\n  ...CommentFragment\\n  comments(last: 30) {\\n    edges {\\n      node {\\n        body\\n        author {\\n          __typename\\n          login\\n          ... on Node {\\n            __isNode: __typename\\n            id\\n          }\\n        }\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment CommentFragment on Comment {\\n  __isComment: __typename\\n  body\\n  author {\\n    __typename\\n    login\\n    ... on Node {\\n      __isNode: __typename\\n      id\\n    }\\n  }\\n  createdAt\\n  ... on PullRequestReviewComment {\\n    reviewState: state\\n  }\\n}\\n\\nfragment UserFragment on User {\\n  login\\n  location\\n  company\\n  email\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"1b670edaf89f4e6c6336b444750a644f\";\n\nexport default node;\n","/**\n * @generated SignedSource<<aebd3b523c84e66462c86762d3ee3368>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type addReviewMutationPullRequestFragment$data = {\n  readonly id: string;\n  readonly reviewThreads: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly comments: {\n          readonly edges: ReadonlyArray<{\n            readonly node: {\n              readonly body: string;\n            } | null | undefined;\n          } | null | undefined> | null | undefined;\n        };\n        readonly isPending: boolean | null | undefined;\n        readonly line: number | null | undefined;\n        readonly path: string;\n        readonly startLine: number | null | undefined;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly \" $fragmentType\": \"addReviewMutationPullRequestFragment\";\n};\nexport type addReviewMutationPullRequestFragment$key = {\n  readonly \" $data\"?: addReviewMutationPullRequestFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"addReviewMutationPullRequestFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = [\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"first\",\n    \"value\": 20\n  }\n];\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"addReviewMutationPullRequestFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"id\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": (v0/*: any*/),\n      \"concreteType\": \"PullRequestReviewThreadConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"reviewThreads\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestReviewThreadEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestReviewThread\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"line\",\n                  \"storageKey\": null\n                },\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"startLine\",\n                  \"storageKey\": null\n                },\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"path\",\n                  \"storageKey\": null\n                },\n                {\n                  \"alias\": null,\n                  \"args\": (v0/*: any*/),\n                  \"concreteType\": \"PullRequestReviewCommentConnection\",\n                  \"kind\": \"LinkedField\",\n                  \"name\": \"comments\",\n                  \"plural\": false,\n                  \"selections\": [\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"concreteType\": \"PullRequestReviewCommentEdge\",\n                      \"kind\": \"LinkedField\",\n                      \"name\": \"edges\",\n                      \"plural\": true,\n                      \"selections\": [\n                        {\n                          \"alias\": null,\n                          \"args\": null,\n                          \"concreteType\": \"PullRequestReviewComment\",\n                          \"kind\": \"LinkedField\",\n                          \"name\": \"node\",\n                          \"plural\": false,\n                          \"selections\": [\n                            {\n                              \"alias\": null,\n                              \"args\": null,\n                              \"kind\": \"ScalarField\",\n                              \"name\": \"body\",\n                              \"storageKey\": null\n                            }\n                          ],\n                          \"storageKey\": null\n                        }\n                      ],\n                      \"storageKey\": null\n                    }\n                  ],\n                  \"storageKey\": \"comments(first:20)\"\n                },\n                {\n                  \"kind\": \"ClientExtension\",\n                  \"selections\": [\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"kind\": \"ScalarField\",\n                      \"name\": \"isPending\",\n                      \"storageKey\": null\n                    }\n                  ]\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"reviewThreads(first:20)\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"02e0476a2118e17c18ca51ea6e7604b5\";\n\nexport default node;\n","import { useAtomValue, useSetAtom } from \"jotai\";\nimport { useCallback } from \"react\";\nimport { graphql, useFragment, useMutation } from \"react-relay\";\nimport { RecordSourceSelectorProxy } from \"relay-runtime\";\nimport { filterNulls, first } from \"../../utils\";\nimport {\n  pendingReviewBodyAtom,\n  pendingReviewBodyEditorAtom,\n  pendingReviewIdAtom,\n} from \"../review/settings\";\nimport {\n  addReviewMutationAddPullRequestReviewMutation,\n  addReviewMutationAddPullRequestReviewMutation$data,\n} from \"./__generated__/addReviewMutationAddPullRequestReviewMutation.graphql\";\nimport { addReviewMutationPullRequestFragment$key } from \"./__generated__/addReviewMutationPullRequestFragment.graphql\";\nimport StoreUtils from \"./storeUtils\";\n\nconst fragment = graphql`\n  fragment addReviewMutationPullRequestFragment on PullRequest {\n    id\n    reviewThreads(first: 20) {\n      edges {\n        node {\n          isPending\n          line\n          startLine\n          path\n          comments(first: 20) {\n            edges {\n              node {\n                body\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst addReviewMutation = graphql`\n  mutation addReviewMutationAddPullRequestReviewMutation(\n    $input: AddPullRequestReviewInput!\n  ) {\n    addPullRequestReview(input: $input) {\n      pullRequestReview {\n        id\n        createdAt\n        ...ActivityPanelReviewFragment\n        pullRequest {\n          id\n        }\n      }\n    }\n  }\n`;\n\nexport default function useAddReviewMutation(\n  prRef: addReviewMutationPullRequestFragment$key\n): [\n  (\n    pullRequestId: string,\n    pendingPullRequestReviewId: string | null,\n    body: string | null,\n    onComplete: (pendingReviewId: string) => void\n  ) => void,\n  boolean\n] {\n  const pr = useFragment(fragment, prRef);\n  const setPendingReviewId = useSetAtom(pendingReviewIdAtom);\n  const pendingReviewBodyEditor = useAtomValue(pendingReviewBodyEditorAtom);\n  const onCompleteInternal = useCallback(() => {\n    setPendingReviewId(null);\n    pendingReviewBodyEditor?.current?.setMarkdown(\"\");\n  }, [setPendingReviewId, pendingReviewBodyEditor]);\n  const threads = filterNulls(\n    pr.reviewThreads.edges\n      ?.map((e) => e?.node)\n      ?.filter((n) => n?.isPending === true)\n  ).map((n) => {\n    const comment = first(n.comments?.edges);\n    return {\n      body: comment?.node?.body ?? \"\",\n      line: n.line!,\n      path: n.path,\n      startLine: n.startLine,\n    };\n  });\n\n  const updater = useCallback(\n    (pendingPullRequestReviewId: string | null) =>\n      (\n        store: RecordSourceSelectorProxy<addReviewMutationAddPullRequestReviewMutation$data>,\n        createdReview: addReviewMutationAddPullRequestReviewMutation$data\n      ) => {\n        if (pendingPullRequestReviewId != null) {\n          store.delete(pendingPullRequestReviewId);\n        }\n        const storeUtils = new StoreUtils(store);\n        storeUtils\n          .get(\n            createdReview.addPullRequestReview.pullRequestReview.pullRequest.id\n          )\n          ?.appendToEdge(\n            store,\n            \"reviews\",\n            { first: 30 },\n            \"PullRequestReviewEdge\",\n            createdReview.addPullRequestReview.pullRequestReview.id\n          );\n        // setPendingReviewId(\n        //   createdReview.addPullRequestReview.pullRequestReview.id\n        // );\n      },\n    []\n  );\n  const [addPR, isAddingPR] =\n    useMutation<addReviewMutationAddPullRequestReviewMutation>(\n      addReviewMutation\n    );\n  return [\n    (pullRequestId, pendingPullRequestReviewId, body, onComplete) => {\n      addPR({\n        variables: {\n          input: {\n            pullRequestId: pullRequestId,\n            body: body ?? undefined,\n            threads,\n          },\n        },\n        updater: updater(pendingPullRequestReviewId),\n        onCompleted: (response) => {\n          onCompleteInternal();\n          onComplete(response.addPullRequestReview.pullRequestReview.id);\n        },\n      });\n    },\n    isAddingPR,\n  ];\n}\n","import { useAtom } from \"jotai\";\nimport { useRelayEnvironment } from \"react-relay\";\nimport { commitLocalUpdate } from \"relay-runtime\";\nimport { pendingThreadCommentsAtom } from \"../review/settings\";\nimport StoreUtils from \"./storeUtils\";\n\n\nexport function useDeletePendingThreadComment(): (\n  reviewThreadId: string\n) => void {\n  const env = useRelayEnvironment();\n  const [pendingReviewThreads, setPendingReviewThreads] = useAtom(\n    pendingThreadCommentsAtom\n  );\n  return (reviewThreadId) => {\n    commitLocalUpdate(env, (store) => {\n      const pendingReviewThreadId = pendingReviewThreads.get(reviewThreadId);\n      store.delete(pendingReviewThreadId);\n      setPendingReviewThreads((s) => s.delete(reviewThreadId));\n    });\n  };\n}\n\nexport default function usePendingReviewThreadCommentUpdater(): (\n  comment: string,\n  reviewThreadId: string\n) => void {\n  const env = useRelayEnvironment();\n  const [pendingReviewIds, setPendingReviewId] = useAtom(\n    pendingThreadCommentsAtom\n  );\n  return (comment, reviewThreadId) => {\n    commitLocalUpdate(env, (store) => {\n      const pendingThreadCommentId = pendingReviewIds.get(reviewThreadId);\n      const storeUtils = new StoreUtils(store);\n      if (pendingThreadCommentId != null) {\n        storeUtils.get(pendingThreadCommentId)?.setValues({\n          isPending: true,\n          body: comment,\n        });\n        return;\n      }\n      const reviewThreadRecord = storeUtils.get(reviewThreadId);\n      reviewThreadRecord\n        ?.createAndAppendNodeToEdge(\n          store,\n          \"comments\",\n          {\n            first: 20,\n          },\n          \"PullRequestReviewCommentConnection\",\n          \"PullRequestReviewCommentEdge\",\n          \"PullRequestReviewComment\",\n          {\n            isPending: true,\n            body: comment,\n          }\n        )\n        ?.then(({ nodeId }) => {\n          setPendingReviewId((ids) => ids.set(reviewThreadId, nodeId));\n        });\n    });\n  };\n}\n","/**\n * @generated SignedSource<<e33651259d12cd153ab460171fe34e34>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type PullRequestReviewState = \"APPROVED\" | \"CHANGES_REQUESTED\" | \"COMMENTED\" | \"DISMISSED\" | \"PENDING\" | \"%future added value\";\nexport type AddPullRequestReviewThreadReplyInput = {\n  body: string;\n  clientMutationId?: string | null | undefined;\n  pullRequestReviewId?: string | null | undefined;\n  pullRequestReviewThreadId: string;\n};\nexport type reviewThreadCommentMutation$variables = {\n  input: AddPullRequestReviewThreadReplyInput;\n};\nexport type reviewThreadCommentMutation$data = {\n  readonly addPullRequestReviewThreadReply: {\n    readonly comment: {\n      readonly body: string;\n      readonly pullRequestReview: {\n        readonly id: string;\n        readonly state: PullRequestReviewState;\n      } | null | undefined;\n    } | null | undefined;\n  } | null | undefined;\n};\nexport type reviewThreadCommentMutation = {\n  response: reviewThreadCommentMutation$data;\n  variables: reviewThreadCommentMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"input\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"input\",\n    \"variableName\": \"input\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"body\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": \"PullRequestReview\",\n  \"kind\": \"LinkedField\",\n  \"name\": \"pullRequestReview\",\n  \"plural\": false,\n  \"selections\": [\n    (v3/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"state\",\n      \"storageKey\": null\n    }\n  ],\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"reviewThreadCommentMutation\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"AddPullRequestReviewThreadReplyPayload\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"addPullRequestReviewThreadReply\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"PullRequestReviewComment\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"comment\",\n            \"plural\": false,\n            \"selections\": [\n              (v2/*: any*/),\n              (v4/*: any*/)\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"reviewThreadCommentMutation\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"AddPullRequestReviewThreadReplyPayload\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"addPullRequestReviewThreadReply\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"PullRequestReviewComment\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"comment\",\n            \"plural\": false,\n            \"selections\": [\n              (v2/*: any*/),\n              (v4/*: any*/),\n              (v3/*: any*/)\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"ad3c8be53dc8e93f5a4a9552df497c3f\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"reviewThreadCommentMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation reviewThreadCommentMutation(\\n  $input: AddPullRequestReviewThreadReplyInput!\\n) {\\n  addPullRequestReviewThreadReply(input: $input) {\\n    comment {\\n      body\\n      pullRequestReview {\\n        id\\n        state\\n      }\\n      id\\n    }\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"4d31cec9ad6f78a3462eed3e5b22a64d\";\n\nexport default node;\n","/**\n * @generated SignedSource<<68548acf2fb76291fa902f5173713763>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type reviewThreadCommentMutationPullRequestFragment$data = {\n  readonly reviewThreads: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly comments: {\n          readonly edges: ReadonlyArray<{\n            readonly node: {\n              readonly body: string;\n              readonly id: string;\n              readonly isPending: boolean | null | undefined;\n            } | null | undefined;\n          } | null | undefined> | null | undefined;\n        };\n        readonly id: string;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly \" $fragmentType\": \"reviewThreadCommentMutationPullRequestFragment\";\n};\nexport type reviewThreadCommentMutationPullRequestFragment$key = {\n  readonly \" $data\"?: reviewThreadCommentMutationPullRequestFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"reviewThreadCommentMutationPullRequestFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = [\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"first\",\n    \"value\": 20\n  }\n],\nv1 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"reviewThreadCommentMutationPullRequestFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": (v0/*: any*/),\n      \"concreteType\": \"PullRequestReviewThreadConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"reviewThreads\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestReviewThreadEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestReviewThread\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                (v1/*: any*/),\n                {\n                  \"alias\": null,\n                  \"args\": (v0/*: any*/),\n                  \"concreteType\": \"PullRequestReviewCommentConnection\",\n                  \"kind\": \"LinkedField\",\n                  \"name\": \"comments\",\n                  \"plural\": false,\n                  \"selections\": [\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"concreteType\": \"PullRequestReviewCommentEdge\",\n                      \"kind\": \"LinkedField\",\n                      \"name\": \"edges\",\n                      \"plural\": true,\n                      \"selections\": [\n                        {\n                          \"alias\": null,\n                          \"args\": null,\n                          \"concreteType\": \"PullRequestReviewComment\",\n                          \"kind\": \"LinkedField\",\n                          \"name\": \"node\",\n                          \"plural\": false,\n                          \"selections\": [\n                            (v1/*: any*/),\n                            {\n                              \"alias\": null,\n                              \"args\": null,\n                              \"kind\": \"ScalarField\",\n                              \"name\": \"body\",\n                              \"storageKey\": null\n                            },\n                            {\n                              \"kind\": \"ClientExtension\",\n                              \"selections\": [\n                                {\n                                  \"alias\": null,\n                                  \"args\": null,\n                                  \"kind\": \"ScalarField\",\n                                  \"name\": \"isPending\",\n                                  \"storageKey\": null\n                                }\n                              ]\n                            }\n                          ],\n                          \"storageKey\": null\n                        }\n                      ],\n                      \"storageKey\": null\n                    }\n                  ],\n                  \"storageKey\": \"comments(first:20)\"\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"reviewThreads(first:20)\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"741ce77b35e675bda0fe2fb031e951e9\";\n\nexport default node;\n","import { useAtom, useAtomValue } from \"jotai\";\nimport { useCallback, useMemo } from \"react\";\nimport { useFragment, useMutation } from \"react-relay\";\nimport { RecordSourceSelectorProxy, graphql } from \"relay-runtime\";\nimport { filterNulls } from \"../../utils\";\nimport {\n  pendingThreadCommentsAtom as pendingCommentsThreadIdToNodeIdAtom,\n  pendingThreadsAtom,\n} from \"../review/settings\";\nimport {\n  reviewThreadCommentMutation,\n  reviewThreadCommentMutation$data,\n} from \"./__generated__/reviewThreadCommentMutation.graphql\";\nimport { reviewThreadCommentMutationPullRequestFragment$key } from \"./__generated__/reviewThreadCommentMutationPullRequestFragment.graphql\";\nimport StoreUtils from \"./storeUtils\";\n\nconst query = graphql`\n  fragment reviewThreadCommentMutationPullRequestFragment on PullRequest {\n    reviewThreads(first: 20) {\n      edges {\n        node {\n          id\n          comments(first: 20) {\n            edges {\n              node {\n                id\n                body\n                ... on PullRequestReviewComment {\n                  isPending\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst addThreadCommentMutation = graphql`\n  mutation reviewThreadCommentMutation(\n    $input: AddPullRequestReviewThreadReplyInput!\n  ) {\n    addPullRequestReviewThreadReply(input: $input) {\n      comment  {\n        body\n        pullRequestReview {\n          id\n          state\n        }\n      }\n    }\n  }\n`;\n\nexport default function useReviewThreadCommentMutation({\n  pr: prRef,\n}: {\n  pr: reviewThreadCommentMutationPullRequestFragment$key;\n}): [\n  (\n    pullRequestReviewId: string,\n    onComplete: (pendingReviewId: string) => void\n  ) => void,\n  boolean\n] {\n  const [threadComments, setThreadComments] = useAtom(\n    pendingCommentsThreadIdToNodeIdAtom\n  );\n  const pendingThreads = useAtomValue(pendingThreadsAtom);\n  const pr = useFragment(query, prRef);\n  const threadCommentIdToBody = useMemo(() => {\n    const threads = filterNulls(pr.reviewThreads?.edges?.map((e) => e?.node));\n    const comments = filterNulls(\n      threads.map((t) => t.comments?.edges?.map((e) => e?.node)).flat()\n    ).filter((c) => c.isPending === true);\n    return new Map(comments.map((c) => [c.id, c.body]));\n  }, [pr]);\n  const [mutateReviewThread, isMutatingReviewThread] =\n    useMutation<reviewThreadCommentMutation>(addThreadCommentMutation);\n  const pendingThreadIds = useMemo(() => new Set<string>(), []);\n  const onThreadComplete = useCallback(\n    (\n      threadId: string,\n      pendingReviewId: string,\n      onComplete: (pendingReviewId: string) => void\n    ) => {\n      setThreadComments((tc) => tc.delete(threadId));\n      pendingThreadIds.delete(threadId);\n      if (pendingThreadIds.size === 0) {\n        onComplete(pendingReviewId);\n      }\n    },\n    [setThreadComments, pendingThreadIds]\n  );\n  // const [pendingReviewIds, setPendingReviewId] = useAtom(\n  //   pendingReviewThreadsAtom\n  // );\n  const updater = useCallback(\n    (threadId: string) =>\n      (\n        store: RecordSourceSelectorProxy<reviewThreadCommentMutation$data>,\n        _createdReview: reviewThreadCommentMutation$data\n      ) => {\n        const pendingReviewInfo = threadComments.get(threadId);\n        if (pendingReviewInfo == null) {\n          // console.log(\"no pending review info in store\");\n          return;\n        }\n        const storeUtils = new StoreUtils(store);\n        storeUtils\n          .get(pendingReviewInfo)\n          ?.setValues({ isPending: false });\n        setThreadComments((s) => s.delete(threadId));\n      },\n    [threadComments, setThreadComments]\n  );\n\n  return [\n    (pullRequestReviewId, onComplete) => {\n      const commentsToMutate = threadComments.filter(\n        (threadId, nodeId) => !pendingThreads.has(nodeId)\n      );\n      for (const [threadId, commentId] of commentsToMutate) {\n        const body = threadCommentIdToBody.get(commentId);\n        pendingThreadIds.add(threadId);\n        mutateReviewThread({\n          variables: {\n            input: {\n              body: body,\n              pullRequestReviewThreadId: threadId,\n              pullRequestReviewId: pullRequestReviewId,\n            },\n          },\n          updater: updater(threadId),\n          onCompleted: (response) =>\n            onThreadComplete(\n              threadId,\n              response.addPullRequestReviewThreadReply.comment.pullRequestReview\n                .id,\n              onComplete\n            ),\n        });\n      }\n    },\n    isMutatingReviewThread,\n  ];\n}\n","/**\n * @generated SignedSource<<157450ba17c1979263d1d5b5a237ee01>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type PullRequestReviewEvent = \"APPROVE\" | \"COMMENT\" | \"DISMISS\" | \"REQUEST_CHANGES\" | \"%future added value\";\nexport type SubmitPullRequestReviewInput = {\n  body?: string | null | undefined;\n  clientMutationId?: string | null | undefined;\n  event: PullRequestReviewEvent;\n  pullRequestId?: string | null | undefined;\n  pullRequestReviewId?: string | null | undefined;\n};\nexport type submitReviewMutationSubmitPullRequestReviewMutation$variables = {\n  input: SubmitPullRequestReviewInput;\n};\nexport type submitReviewMutationSubmitPullRequestReviewMutation$data = {\n  readonly submitPullRequestReview: {\n    readonly pullRequestReview: {\n      readonly createdAt: any;\n      readonly id: string;\n      readonly pullRequest: {\n        readonly id: string;\n      };\n      readonly \" $fragmentSpreads\": FragmentRefs<\"ActivityPanelReviewFragment\">;\n    } | null | undefined;\n  } | null | undefined;\n};\nexport type submitReviewMutationSubmitPullRequestReviewMutation = {\n  response: submitReviewMutationSubmitPullRequestReviewMutation$data;\n  variables: submitReviewMutationSubmitPullRequestReviewMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"input\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"input\",\n    \"variableName\": \"input\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"createdAt\",\n  \"storageKey\": null\n},\nv4 = [\n  (v2/*: any*/)\n],\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": \"PullRequest\",\n  \"kind\": \"LinkedField\",\n  \"name\": \"pullRequest\",\n  \"plural\": false,\n  \"selections\": (v4/*: any*/),\n  \"storageKey\": null\n},\nv6 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"__typename\",\n  \"storageKey\": null\n},\nv7 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"login\",\n  \"storageKey\": null\n},\nv8 = {\n  \"kind\": \"InlineFragment\",\n  \"selections\": (v4/*: any*/),\n  \"type\": \"Node\",\n  \"abstractKey\": \"__isNode\"\n},\nv9 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"body\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"submitReviewMutationSubmitPullRequestReviewMutation\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"SubmitPullRequestReviewPayload\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"submitPullRequestReview\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"PullRequestReview\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"pullRequestReview\",\n            \"plural\": false,\n            \"selections\": [\n              (v2/*: any*/),\n              (v3/*: any*/),\n              (v5/*: any*/),\n              {\n                \"args\": null,\n                \"kind\": \"FragmentSpread\",\n                \"name\": \"ActivityPanelReviewFragment\"\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"submitReviewMutationSubmitPullRequestReviewMutation\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"SubmitPullRequestReviewPayload\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"submitPullRequestReview\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"PullRequestReview\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"pullRequestReview\",\n            \"plural\": false,\n            \"selections\": [\n              (v2/*: any*/),\n              (v3/*: any*/),\n              (v5/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"state\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": null,\n                \"kind\": \"LinkedField\",\n                \"name\": \"author\",\n                \"plural\": false,\n                \"selections\": [\n                  (v6/*: any*/),\n                  (v7/*: any*/),\n                  {\n                    \"kind\": \"InlineFragment\",\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"location\",\n                        \"storageKey\": null\n                      },\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"company\",\n                        \"storageKey\": null\n                      },\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"email\",\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"type\": \"User\",\n                    \"abstractKey\": null\n                  },\n                  (v8/*: any*/)\n                ],\n                \"storageKey\": null\n              },\n              (v9/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Commit\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"commit\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"oid\",\n                    \"storageKey\": null\n                  },\n                  (v2/*: any*/)\n                ],\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": [\n                  {\n                    \"kind\": \"Literal\",\n                    \"name\": \"last\",\n                    \"value\": 30\n                  }\n                ],\n                \"concreteType\": \"PullRequestReviewCommentConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"comments\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"PullRequestReviewCommentEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"PullRequestReviewComment\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v9/*: any*/),\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"concreteType\": null,\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"author\",\n                            \"plural\": false,\n                            \"selections\": [\n                              (v6/*: any*/),\n                              (v7/*: any*/),\n                              (v8/*: any*/)\n                            ],\n                            \"storageKey\": null\n                          },\n                          (v2/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"comments(last:30)\"\n              },\n              {\n                \"kind\": \"InlineFragment\",\n                \"selections\": [\n                  {\n                    \"kind\": \"InlineFragment\",\n                    \"selections\": [\n                      {\n                        \"alias\": \"reviewState\",\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"state\",\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"type\": \"PullRequestReviewComment\",\n                    \"abstractKey\": null\n                  },\n                  {\n                    \"kind\": \"ClientExtension\",\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"isPending\",\n                        \"storageKey\": null\n                      }\n                    ]\n                  }\n                ],\n                \"type\": \"Comment\",\n                \"abstractKey\": \"__isComment\"\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"5b411c90078dba7eae29483db451a658\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"submitReviewMutationSubmitPullRequestReviewMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation submitReviewMutationSubmitPullRequestReviewMutation(\\n  $input: SubmitPullRequestReviewInput!\\n) {\\n  submitPullRequestReview(input: $input) {\\n    pullRequestReview {\\n      id\\n      createdAt\\n      pullRequest {\\n        id\\n      }\\n      ...ActivityPanelReviewFragment\\n    }\\n  }\\n}\\n\\nfragment ActivityPanelReviewFragment on PullRequestReview {\\n  id\\n  state\\n  createdAt\\n  author {\\n    __typename\\n    ...UserFragment\\n    login\\n    ... on Node {\\n      __isNode: __typename\\n      id\\n    }\\n  }\\n  body\\n  commit {\\n    oid\\n    id\\n  }\\n  ...CommentFragment\\n  comments(last: 30) {\\n    edges {\\n      node {\\n        body\\n        author {\\n          __typename\\n          login\\n          ... on Node {\\n            __isNode: __typename\\n            id\\n          }\\n        }\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment CommentFragment on Comment {\\n  __isComment: __typename\\n  body\\n  author {\\n    __typename\\n    login\\n    ... on Node {\\n      __isNode: __typename\\n      id\\n    }\\n  }\\n  createdAt\\n  ... on PullRequestReviewComment {\\n    reviewState: state\\n  }\\n}\\n\\nfragment UserFragment on User {\\n  login\\n  location\\n  company\\n  email\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"9ca77642300be4c86e11175c0173e248\";\n\nexport default node;\n","import { useAtom, useAtomValue, useSetAtom } from \"jotai\";\nimport { useCallback } from \"react\";\nimport { graphql, useMutation } from \"react-relay\";\nimport { pendingReviewBodyEditorAtom, pendingReviewIdAtom } from \"../review/settings\";\nimport {\n  PullRequestReviewEvent,\n  submitReviewMutationSubmitPullRequestReviewMutation,\n} from \"./__generated__/submitReviewMutationSubmitPullRequestReviewMutation.graphql\";\n\nconst submitReviewMutation = graphql`\n  mutation submitReviewMutationSubmitPullRequestReviewMutation(\n    $input: SubmitPullRequestReviewInput!\n  ) {\n    submitPullRequestReview(input: $input) {\n      pullRequestReview  {\n        id \n        createdAt\n        pullRequest {\n          id\n        }\n        ...ActivityPanelReviewFragment\n      }\n    }\n  }\n`;\n\nexport type ReviewComment = {\n  body: string;\n  path: string;\n  line: number;\n};\n\nexport default function useSubmitReviewMutation(): [\n  (\n    pullRequestId: string,\n    pullRequestReviewId: string,\n    state: PullRequestReviewEvent,\n    body: string | null,\n  ) => void,\n  boolean\n] {\n  const [_, setPendingReviewId] = useAtom(pendingReviewIdAtom);\n  const pendingReviewBodyEditor = useAtomValue(pendingReviewBodyEditorAtom);\n  const onCompleteInternal = useCallback(() => {\n    setPendingReviewId(null);\n    pendingReviewBodyEditor?.current?.setMarkdown(\"\");\n  }, [setPendingReviewId, pendingReviewBodyEditor]);\n\n  const [submitPR, isSubmittingPR] =\n    useMutation<submitReviewMutationSubmitPullRequestReviewMutation>(\n      submitReviewMutation\n    );\n  return [\n    (pullRequestId, pullRequestReviewId, state, body) => {\n      submitPR({\n        variables: {\n          input: {\n            pullRequestId: pullRequestId,\n            pullRequestReviewId: pullRequestReviewId,\n            event: state,\n            body: body ?? undefined,\n          },\n        },\n        onCompleted: () => {\n          onCompleteInternal();\n        },\n      });\n    },\n    isSubmittingPR,\n  ];\n}\n","import { Button, Text } from \"@mantine/core\";\nimport { useAtom, useAtomValue } from \"jotai\";\nimport { ReactElement, useCallback } from \"react\";\nimport { useFragment } from \"react-relay\";\nimport { graphql } from \"relay-runtime\";\nimport { coalesceString, filterNulls, only } from \"../../utils\";\nimport { PullRequestReviewEvent } from \"../mutations/__generated__/submitReviewMutationSubmitPullRequestReviewMutation.graphql\";\nimport useAddReviewMutation from \"../mutations/addReviewMutation\";\nimport { useDeletePendingThreadComment } from \"../mutations/pendingReviewThreadComment\";\nimport useReviewThreadCommentMutation from \"../mutations/reviewThreadCommentMutation\";\nimport useSubmitReviewMutation from \"../mutations/submitReviewMutation\";\nimport { SubmitReviewPanelFragment$key } from \"./__generated__/SubmitReviewPanelFragment.graphql\";\nimport {\n  hasPendingReviewBodyCommentAtom,\n  pendingReviewBodyEditorAtom,\n  pendingThreadCommentsAtom,\n  pendingThreadsAtom,\n} from \"./settings\";\nimport { IconCheck, IconTrash, IconX } from \"@tabler/icons-react\";\nimport { userLoginAtom } from \"../../state/user\";\n\nconst fragment = graphql`\n  fragment SubmitReviewPanelFragment on PullRequest {\n    id\n    viewerCanUpdate\n    author {\n      login\n    }\n    reviews(first: 30) {\n      edges {\n        node {\n          id\n          state\n          body\n        }\n      }\n    }\n    ...reviewThreadCommentMutationPullRequestFragment\n    ...addReviewMutationPullRequestFragment\n  }\n`;\n\ntype Props = Readonly<{\n  pr: SubmitReviewPanelFragment$key;\n}>;\n\nexport default function SubmitReviewPanel({ pr: prRef }: Props): ReactElement {\n  // @ts-expect-error 2769\n  const pr = useFragment(fragment, prRef);\n  const [user] = useAtom(userLoginAtom);\n  const editorRef = useAtomValue(pendingReviewBodyEditorAtom);\n  const hasDraftComment = useAtomValue(hasPendingReviewBodyCommentAtom);\n  const threadComments = useAtomValue(pendingThreadCommentsAtom);\n  const pendingReviewThreads = useAtomValue(pendingThreadsAtom);\n  const [mutateThread, isMutatingThread] = useReviewThreadCommentMutation({\n    pr,\n  });\n  const [addMutate, isAddingPR] = useAddReviewMutation(pr);\n  const [submitMutate, isSubmittingPR] = useSubmitReviewMutation();\n  const pendingReview = only(\n    filterNulls(pr.reviews?.edges?.map((e) => e?.node)).filter(\n      (n) => n.state === \"PENDING\"\n    )\n  );\n  const deleteThread = useDeletePendingThreadComment();\n  const isMutating = isAddingPR || isSubmittingPR || isMutatingThread;\n  const [threadCommentReplies, pendingThreads] = threadComments.partition(\n    (_value, key) => pendingReviewThreads.has(key)\n  );\n  const numComments = (hasDraftComment ? 1 : 0) + threadComments.size;\n  const onThreadsComplete = useCallback(\n    (state: PullRequestReviewEvent) => {\n      return (pullRequestReviewId: string) => {\n        const markdownDraftComment = editorRef?.current?.getMarkdown();\n        submitMutate(\n          pr.id,\n          pullRequestReviewId,\n          state,\n          coalesceString(pendingReview?.body, markdownDraftComment)\n        );\n      };\n    },\n    [submitMutate, pendingReview?.body, pr.id, editorRef]\n  );\n  const leaveReview = useCallback(\n    (state: PullRequestReviewEvent) => {\n      // TODO deal with state == null review\n      // TODO deal with threadCommentReplies but no review\n      if (!pr.viewerCanUpdate) {\n        return;\n      }\n      if (pendingReview != null) {\n        onThreadsComplete(state)(pendingReview.id);\n        return;\n      }\n      if (threadCommentReplies.size > 0) {\n        addMutate(\n          pr.id,\n          pendingReview?.id ?? null,\n          pendingReview?.body ?? null,\n          (pendingReviewId: string) => {\n            mutateThread(pendingReviewId, onThreadsComplete(state));\n          }\n        );\n      } else {\n        addMutate(\n          pr.id,\n          pendingReview?.id ?? null,\n          pendingReview?.body ?? null,\n          (pendingReviewId: string) => {\n            onThreadsComplete(state)(pendingReviewId);\n          }\n        );\n      }\n    },\n    [\n      pr,\n      pendingReview,\n      threadCommentReplies.size,\n      addMutate,\n      mutateThread,\n      onThreadsComplete,\n    ]\n  );\n  return (\n    <>\n      <Button\n        disabled={numComments < 1 || isMutating}\n        onClick={() => {\n          for (const [reviewThreadId] of threadCommentReplies) {\n            deleteThread(reviewThreadId);\n          }\n          editorRef?.current?.setMarkdown(\"\");\n        }}\n        size=\"compact-sm\"\n        variant=\"light\"\n      >\n        <Text inherit mr=\"xs\">\n          Abandon\n        </Text>\n        <IconTrash size={16} stroke={2} />\n      </Button>\n      <Button\n        disabled={numComments < 1 || isMutating}\n        onClick={() => {\n          leaveReview(\"COMMENT\");\n        }}\n        size=\"compact-sm\"\n        variant=\"light\"\n        color={numComments > 0 ? \"yellow\" : undefined}\n      >\n        {numComments > 0 ? `Comment (${numComments})` : \"Comment\"}\n      </Button>\n      <Button\n        disabled={pr.author?.login === user}\n        loading={isMutating}\n        onClick={() => {\n          leaveReview(\"REQUEST_CHANGES\");\n        }}\n        size=\"compact-sm\"\n        color=\"red\"\n        variant=\"light\"\n      >\n        <Text mr=\"xs\" inherit>\n          Reject\n        </Text>\n        <IconX size={16} stroke={2} />\n      </Button>\n      <Button\n        disabled={pr.author?.login === user}\n        loading={isMutating}\n        onClick={() => {\n          leaveReview(\"APPROVE\");\n        }}\n        size=\"compact-sm\"\n        variant=\"light\"\n        color=\"green\"\n      >\n        <Text mr=\"xs\" inherit>\n          Approve\n        </Text>\n        <IconCheck size={16} stroke={2} />\n      </Button>\n    </>\n  );\n}\n","/**\n * @generated SignedSource<<849062d237542805d5fd9ffff8ab3552>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type VersionSelectorFragment$data = {\n  readonly repository: {\n    readonly defaultBranchRef: {\n      readonly name: string;\n    } | null | undefined;\n  };\n  readonly \" $fragmentSpreads\": FragmentRefs<\"useVersionHistoryFragment\">;\n  readonly \" $fragmentType\": \"VersionSelectorFragment\";\n};\nexport type VersionSelectorFragment$key = {\n  readonly \" $data\"?: VersionSelectorFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"VersionSelectorFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"VersionSelectorFragment\",\n  \"selections\": [\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"useVersionHistoryFragment\"\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": \"Repository\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"repository\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"Ref\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"defaultBranchRef\",\n          \"plural\": false,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"kind\": \"ScalarField\",\n              \"name\": \"name\",\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"4bdf88dee350ad2546728c39149b6c64\";\n\nexport default node;\n","import { Badge, Button, Card, Group, Popover, ScrollArea, Table, Text } from \"@mantine/core\";\nimport { ReactElement, useState } from \"react\";\nimport { useFragment } from \"react-relay\";\nimport { graphql } from \"relay-runtime\";\nimport ErrorBoundary from \"../ErrorBoundary\";\nimport { VersionSelectorFragment$key } from \"./__generated__/VersionSelectorFragment.graphql\";\nimport useVersionHistory from \"./useVersionHistory\";\n\n\nconst fragment = graphql`\n  fragment VersionSelectorFragment on PullRequest {\n    ...useVersionHistoryFragment\n    repository {\n      defaultBranchRef {\n        name\n      }\n    }\n  }\n`;\n\ntype Props = Readonly<{\n  fragment: VersionSelectorFragment$key;\n}>;\n\nexport default function VersionSelector(props: Props): ReactElement {\n  return (\n    <ErrorBoundary>\n      <VersionSelectorImpl {...props} />\n    </ErrorBoundary>\n  );\n}\n\nfunction VersionSelectorImpl({ fragment: fragmentRef }: Props): ReactElement {\n  // @ts-expect-error 2769\n  const pr = useFragment(fragment, fragmentRef);\n  const { versions: versionHistory } = useVersionHistory(pr);\n\n  // State to track the selected version, defaulting to the latest version\n  const [selectedVersion, setSelectedVersion] = useState(\n    versionHistory[versionHistory.length - 1]\n  );\n\n  return (\n    <Popover position=\"bottom\" withArrow shadow=\"md\">\n      <Popover.Target>\n        <Button variant=\"light\" size=\"compact-sm\">\n          v{versionHistory[versionHistory.length - 1]?.number}\n        </Button>\n      </Popover.Target>\n      <Popover.Dropdown>\n        <Group style={{ display: \"flex\", gap: \"1rem\" }}>\n          {/* Left Panel: List of Versions */}\n          <Card shadow=\"sm\" padding=\"lg\" style={{ flex: 1 }}>\n            <Text size=\"lg\" mb=\"md\" style={{ fontWeight: 700 }}>\n              Versions\n            </Text>\n            <ScrollArea style={{ height: 400 }}>\n              {versionHistory.map((version) => (\n                <Card\n                  key={version.number}\n                  shadow=\"xs\"\n                  padding=\"sm\"\n                  style={{\n                    marginBottom: \"0.5rem\",\n                    cursor: \"pointer\",\n                    backgroundColor:\n                      selectedVersion?.number === version.number\n                        ? \"#f0f0f0\"\n                        : \"white\",\n                  }}\n                  onClick={() => setSelectedVersion(version)}\n                >\n                  <Group style={{ justifyContent: \"space-between\", alignItems: \"center\" }}>\n                    <Text>\n                      <strong>v{version.number}</strong> - {version.baseRef}\n                    </Text>\n                    <Badge color=\"blue\">{version.commitOids.length} commits</Badge>\n                  </Group>\n                </Card>\n              ))}\n            </ScrollArea>\n          </Card>\n\n          {/* Right Panel: Commits for Selected Version */}\n          <Card shadow=\"sm\" padding=\"lg\" style={{ flex: 2 }}>\n            <Text size=\"lg\" mb=\"md\" style={{ fontWeight: 700 }}>\n              Commits for v{selectedVersion?.number}\n            </Text>\n            {selectedVersion ? (\n              <ScrollArea style={{ height: 400 }}>\n                <Table>\n                  <thead>\n                    <tr>\n                      <th>Commit Hash</th>\n                      <th>Author</th>\n                      <th>Date</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {selectedVersion.commitOids.map((commitOid) => (\n                      <tr key={commitOid}>\n                        <td>{commitOid}</td>\n                        <td>{selectedVersion.author}</td>\n                        <td>\n                          {selectedVersion.createdAt\n                            ? selectedVersion.createdAt.format(\"D MMM YYYY HH:mm\")\n                            : \"Unknown\"}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </ScrollArea>\n            ) : (\n              <Text>No version selected.</Text>\n            )}\n          </Card>\n        </Group>\n      </Popover.Dropdown>\n    </Popover>\n  );\n}\n","import {\n  ActionIcon,\n  Button,\n  Checkbox,\n  Group,\n  Loader,\n  Popover,\n  SegmentedControl,\n  SegmentedControlItem,\n  Stack,\n  Text,\n} from \"@mantine/core\";\nimport { IconGitMerge, IconLayoutDashboard } from \"@tabler/icons-react\";\nimport { useAtom, useAtomValue } from \"jotai\";\nimport { ReactElement, Suspense } from \"react\";\nimport { useFragment } from \"react-relay\";\nimport { graphql } from \"relay-runtime\";\nimport {\n  reviewSplitByCommitSelector,\n  sidepanelLayoutAtom,\n  SidepanelLayoutType,\n  useSetSettings,\n} from \"../../state/settings\";\nimport { Styles } from \"../../styles\";\nimport { ElementSpacer } from \"../dashboard/PullRequest\";\nimport SubmitReviewPanel from \"./SubmitReviewPanel\";\nimport VersionSelector from \"./VersionSelector\";\nimport { FooterPullRequestFragment$key } from \"./__generated__/FooterPullRequestFragment.graphql\";\nimport { css } from \"@emotion/react\";\n\nconst fragment = graphql`\n  fragment FooterPullRequestFragment on PullRequest {\n    commits(first: 30) {\n      totalCount\n      edges {\n        __typename\n      }\n    }\n    mergeable\n    viewerDidAuthor\n    viewerCanMergeAsAdmin\n    ...VersionSelectorFragment\n    ...SubmitReviewPanelFragment\n  }\n`;\n\ntype Props = Readonly<{\n  pr: FooterPullRequestFragment$key;\n}>;\n\nconst SIDEPANEL_LAYOUT_OPTIONS: SegmentedControlItem[] = [\n  { value: \"none\", label: \"None\" },\n  { value: \"timeline\", label: \"Timeline\" },\n  { value: \"comments\", label: \"Comments\" },\n];\n\nexport default function Footer(props: Props): ReactElement {\n  return (\n    <Suspense fallback={<Loader />}>\n      <FooterImpl {...props} />\n    </Suspense>\n  );\n}\n\nfunction FooterImpl({ pr: prRef }: Props): ReactElement {\n  const setSettings = useSetSettings();\n  const reviewSplitByCommit = useAtomValue(reviewSplitByCommitSelector);\n  // @ts-expect-error 2769\n  const pr = useFragment(fragment, prRef);\n  const [sidepanelLayout, setSidepanelLayout] = useAtom(sidepanelLayoutAtom);\n  return (\n    <Group gap=\"sm\" justify=\"flex-end\" wrap=\"nowrap\">\n      {pr.mergeable === \"MERGEABLE\" &&\n        (pr.viewerDidAuthor || pr.viewerCanMergeAsAdmin) && (\n          <Button\n            size=\"compact-sm\"\n            right=\"Merge\"\n            variant=\"light\"\n            color=\"violet\"\n          >\n            <IconGitMerge />\n          </Button>\n        )}\n      <VersionSelector fragment={pr} />\n      <SubmitReviewPanel pr={pr} />\n    </Group>\n  );\n}\n","import { css } from \"@emotion/react\";\nimport { Code, Divider, Group, MantineColor, Stack, Text } from \"@mantine/core\";\nimport { IconGitCommit, IconGitMerge, IconMessage, IconPencilPlus, IconProps } from \"@tabler/icons-react\";\nimport { useAtom, useAtomValue, useSetAtom } from \"jotai\";\nimport { ElementType, ReactElement, useCallback, useEffect, useRef, useState } from \"react\";\nimport { useFragment } from \"react-relay\";\nimport { graphql } from \"relay-runtime\";\nimport { userLoginSelector } from \"../../state/user\";\nimport { Styles, classNames } from \"../../styles\";\nimport { filterNulls, isEmpty, last, useIsFocused } from \"../../utils\";\nimport TimeDiffer from \"../TimeDiffer\";\nimport usePendingCommentUpdater from \"../mutations/pendingComment\";\nimport Comment from \"./Comment\";\nimport User from \"./User\";\nimport { ActivityPanelFragment$key } from \"./__generated__/ActivityPanelFragment.graphql\";\nimport { ActivityPanelReviewFragment$key } from \"./__generated__/ActivityPanelReviewFragment.graphql\";\nimport useVersionHistory from \"./useVersionHistory\";\nimport { MarkdownTextarea } from \"../editor/LazyMarkdownTextarea\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport Footer from \"./Footer\";\nimport { hasPendingReviewBodyCommentAtom, pendingReviewBodyEditorAtom } from \"./settings\";\nimport { MarkdownTextareaRef } from \"../editor/MarkdownTextarea\";\n\nconst reviewFragment = graphql`\n  fragment ActivityPanelReviewFragment on PullRequestReview {\n    id\n    state\n    createdAt\n    author {\n      ...UserFragment\n      login\n    }\n    body\n    commit {\n      oid\n    }\n    ...CommentFragment\n    comments(last: 30) {\n      edges {\n        node {\n          body\n          author {\n            login\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst prFragment = graphql`\n  fragment ActivityPanelFragment on PullRequest {\n    id\n    viewerCanUpdate\n    mergedAt\n    mergedBy {\n      login\n    }\n    ...FooterPullRequestFragment\n    reviews(first: 30) {\n      edges {\n        node {\n          author {\n            login\n          }\n          __typename\n          createdAt\n          id\n          state\n          ...CommentFragment\n          ...ActivityPanelReviewFragment\n        }\n      }\n    }\n    comments(first: 30) {\n      edges {\n        node {\n          __typename\n          createdAt\n          ...CommentFragment\n          id\n        }\n      }\n    }\n    commits(first: 30) {\n      edges {\n        node {\n          commit {\n            oid\n          }\n        }\n      }\n    }\n    timelineCommits: timelineItems(itemTypes: [PULL_REQUEST_COMMIT], first: 30) {\n      edges {\n        node {\n          ... on PullRequestCommit {\n            commit {\n              id\n              committedDate\n              message\n              author {\n                user {\n                  login\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    ...useVersionHistoryFragment\n  }\n`;\n\nfunction ActivityPanelTextItem({\n  login,\n  text,\n  state,\n  from,\n  color,\n  alreadySeen,\n  leftIcon: LeftIcon,\n}: Readonly<{\n  login: ReactElement;\n  text?: string;\n  state?: string;\n  from: Dayjs;\n  color?: MantineColor;\n  alreadySeen: boolean;\n  leftIcon?: ElementType<IconProps>;\n}>): ReactElement {\n  return (\n    <Group\n      className={classNames(state, Styles.secondaryText, alreadySeen && \"already-seen-timeline-item\", \"timeline-item\")}\n      justify=\"space-between\"\n    >\n      <Group gap={0}>\n        {LeftIcon && <LeftIcon size={16} stroke={1} />}\n        <Text size=\"sm\" c={color}>\n          {login}&nbsp;{text}\n        </Text>\n      </Group>\n      <Text size=\"sm\">\n        <TimeDiffer from={from} prefix={null} />\n      </Text>\n    </Group>\n  );\n}\n\nfunction ActivityPanelItem({\n  review: reviewRef,\n  currentCommits,\n  commits,\n  alreadySeen,\n}: Readonly<{\n  review: ActivityPanelReviewFragment$key;\n  currentCommits: Set<string>;\n  commits: Map<string, number>;\n  alreadySeen: boolean;\n}>): ReactElement {\n  // @ts-expect-error 2769\n  const review = useFragment(reviewFragment, reviewRef);\n  let inner = null;\n  if (review.state === \"APPROVED\" || review.state === \"CHANGES_REQUESTED\") {\n    inner = (\n      <ActivityPanelTextItem\n        alreadySeen={alreadySeen}\n        from={dayjs(review.createdAt)}\n        login={<User capitalize login={review.author?.login} reviewState={review.state} size=\"sm\"/>}\n        state={Styles.colorSuccess}\n        text={review.state === \"APPROVED\" ? \"approved\" : \"requested changes\"}\n      />\n    );\n  } else if (review.state === \"COMMENTED\" && isEmpty(review.body)) {\n    // todo refactor\n    const currentVersion = review?.commit?.oid == null || currentCommits.has(review.commit.oid);\n    const knownPreviousVersion = commits.get(review?.commit?.oid);\n    const suffix =\n      knownPreviousVersion != null\n        ? ` on v${knownPreviousVersion}`\n        : currentVersion\n        ? \"\"\n        : ` on a previous version (${review?.commit?.oid})`;\n    inner = (\n      <ActivityPanelTextItem\n        alreadySeen={alreadySeen}\n        from={dayjs(review.createdAt)}\n        login={<User capitalize login={review.author?.login} size=\"sm\" />}\n        text={\"commented\" + suffix}\n        leftIcon={IconMessage}\n      />\n    );\n  } else if (review.state === \"COMMENTED\") {\n    inner = <Comment className=\"timeline-item\" comment={review} header=\"none\" variant=\"small\" />;\n  }\n  return (\n    <div\n      className={classNames(\n        review.state == null && Styles.colorWarning,\n        alreadySeen && \"already-seen-timeline-item\",\n        \"timeline-item\"\n      )}\n    >\n      {inner}\n    </div>\n  );\n}\n\nexport default function ActivityPanel({\n  pr: prRef,\n}: Readonly<{\n  pr: ActivityPanelFragment$key;\n}>): ReactElement {\n  // @ts-expect-error 2769\n  const pr = useFragment(prFragment, prRef);\n  const [draftComment, setDraftComment] = useAtom(pendingReviewBodyEditorAtom);\n  const setHasComment = useSetAtom(hasPendingReviewBodyCommentAtom);\n  const currentCommitOids = new Set(filterNulls(pr.commits.edges?.map((e) => e?.node)?.map((n) => n?.commit.oid)));\n  const login = useAtomValue(userLoginSelector);\n  const { versions: versionHistory } = useVersionHistory(pr);\n  const commitShaToVersion = new Map<string, number>();\n  // A commit could be in multiple versions so find the first one\n  for (const version of versionHistory.slice().reverse()) {\n    for (const sha of version.commitOids) {\n      commitShaToVersion.set(sha, version.number);\n    }\n  }\n  const commentUpdater = usePendingCommentUpdater();\n  const upsertComment = useCallback(\n    (comment: string) => {\n      // setDraftComment(comment);\n      commentUpdater(comment, pr.id);\n    },\n    [commentUpdater, pr.id, setDraftComment]\n  );\n  const converterRef = useRef<MarkdownTextareaRef>(null);\n  const [forcedWidth, setForcedWidth] = useState<number | undefined>(undefined);\n  const ref = useRef<HTMLDivElement>(null);\n  const onResizerDrag = useCallback((ev: MouseEvent) => {\n    if (ev.preventDefault) {\n      ev.preventDefault();\n    }\n    setForcedWidth(window.innerWidth - ev.x);\n  }, []);\n  const onMouseUp = useCallback(\n    (_ev: Event) => {\n      window.removeEventListener(\"mousemove\", onResizerDrag);\n      window.removeEventListener(\"mouseup\", onMouseUp);\n    },\n    [onResizerDrag]\n  );\n  const onResizerClick = useCallback(\n    (ev: MouseEvent) => {\n      if (ev.preventDefault) {\n        ev.preventDefault();\n      }\n      window.addEventListener(\"mousemove\", onResizerDrag);\n      window.addEventListener(\"mouseup\", onMouseUp);\n    },\n    [onMouseUp, onResizerDrag]\n  );\n  useEffect(() => {\n    if (ref.current == null) {\n      return;\n    }\n    ref.current.scrollTop = 0;\n  }, [ref, pr]);\n\n  const comments = filterNulls(pr.comments?.edges?.map((e) => e?.node)).map((n) => ({\n    createdAt: dayjs(n.createdAt),\n    node: n,\n    type: \"comment\",\n  }));\n  const reviews = filterNulls(pr.reviews?.edges?.map((e) => e?.node)).map((n) => ({\n    createdAt: dayjs(n.createdAt),\n    node: n,\n    type: \"review\",\n  }));\n  // TODO this createdAt is wrong, it should be the actual force push date not commit\n  const versions = filterNulls(versionHistory)\n    .filter((e) => e.createdAt != null)\n    .map((e) => ({\n      createdAt: e.createdAt!,\n      node: e,\n      type: \"versionHistory\",\n    }));\n\n  const commits = filterNulls(pr.timelineCommits.edges?.map((e) => e?.node)).map((n) => ({\n    createdAt: dayjs(n.commit?.committedDate),\n    node: n.commit,\n    type: \"commit\",\n  }));\n  const mergeEvent =\n    pr.mergedAt == null\n      ? null\n      : {\n          createdAt: dayjs(pr.mergedAt),\n          node: pr.mergedBy,\n          type: \"merge\",\n        };\n  const allItems = [...comments, ...reviews, ...versions, ...commits, mergeEvent];\n  const lastReview = last(filterNulls(pr.reviews?.edges?.map((e) => e?.node)).filter((n) => n.author?.login === login));\n  const items = filterNulls(allItems)\n    .sort((a, b) => b.createdAt.diff(a.createdAt))\n    .map((n) => {\n      if (n.type === \"review\" && n.node?.state != null) {\n        const node = n.node;\n        return (\n          <ActivityPanelItem\n            alreadySeen={n?.createdAt < lastReview?.createdAt}\n            commits={commitShaToVersion}\n            currentCommits={currentCommitOids}\n            key={node.id}\n            review={node}\n          />\n        );\n      } else if (n.type === \"comment\") {\n        const node = n.node;\n        return (\n          <Comment\n            alreadySeen={n?.createdAt < lastReview?.createdAt}\n            className=\"timeline-item\"\n            comment={node}\n            header=\"none\"\n            key={node.id}\n            variant={node.id === lastReview?.id ? \"normal\" : \"small\"}\n          />\n        );\n      } else if (n.type == \"versionHistory\") {\n        return (\n          <Divider\n            key={n.node.id}\n            label={\n              <>\n                <IconPencilPlus stroke={1} size={16} />\n                <Text ml=\"xs\">\n                  <User login={n.node?.author} color=\"dark.3\" /> updated to v{n.node.number}\n                </Text>\n              </>\n            }\n            size=\"lg\"\n            c=\"dark\"\n            my=\"sm\"\n          />\n        );\n      } else if (n.type === \"commit\") {\n        return (\n          <Stack key={n.node?.id} gap={0}>\n            <Group gap={0} align=\"center\" justify=\"space-between\">\n              <Group gap={0}>\n                <IconGitCommit stroke={1} css={css({ float: \"left\" })} size={16} />\n                <User login={n.node?.author?.user?.login} size=\"sm\" />\n                <Text span lineClamp={3} size=\"sm\">\n                  &nbsp;added commit&nbsp;\n                </Text>\n              </Group>\n              <Text>\n                <TimeDiffer from={n.createdAt} prefix=\"\" />\n              </Text>\n            </Group>\n            <Code style={{ \"--text-line-clamp\": 3 }}>{n.node?.message}</Code>\n          </Stack>\n        );\n      } else if (n.type === \"merge\") {\n        return (\n          <ActivityPanelTextItem\n            leftIcon={IconGitMerge}\n            color=\"violet\"\n            text={`${n.node.login} merged`}\n            key={n.node?.login}\n            from={n?.createdAt}\n          />\n        );\n      }\n    });\n\n  return (\n    <>\n      <div className=\"side-panel-resizer\" onMouseDown={(ev) => onResizerClick(ev)} />\n\n      <Stack\n        className=\"side-panel\"\n        css={css({\n          overflowX: \"hidden\",\n          width: forcedWidth,\n        })}\n        gap={0}\n      >\n        <Footer pr={pr} />\n        <Stack ref={ref} css={css({ overflowY: \"auto\", overflowX: \"hidden\", flexGrow: 1 })} gap=\"xs\" mt=\"xs\">\n          {items}\n        </Stack>\n        <Stack css={css({ flex: \"0 0 auto\" })}>\n          <MarkdownTextarea\n            instanceId=\"activityPanel\"\n            isDisabled={pr.viewerCanUpdate !== true}\n            onChange={(isEmpty: boolean) => {\n              setHasComment(!isEmpty);\n              setDraftComment(converterRef);\n            }}\n            converterRef={converterRef}\n          />\n        </Stack>\n      </Stack>\n    </>\n  );\n}\n","/**\n * @generated SignedSource<<24c559e44a60d610ad75113313cf87e5>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommitsViewRepositoryFragment$data = {\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitViewRepositoryFragment\">;\n  readonly \" $fragmentType\": \"CommitsViewRepositoryFragment\";\n};\nexport type CommitsViewRepositoryFragment$key = {\n  readonly \" $data\"?: CommitsViewRepositoryFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitsViewRepositoryFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommitsViewRepositoryFragment\",\n  \"selections\": [\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"CommitViewRepositoryFragment\"\n    }\n  ],\n  \"type\": \"Repository\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"166d8fb1bb219b363a07c5955453bf3e\";\n\nexport default node;\n","/**\n * @generated SignedSource<<d31fec450b22029275bbe3c19ac41e24>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommitsViewSelectedCommitsQuery$variables = {\n  ids: ReadonlyArray<string>;\n};\nexport type CommitsViewSelectedCommitsQuery$data = {\n  readonly nodes: ReadonlyArray<{\n    readonly id?: string;\n    readonly parents?: {\n      readonly edges: ReadonlyArray<{\n        readonly node: {\n          readonly oid: any;\n        } | null | undefined;\n      } | null | undefined> | null | undefined;\n    };\n    readonly \" $fragmentSpreads\": FragmentRefs<\"CommitViewFragment\">;\n  } | null | undefined>;\n};\nexport type CommitsViewSelectedCommitsQuery = {\n  response: CommitsViewSelectedCommitsQuery$data;\n  variables: CommitsViewSelectedCommitsQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"ids\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"ids\",\n    \"variableName\": \"ids\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv3 = [\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"first\",\n    \"value\": 2\n  }\n],\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"oid\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"message\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"CommitsViewSelectedCommitsQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": null,\n        \"kind\": \"LinkedField\",\n        \"name\": \"nodes\",\n        \"plural\": true,\n        \"selections\": [\n          {\n            \"kind\": \"InlineFragment\",\n            \"selections\": [\n              {\n                \"args\": null,\n                \"kind\": \"FragmentSpread\",\n                \"name\": \"CommitViewFragment\"\n              },\n              (v2/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": (v3/*: any*/),\n                \"concreteType\": \"CommitConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"parents\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"CommitEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"Commit\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v4/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"parents(first:2)\"\n              }\n            ],\n            \"type\": \"Commit\",\n            \"abstractKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"CommitsViewSelectedCommitsQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": null,\n        \"kind\": \"LinkedField\",\n        \"name\": \"nodes\",\n        \"plural\": true,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"__typename\",\n            \"storageKey\": null\n          },\n          (v2/*: any*/),\n          {\n            \"kind\": \"InlineFragment\",\n            \"selections\": [\n              (v4/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": (v3/*: any*/),\n                \"concreteType\": \"CommitConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"parents\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"CommitEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"Commit\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v4/*: any*/),\n                          (v2/*: any*/),\n                          (v5/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"parents(first:2)\"\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"messageHeadline\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"additions\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"deletions\",\n                \"storageKey\": null\n              },\n              (v5/*: any*/)\n            ],\n            \"type\": \"Commit\",\n            \"abstractKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"6b03dc487f67556e13b2b6138423938c\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"CommitsViewSelectedCommitsQuery\",\n    \"operationKind\": \"query\",\n    \"text\": \"query CommitsViewSelectedCommitsQuery(\\n  $ids: [ID!]!\\n) {\\n  nodes(ids: $ids) {\\n    __typename\\n    ... on Commit {\\n      ...CommitViewFragment\\n      id\\n      parents(first: 2) {\\n        edges {\\n          node {\\n            oid\\n            id\\n          }\\n        }\\n      }\\n    }\\n    id\\n  }\\n}\\n\\nfragment CommitFileCommitFragment on Commit {\\n  oid\\n  parents(first: 2) {\\n    edges {\\n      node {\\n        oid\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment CommitViewFragment on Commit {\\n  ...CommitFileCommitFragment\\n  oid\\n  messageHeadline\\n  additions\\n  deletions\\n  message\\n  parents(first: 2) {\\n    edges {\\n      node {\\n        oid\\n        message\\n        id\\n      }\\n    }\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"d8a74ab73e2d09ab3e0a74136deeb2e8\";\n\nexport default node;\n","/**\n * @generated SignedSource<<8ce93bfe97b8d639843e4e98cb8e5c73>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommitsViewPullRequestFragment$data = {\n  readonly __typename: \"PullRequest\";\n  readonly baseRef: {\n    readonly name: string;\n  } | null | undefined;\n  readonly commits: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly commit: {\n          readonly id: string;\n          readonly parents: {\n            readonly edges: ReadonlyArray<{\n              readonly node: {\n                readonly message: string;\n                readonly oid: any;\n              } | null | undefined;\n            } | null | undefined> | null | undefined;\n          };\n          readonly \" $fragmentSpreads\": FragmentRefs<\"CommitViewFragment\">;\n        };\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n    readonly totalCount: number;\n  };\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitViewPullRequestFragment\">;\n  readonly \" $fragmentType\": \"CommitsViewPullRequestFragment\";\n};\nexport type CommitsViewPullRequestFragment$key = {\n  readonly \" $data\"?: CommitsViewPullRequestFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitsViewPullRequestFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommitsViewPullRequestFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"__typename\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": \"Ref\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"baseRef\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"kind\": \"ScalarField\",\n          \"name\": \"name\",\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"first\",\n          \"value\": 30\n        }\n      ],\n      \"concreteType\": \"PullRequestCommitConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"commits\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"kind\": \"ScalarField\",\n          \"name\": \"totalCount\",\n          \"storageKey\": null\n        },\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestCommitEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestCommit\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"concreteType\": \"Commit\",\n                  \"kind\": \"LinkedField\",\n                  \"name\": \"commit\",\n                  \"plural\": false,\n                  \"selections\": [\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"kind\": \"ScalarField\",\n                      \"name\": \"id\",\n                      \"storageKey\": null\n                    },\n                    {\n                      \"args\": null,\n                      \"kind\": \"FragmentSpread\",\n                      \"name\": \"CommitViewFragment\"\n                    },\n                    {\n                      \"alias\": null,\n                      \"args\": [\n                        {\n                          \"kind\": \"Literal\",\n                          \"name\": \"first\",\n                          \"value\": 2\n                        }\n                      ],\n                      \"concreteType\": \"CommitConnection\",\n                      \"kind\": \"LinkedField\",\n                      \"name\": \"parents\",\n                      \"plural\": false,\n                      \"selections\": [\n                        {\n                          \"alias\": null,\n                          \"args\": null,\n                          \"concreteType\": \"CommitEdge\",\n                          \"kind\": \"LinkedField\",\n                          \"name\": \"edges\",\n                          \"plural\": true,\n                          \"selections\": [\n                            {\n                              \"alias\": null,\n                              \"args\": null,\n                              \"concreteType\": \"Commit\",\n                              \"kind\": \"LinkedField\",\n                              \"name\": \"node\",\n                              \"plural\": false,\n                              \"selections\": [\n                                {\n                                  \"alias\": null,\n                                  \"args\": null,\n                                  \"kind\": \"ScalarField\",\n                                  \"name\": \"oid\",\n                                  \"storageKey\": null\n                                },\n                                {\n                                  \"alias\": null,\n                                  \"args\": null,\n                                  \"kind\": \"ScalarField\",\n                                  \"name\": \"message\",\n                                  \"storageKey\": null\n                                }\n                              ],\n                              \"storageKey\": null\n                            }\n                          ],\n                          \"storageKey\": null\n                        }\n                      ],\n                      \"storageKey\": \"parents(first:2)\"\n                    }\n                  ],\n                  \"storageKey\": null\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"commits(first:30)\"\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"CommitViewPullRequestFragment\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"b50d242b016895a40696393b7c59120b\";\n\nexport default node;\n","/**\n * @generated SignedSource<<4fe3b1f5984569a655602d29094a8390>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommitViewPullRequestFragment$data = {\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitFileFragment\">;\n  readonly \" $fragmentType\": \"CommitViewPullRequestFragment\";\n};\nexport type CommitViewPullRequestFragment$key = {\n  readonly \" $data\"?: CommitViewPullRequestFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitViewPullRequestFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommitViewPullRequestFragment\",\n  \"selections\": [\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"CommitFileFragment\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"4ae6d86093d323d612422dcaccce08f5\";\n\nexport default node;\n","/**\n * @generated SignedSource<<96741fabc776e24e86f5a15db41d6acc>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommitViewRepositoryFragment$data = {\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitFileRepositoryFragment\">;\n  readonly \" $fragmentType\": \"CommitViewRepositoryFragment\";\n};\nexport type CommitViewRepositoryFragment$key = {\n  readonly \" $data\"?: CommitViewRepositoryFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitViewRepositoryFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommitViewRepositoryFragment\",\n  \"selections\": [\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"CommitFileRepositoryFragment\"\n    }\n  ],\n  \"type\": \"Repository\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"506356fe21d3d2b2b49c594a56785cfb\";\n\nexport default node;\n","/**\n * @generated SignedSource<<dba0ccc373432b387b48b27d44d1960b>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommitViewFragment$data = {\n  readonly additions: number;\n  readonly deletions: number;\n  readonly message: string;\n  readonly messageHeadline: string;\n  readonly oid: any;\n  readonly parents: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly message: string;\n        readonly oid: any;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitFileCommitFragment\">;\n  readonly \" $fragmentType\": \"CommitViewFragment\";\n};\nexport type CommitViewFragment$key = {\n  readonly \" $data\"?: CommitViewFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitViewFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"oid\",\n  \"storageKey\": null\n},\nv1 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"message\",\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommitViewFragment\",\n  \"selections\": [\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"CommitFileCommitFragment\"\n    },\n    (v0/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"messageHeadline\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"additions\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"deletions\",\n      \"storageKey\": null\n    },\n    (v1/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"first\",\n          \"value\": 2\n        }\n      ],\n      \"concreteType\": \"CommitConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"parents\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"CommitEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"Commit\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                (v0/*: any*/),\n                (v1/*: any*/)\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"parents(first:2)\"\n    }\n  ],\n  \"type\": \"Commit\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"4c16f91405370f5dc2e6dff906b2c33a\";\n\nexport default node;\n","/**\n * @generated SignedSource<<71cca46e41f22c575663397458f2430b>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommitFileCommitFragment$data = {\n  readonly oid: any;\n  readonly parents: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly oid: any;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly \" $fragmentType\": \"CommitFileCommitFragment\";\n};\nexport type CommitFileCommitFragment$key = {\n  readonly \" $data\"?: CommitFileCommitFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitFileCommitFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"oid\",\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommitFileCommitFragment\",\n  \"selections\": [\n    (v0/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"first\",\n          \"value\": 2\n        }\n      ],\n      \"concreteType\": \"CommitConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"parents\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"CommitEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"Commit\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                (v0/*: any*/)\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"parents(first:2)\"\n    }\n  ],\n  \"type\": \"Commit\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"b0d4a9b9421f19d0929c3a59b9ddf06f\";\n\nexport default node;\n","/**\n * @generated SignedSource<<040b149b655d3af78b5711545d203334>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommitFileRepositoryFragment$data = {\n  readonly defaultBranchRef: {\n    readonly name: string;\n  } | null | undefined;\n  readonly name: string;\n  readonly owner: {\n    readonly login: string;\n  };\n  readonly \" $fragmentType\": \"CommitFileRepositoryFragment\";\n};\nexport type CommitFileRepositoryFragment$key = {\n  readonly \" $data\"?: CommitFileRepositoryFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitFileRepositoryFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommitFileRepositoryFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": null,\n      \"kind\": \"LinkedField\",\n      \"name\": \"owner\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"kind\": \"ScalarField\",\n          \"name\": \"login\",\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": null\n    },\n    (v0/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": \"Ref\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"defaultBranchRef\",\n      \"plural\": false,\n      \"selections\": [\n        (v0/*: any*/)\n      ],\n      \"storageKey\": null\n    }\n  ],\n  \"type\": \"Repository\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"7daf2e7ee0a48811a456965015f24ee9\";\n\nexport default node;\n","/**\n * @generated SignedSource<<5ec722773a0c8e84285328069a29ecdc>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommitFileFragment$data = {\n  readonly \" $fragmentSpreads\": FragmentRefs<\"FileDiffer2Fragment\">;\n  readonly \" $fragmentType\": \"CommitFileFragment\";\n};\nexport type CommitFileFragment$key = {\n  readonly \" $data\"?: CommitFileFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommitFileFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommitFileFragment\",\n  \"selections\": [\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"FileDiffer2Fragment\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"8e82c9bf67c52235d50c587272befcab\";\n\nexport default node;\n","import { ActionIcon, Menu } from \"@mantine/core\";\nimport { IconDotsVertical } from \"@tabler/icons-react\";\nimport { ReactElement } from \"react\";\nfunction getGithubURL(\n  owner: string,\n  name: string,\n  commitOrBranch: string,\n  filename: string,\n  path: \"blob\" | \"blame\" = \"blob\"\n) {\n  return `https://github.com/${owner}/${name}/${path}/${commitOrBranch}/${filename}`;\n}\nexport default function ActionMenu({\n  owner,\n  name,\n  defaultBranchName,\n  commitOid,\n  parentCommitOid,\n  filename,\n}: Readonly<{\n  owner: string;\n  name: string;\n  defaultBranchName?: string;\n  commitOid: string;\n  parentCommitOid?: string;\n  filename: string;\n}>): ReactElement {\n  return (\n    <Menu shadow=\"md\" width={200}>\n      <Menu.Target>\n        <ActionIcon variant=\"transparent\">\n          <IconDotsVertical stroke={1} />\n        </ActionIcon>\n      </Menu.Target>\n      <Menu.Dropdown>\n        {defaultBranchName != null && (\n          <Menu.Item>\n            <a\n              href={getGithubURL(owner, name, defaultBranchName, filename)}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              View in {defaultBranchName}\n            </a>\n          </Menu.Item>\n        )}\n        {parentCommitOid != null && (\n          <Menu.Item>\n            <a\n              href={getGithubURL(owner, name, parentCommitOid, filename)}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              View in parent commit\n            </a>\n          </Menu.Item>\n        )}\n        <Menu.Item>\n          <a\n            href={getGithubURL(owner, name, commitOid, filename)}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            View in this commit\n          </a>\n        </Menu.Item>\n        <Menu.Divider />\n        {defaultBranchName != null && (\n          <Menu.Item>\n            <a\n              href={getGithubURL(\n                owner,\n                name,\n                defaultBranchName,\n                filename,\n                \"blame\"\n              )}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Blame\n            </a>\n          </Menu.Item>\n        )}\n      </Menu.Dropdown>\n    </Menu>\n  );\n}\n","import { css } from \"@emotion/react\";\nimport { Breadcrumbs, CopyButton, Text, Tooltip } from \"@mantine/core\";\nimport { ReactElement } from \"react\";\n\n\nexport default function CopyableFilePath({\n  path,\n}: Readonly<{\n  path: string;\n}>): ReactElement {\n  const pieces = path.split(\"/\");\n  return (\n    <Breadcrumbs separatorMargin='xxxs' style={{lineClamp: 1, overflowX:'hidden'}}>\n      {pieces.map((piece, idx) => {\n        const path = pieces.slice(idx).join(\"/\");\n        return (\n          <CopyButton key={path} value={path}>\n            {({ copied, copy }) => (\n              <Tooltip\n                label={copied ? \"Copied\" : `Copy ${path}`}\n                withArrow\n                position=\"bottom\"\n              >\n                <Text\n                  component=\"a\"\n                  css={css({ whiteSpace: \"nowrap\" })}\n                  onClick={copy}\n                >\n                  {piece}\n                </Text>\n              </Tooltip>\n            )}\n          </CopyButton>\n        );\n      })}\n    </Breadcrumbs>\n  );\n}\n","/**\n * @generated SignedSource<<a247b1fb43a347a7d1e2e0e40fd3ef33>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type FileDiffer2Fragment$data = {\n  readonly id: string;\n  readonly reviewThreads: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly id: string;\n        readonly line: number | null | undefined;\n        readonly path: string;\n        readonly \" $fragmentSpreads\": FragmentRefs<\"CommentThreadPullRequestReviewFragment\">;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommentThreadPullRequestFragment\">;\n  readonly \" $fragmentType\": \"FileDiffer2Fragment\";\n};\nexport type FileDiffer2Fragment$key = {\n  readonly \" $data\"?: FileDiffer2Fragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"FileDiffer2Fragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"FileDiffer2Fragment\",\n  \"selections\": [\n    (v0/*: any*/),\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"CommentThreadPullRequestFragment\"\n    },\n    {\n      \"alias\": null,\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"first\",\n          \"value\": 20\n        }\n      ],\n      \"concreteType\": \"PullRequestReviewThreadConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"reviewThreads\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestReviewThreadEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestReviewThread\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                (v0/*: any*/),\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"path\",\n                  \"storageKey\": null\n                },\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"line\",\n                  \"storageKey\": null\n                },\n                {\n                  \"args\": null,\n                  \"kind\": \"FragmentSpread\",\n                  \"name\": \"CommentThreadPullRequestReviewFragment\"\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"reviewThreads(first:20)\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"c71f21962d45c117190f3ca5b142f414\";\n\nexport default node;\n","\"use client\";\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n// src/InView.tsx\nimport * as React from \"react\";\n\n// src/observe.ts\nvar observerMap = /* @__PURE__ */ new Map();\nvar RootIds = /* @__PURE__ */ new WeakMap();\nvar rootId = 0;\nvar unsupportedValue = void 0;\nfunction defaultFallbackInView(inView) {\n  unsupportedValue = inView;\n}\nfunction getRootId(root) {\n  if (!root) return \"0\";\n  if (RootIds.has(root)) return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\nfunction optionsToId(options) {\n  return Object.keys(options).sort().filter(\n    (key) => options[key] !== void 0\n  ).map((key) => {\n    return `${key}_${key === \"root\" ? getRootId(options.root) : options[key]}`;\n  }).toString();\n}\nfunction createObserver(options) {\n  const id = optionsToId(options);\n  let instance = observerMap.get(id);\n  if (!instance) {\n    const elements = /* @__PURE__ */ new Map();\n    let thresholds;\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        var _a;\n        const inView = entry.isIntersecting && thresholds.some((threshold) => entry.intersectionRatio >= threshold);\n        if (options.trackVisibility && typeof entry.isVisible === \"undefined\") {\n          entry.isVisible = inView;\n        }\n        (_a = elements.get(entry.target)) == null ? void 0 : _a.forEach((callback) => {\n          callback(inView, entry);\n        });\n      });\n    }, options);\n    thresholds = observer.thresholds || (Array.isArray(options.threshold) ? options.threshold : [options.threshold || 0]);\n    instance = {\n      id,\n      observer,\n      elements\n    };\n    observerMap.set(id, instance);\n  }\n  return instance;\n}\nfunction observe(element, callback, options = {}, fallbackInView = unsupportedValue) {\n  if (typeof window.IntersectionObserver === \"undefined\" && fallbackInView !== void 0) {\n    const bounds = element.getBoundingClientRect();\n    callback(fallbackInView, {\n      isIntersecting: fallbackInView,\n      target: element,\n      intersectionRatio: typeof options.threshold === \"number\" ? options.threshold : 0,\n      time: 0,\n      boundingClientRect: bounds,\n      intersectionRect: bounds,\n      rootBounds: bounds\n    });\n    return () => {\n    };\n  }\n  const { id, observer, elements } = createObserver(options);\n  const callbacks = elements.get(element) || [];\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n  callbacks.push(callback);\n  observer.observe(element);\n  return function unobserve() {\n    callbacks.splice(callbacks.indexOf(callback), 1);\n    if (callbacks.length === 0) {\n      elements.delete(element);\n      observer.unobserve(element);\n    }\n    if (elements.size === 0) {\n      observer.disconnect();\n      observerMap.delete(id);\n    }\n  };\n}\n\n// src/InView.tsx\nfunction isPlainChildren(props) {\n  return typeof props.children !== \"function\";\n}\nvar InView = class extends React.Component {\n  constructor(props) {\n    super(props);\n    __publicField(this, \"node\", null);\n    __publicField(this, \"_unobserveCb\", null);\n    __publicField(this, \"handleNode\", (node) => {\n      if (this.node) {\n        this.unobserve();\n        if (!node && !this.props.triggerOnce && !this.props.skip) {\n          this.setState({ inView: !!this.props.initialInView, entry: void 0 });\n        }\n      }\n      this.node = node ? node : null;\n      this.observeNode();\n    });\n    __publicField(this, \"handleChange\", (inView, entry) => {\n      if (inView && this.props.triggerOnce) {\n        this.unobserve();\n      }\n      if (!isPlainChildren(this.props)) {\n        this.setState({ inView, entry });\n      }\n      if (this.props.onChange) {\n        this.props.onChange(inView, entry);\n      }\n    });\n    this.state = {\n      inView: !!props.initialInView,\n      entry: void 0\n    };\n  }\n  componentDidMount() {\n    this.unobserve();\n    this.observeNode();\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold || prevProps.skip !== this.props.skip || prevProps.trackVisibility !== this.props.trackVisibility || prevProps.delay !== this.props.delay) {\n      this.unobserve();\n      this.observeNode();\n    }\n  }\n  componentWillUnmount() {\n    this.unobserve();\n  }\n  observeNode() {\n    if (!this.node || this.props.skip) return;\n    const {\n      threshold,\n      root,\n      rootMargin,\n      trackVisibility,\n      delay,\n      fallbackInView\n    } = this.props;\n    this._unobserveCb = observe(\n      this.node,\n      this.handleChange,\n      {\n        threshold,\n        root,\n        rootMargin,\n        // @ts-ignore\n        trackVisibility,\n        // @ts-ignore\n        delay\n      },\n      fallbackInView\n    );\n  }\n  unobserve() {\n    if (this._unobserveCb) {\n      this._unobserveCb();\n      this._unobserveCb = null;\n    }\n  }\n  render() {\n    const { children } = this.props;\n    if (typeof children === \"function\") {\n      const { inView, entry } = this.state;\n      return children({ inView, entry, ref: this.handleNode });\n    }\n    const {\n      as,\n      triggerOnce,\n      threshold,\n      root,\n      rootMargin,\n      onChange,\n      skip,\n      trackVisibility,\n      delay,\n      initialInView,\n      fallbackInView,\n      ...props\n    } = this.props;\n    return React.createElement(\n      as || \"div\",\n      { ref: this.handleNode, ...props },\n      children\n    );\n  }\n};\n\n// src/useInView.tsx\nimport * as React2 from \"react\";\nfunction useInView({\n  threshold,\n  delay,\n  trackVisibility,\n  rootMargin,\n  root,\n  triggerOnce,\n  skip,\n  initialInView,\n  fallbackInView,\n  onChange\n} = {}) {\n  var _a;\n  const [ref, setRef] = React2.useState(null);\n  const callback = React2.useRef(onChange);\n  const [state, setState] = React2.useState({\n    inView: !!initialInView,\n    entry: void 0\n  });\n  callback.current = onChange;\n  React2.useEffect(\n    () => {\n      if (skip || !ref) return;\n      let unobserve;\n      unobserve = observe(\n        ref,\n        (inView, entry) => {\n          setState({\n            inView,\n            entry\n          });\n          if (callback.current) callback.current(inView, entry);\n          if (entry.isIntersecting && triggerOnce && unobserve) {\n            unobserve();\n            unobserve = void 0;\n          }\n        },\n        {\n          root,\n          rootMargin,\n          threshold,\n          // @ts-ignore\n          trackVisibility,\n          // @ts-ignore\n          delay\n        },\n        fallbackInView\n      );\n      return () => {\n        if (unobserve) {\n          unobserve();\n        }\n      };\n    },\n    // We break the rule here, because we aren't including the actual `threshold` variable\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      // If the threshold is an array, convert it to a string, so it won't change between renders.\n      Array.isArray(threshold) ? threshold.toString() : threshold,\n      ref,\n      root,\n      rootMargin,\n      triggerOnce,\n      skip,\n      trackVisibility,\n      fallbackInView,\n      delay\n    ]\n  );\n  const entryTarget = (_a = state.entry) == null ? void 0 : _a.target;\n  const previousEntryTarget = React2.useRef(void 0);\n  if (!ref && entryTarget && !triggerOnce && !skip && previousEntryTarget.current !== entryTarget) {\n    previousEntryTarget.current = entryTarget;\n    setState({\n      inView: !!initialInView,\n      entry: void 0\n    });\n  }\n  const result = [setRef, state.inView, state.entry];\n  result.ref = result[0];\n  result.inView = result[1];\n  result.entry = result[2];\n  return result;\n}\nexport {\n  InView,\n  defaultFallbackInView,\n  observe,\n  useInView\n};\n//# sourceMappingURL=index.mjs.map","// src/utils.ts\nfunction clone(something) {\n  return doClone(something);\n}\nfunction doClone(something) {\n  if (Array.isArray(something)) {\n    return cloneArray(something);\n  }\n  if (something instanceof RegExp) {\n    return something;\n  }\n  if (typeof something === \"object\") {\n    return cloneObj(something);\n  }\n  return something;\n}\nfunction cloneArray(arr) {\n  let r = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    r[i] = doClone(arr[i]);\n  }\n  return r;\n}\nfunction cloneObj(obj) {\n  let r = {};\n  for (let key in obj) {\n    r[key] = doClone(obj[key]);\n  }\n  return r;\n}\nfunction mergeObjects(target, ...sources) {\n  sources.forEach((source) => {\n    for (let key in source) {\n      target[key] = source[key];\n    }\n  });\n  return target;\n}\nfunction basename(path) {\n  const idx = ~path.lastIndexOf(\"/\") || ~path.lastIndexOf(\"\\\\\");\n  if (idx === 0) {\n    return path;\n  } else if (~idx === path.length - 1) {\n    return basename(path.substring(0, path.length - 1));\n  } else {\n    return path.substr(~idx + 1);\n  }\n}\nvar CAPTURING_REGEX_SOURCE = /\\$(\\d+)|\\${(\\d+):\\/(downcase|upcase)}/g;\nvar RegexSource = class {\n  static hasCaptures(regexSource) {\n    if (regexSource === null) {\n      return false;\n    }\n    CAPTURING_REGEX_SOURCE.lastIndex = 0;\n    return CAPTURING_REGEX_SOURCE.test(regexSource);\n  }\n  static replaceCaptures(regexSource, captureSource, captureIndices) {\n    return regexSource.replace(CAPTURING_REGEX_SOURCE, (match, index, commandIndex, command) => {\n      let capture = captureIndices[parseInt(index || commandIndex, 10)];\n      if (capture) {\n        let result = captureSource.substring(capture.start, capture.end);\n        while (result[0] === \".\") {\n          result = result.substring(1);\n        }\n        switch (command) {\n          case \"downcase\":\n            return result.toLowerCase();\n          case \"upcase\":\n            return result.toUpperCase();\n          default:\n            return result;\n        }\n      } else {\n        return match;\n      }\n    });\n  }\n};\nfunction strcmp(a, b) {\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n  return 0;\n}\nfunction strArrCmp(a, b) {\n  if (a === null && b === null) {\n    return 0;\n  }\n  if (!a) {\n    return -1;\n  }\n  if (!b) {\n    return 1;\n  }\n  let len1 = a.length;\n  let len2 = b.length;\n  if (len1 === len2) {\n    for (let i = 0; i < len1; i++) {\n      let res = strcmp(a[i], b[i]);\n      if (res !== 0) {\n        return res;\n      }\n    }\n    return 0;\n  }\n  return len1 - len2;\n}\nfunction isValidHexColor(hex) {\n  if (/^#[0-9a-f]{6}$/i.test(hex)) {\n    return true;\n  }\n  if (/^#[0-9a-f]{8}$/i.test(hex)) {\n    return true;\n  }\n  if (/^#[0-9a-f]{3}$/i.test(hex)) {\n    return true;\n  }\n  if (/^#[0-9a-f]{4}$/i.test(hex)) {\n    return true;\n  }\n  return false;\n}\nfunction escapeRegExpCharacters(value) {\n  return value.replace(/[\\-\\\\\\{\\}\\*\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, \"\\\\$&\");\n}\nvar CachedFn = class {\n  constructor(fn) {\n    this.fn = fn;\n  }\n  cache = /* @__PURE__ */ new Map();\n  get(key) {\n    if (this.cache.has(key)) {\n      return this.cache.get(key);\n    }\n    const value = this.fn(key);\n    this.cache.set(key, value);\n    return value;\n  }\n};\n\n// src/theme.ts\nvar Theme = class {\n  constructor(_colorMap, _defaults, _root) {\n    this._colorMap = _colorMap;\n    this._defaults = _defaults;\n    this._root = _root;\n  }\n  static createFromRawTheme(source, colorMap) {\n    return this.createFromParsedTheme(parseTheme(source), colorMap);\n  }\n  static createFromParsedTheme(source, colorMap) {\n    return resolveParsedThemeRules(source, colorMap);\n  }\n  _cachedMatchRoot = new CachedFn(\n    (scopeName) => this._root.match(scopeName)\n  );\n  getColorMap() {\n    return this._colorMap.getColorMap();\n  }\n  getDefaults() {\n    return this._defaults;\n  }\n  match(scopePath) {\n    if (scopePath === null) {\n      return this._defaults;\n    }\n    const scopeName = scopePath.scopeName;\n    const matchingTrieElements = this._cachedMatchRoot.get(scopeName);\n    const effectiveRule = matchingTrieElements.find(\n      (v) => _scopePathMatchesParentScopes(scopePath.parent, v.parentScopes)\n    );\n    if (!effectiveRule) {\n      return null;\n    }\n    return new StyleAttributes(\n      effectiveRule.fontStyle,\n      effectiveRule.foreground,\n      effectiveRule.background\n    );\n  }\n};\nvar ScopeStack = class _ScopeStack {\n  constructor(parent, scopeName) {\n    this.parent = parent;\n    this.scopeName = scopeName;\n  }\n  static push(path, scopeNames) {\n    for (const name of scopeNames) {\n      path = new _ScopeStack(path, name);\n    }\n    return path;\n  }\n  static from(...segments) {\n    let result = null;\n    for (let i = 0; i < segments.length; i++) {\n      result = new _ScopeStack(result, segments[i]);\n    }\n    return result;\n  }\n  push(scopeName) {\n    return new _ScopeStack(this, scopeName);\n  }\n  getSegments() {\n    let item = this;\n    const result = [];\n    while (item) {\n      result.push(item.scopeName);\n      item = item.parent;\n    }\n    result.reverse();\n    return result;\n  }\n  toString() {\n    return this.getSegments().join(\" \");\n  }\n  extends(other) {\n    if (this === other) {\n      return true;\n    }\n    if (this.parent === null) {\n      return false;\n    }\n    return this.parent.extends(other);\n  }\n  getExtensionIfDefined(base) {\n    const result = [];\n    let item = this;\n    while (item && item !== base) {\n      result.push(item.scopeName);\n      item = item.parent;\n    }\n    return item === base ? result.reverse() : void 0;\n  }\n};\nfunction _scopePathMatchesParentScopes(scopePath, parentScopes) {\n  if (parentScopes.length === 0) {\n    return true;\n  }\n  for (let index = 0; index < parentScopes.length; index++) {\n    let scopePattern = parentScopes[index];\n    let scopeMustMatch = false;\n    if (scopePattern === \">\") {\n      if (index === parentScopes.length - 1) {\n        return false;\n      }\n      scopePattern = parentScopes[++index];\n      scopeMustMatch = true;\n    }\n    while (scopePath) {\n      if (_matchesScope(scopePath.scopeName, scopePattern)) {\n        break;\n      }\n      if (scopeMustMatch) {\n        return false;\n      }\n      scopePath = scopePath.parent;\n    }\n    if (!scopePath) {\n      return false;\n    }\n    scopePath = scopePath.parent;\n  }\n  return true;\n}\nfunction _matchesScope(scopeName, scopePattern) {\n  return scopePattern === scopeName || scopeName.startsWith(scopePattern) && scopeName[scopePattern.length] === \".\";\n}\nvar StyleAttributes = class {\n  constructor(fontStyle, foregroundId, backgroundId) {\n    this.fontStyle = fontStyle;\n    this.foregroundId = foregroundId;\n    this.backgroundId = backgroundId;\n  }\n};\nfunction parseTheme(source) {\n  if (!source) {\n    return [];\n  }\n  if (!source.settings || !Array.isArray(source.settings)) {\n    return [];\n  }\n  let settings = source.settings;\n  let result = [], resultLen = 0;\n  for (let i = 0, len = settings.length; i < len; i++) {\n    let entry = settings[i];\n    if (!entry.settings) {\n      continue;\n    }\n    let scopes;\n    if (typeof entry.scope === \"string\") {\n      let _scope = entry.scope;\n      _scope = _scope.replace(/^[,]+/, \"\");\n      _scope = _scope.replace(/[,]+$/, \"\");\n      scopes = _scope.split(\",\");\n    } else if (Array.isArray(entry.scope)) {\n      scopes = entry.scope;\n    } else {\n      scopes = [\"\"];\n    }\n    let fontStyle = -1 /* NotSet */;\n    if (typeof entry.settings.fontStyle === \"string\") {\n      fontStyle = 0 /* None */;\n      let segments = entry.settings.fontStyle.split(\" \");\n      for (let j = 0, lenJ = segments.length; j < lenJ; j++) {\n        let segment = segments[j];\n        switch (segment) {\n          case \"italic\":\n            fontStyle = fontStyle | 1 /* Italic */;\n            break;\n          case \"bold\":\n            fontStyle = fontStyle | 2 /* Bold */;\n            break;\n          case \"underline\":\n            fontStyle = fontStyle | 4 /* Underline */;\n            break;\n          case \"strikethrough\":\n            fontStyle = fontStyle | 8 /* Strikethrough */;\n            break;\n        }\n      }\n    }\n    let foreground = null;\n    if (typeof entry.settings.foreground === \"string\" && isValidHexColor(entry.settings.foreground)) {\n      foreground = entry.settings.foreground;\n    }\n    let background = null;\n    if (typeof entry.settings.background === \"string\" && isValidHexColor(entry.settings.background)) {\n      background = entry.settings.background;\n    }\n    for (let j = 0, lenJ = scopes.length; j < lenJ; j++) {\n      let _scope = scopes[j].trim();\n      let segments = _scope.split(\" \");\n      let scope = segments[segments.length - 1];\n      let parentScopes = null;\n      if (segments.length > 1) {\n        parentScopes = segments.slice(0, segments.length - 1);\n        parentScopes.reverse();\n      }\n      result[resultLen++] = new ParsedThemeRule(\n        scope,\n        parentScopes,\n        i,\n        fontStyle,\n        foreground,\n        background\n      );\n    }\n  }\n  return result;\n}\nvar ParsedThemeRule = class {\n  constructor(scope, parentScopes, index, fontStyle, foreground, background) {\n    this.scope = scope;\n    this.parentScopes = parentScopes;\n    this.index = index;\n    this.fontStyle = fontStyle;\n    this.foreground = foreground;\n    this.background = background;\n  }\n};\nvar FontStyle = /* @__PURE__ */ ((FontStyle2) => {\n  FontStyle2[FontStyle2[\"NotSet\"] = -1] = \"NotSet\";\n  FontStyle2[FontStyle2[\"None\"] = 0] = \"None\";\n  FontStyle2[FontStyle2[\"Italic\"] = 1] = \"Italic\";\n  FontStyle2[FontStyle2[\"Bold\"] = 2] = \"Bold\";\n  FontStyle2[FontStyle2[\"Underline\"] = 4] = \"Underline\";\n  FontStyle2[FontStyle2[\"Strikethrough\"] = 8] = \"Strikethrough\";\n  return FontStyle2;\n})(FontStyle || {});\nfunction resolveParsedThemeRules(parsedThemeRules, _colorMap) {\n  parsedThemeRules.sort((a, b) => {\n    let r = strcmp(a.scope, b.scope);\n    if (r !== 0) {\n      return r;\n    }\n    r = strArrCmp(a.parentScopes, b.parentScopes);\n    if (r !== 0) {\n      return r;\n    }\n    return a.index - b.index;\n  });\n  let defaultFontStyle = 0 /* None */;\n  let defaultForeground = \"#000000\";\n  let defaultBackground = \"#ffffff\";\n  while (parsedThemeRules.length >= 1 && parsedThemeRules[0].scope === \"\") {\n    let incomingDefaults = parsedThemeRules.shift();\n    if (incomingDefaults.fontStyle !== -1 /* NotSet */) {\n      defaultFontStyle = incomingDefaults.fontStyle;\n    }\n    if (incomingDefaults.foreground !== null) {\n      defaultForeground = incomingDefaults.foreground;\n    }\n    if (incomingDefaults.background !== null) {\n      defaultBackground = incomingDefaults.background;\n    }\n  }\n  let colorMap = new ColorMap(_colorMap);\n  let defaults = new StyleAttributes(defaultFontStyle, colorMap.getId(defaultForeground), colorMap.getId(defaultBackground));\n  let root = new ThemeTrieElement(new ThemeTrieElementRule(0, null, -1 /* NotSet */, 0, 0), []);\n  for (let i = 0, len = parsedThemeRules.length; i < len; i++) {\n    let rule = parsedThemeRules[i];\n    root.insert(0, rule.scope, rule.parentScopes, rule.fontStyle, colorMap.getId(rule.foreground), colorMap.getId(rule.background));\n  }\n  return new Theme(colorMap, defaults, root);\n}\nvar ColorMap = class {\n  _isFrozen;\n  _lastColorId;\n  _id2color;\n  _color2id;\n  constructor(_colorMap) {\n    this._lastColorId = 0;\n    this._id2color = [];\n    this._color2id = /* @__PURE__ */ Object.create(null);\n    if (Array.isArray(_colorMap)) {\n      this._isFrozen = true;\n      for (let i = 0, len = _colorMap.length; i < len; i++) {\n        this._color2id[_colorMap[i]] = i;\n        this._id2color[i] = _colorMap[i];\n      }\n    } else {\n      this._isFrozen = false;\n    }\n  }\n  getId(color) {\n    if (color === null) {\n      return 0;\n    }\n    color = color.toUpperCase();\n    let value = this._color2id[color];\n    if (value) {\n      return value;\n    }\n    if (this._isFrozen) {\n      throw new Error(`Missing color in color map - ${color}`);\n    }\n    value = ++this._lastColorId;\n    this._color2id[color] = value;\n    this._id2color[value] = color;\n    return value;\n  }\n  getColorMap() {\n    return this._id2color.slice(0);\n  }\n};\nvar emptyParentScopes = Object.freeze([]);\nvar ThemeTrieElementRule = class _ThemeTrieElementRule {\n  scopeDepth;\n  parentScopes;\n  fontStyle;\n  foreground;\n  background;\n  constructor(scopeDepth, parentScopes, fontStyle, foreground, background) {\n    this.scopeDepth = scopeDepth;\n    this.parentScopes = parentScopes || emptyParentScopes;\n    this.fontStyle = fontStyle;\n    this.foreground = foreground;\n    this.background = background;\n  }\n  clone() {\n    return new _ThemeTrieElementRule(this.scopeDepth, this.parentScopes, this.fontStyle, this.foreground, this.background);\n  }\n  static cloneArr(arr) {\n    let r = [];\n    for (let i = 0, len = arr.length; i < len; i++) {\n      r[i] = arr[i].clone();\n    }\n    return r;\n  }\n  acceptOverwrite(scopeDepth, fontStyle, foreground, background) {\n    if (this.scopeDepth > scopeDepth) {\n      console.log(\"how did this happen?\");\n    } else {\n      this.scopeDepth = scopeDepth;\n    }\n    if (fontStyle !== -1 /* NotSet */) {\n      this.fontStyle = fontStyle;\n    }\n    if (foreground !== 0) {\n      this.foreground = foreground;\n    }\n    if (background !== 0) {\n      this.background = background;\n    }\n  }\n};\nvar ThemeTrieElement = class _ThemeTrieElement {\n  constructor(_mainRule, rulesWithParentScopes = [], _children = {}) {\n    this._mainRule = _mainRule;\n    this._children = _children;\n    this._rulesWithParentScopes = rulesWithParentScopes;\n  }\n  _rulesWithParentScopes;\n  static _cmpBySpecificity(a, b) {\n    if (a.scopeDepth !== b.scopeDepth) {\n      return b.scopeDepth - a.scopeDepth;\n    }\n    let aParentIndex = 0;\n    let bParentIndex = 0;\n    while (true) {\n      if (a.parentScopes[aParentIndex] === \">\") {\n        aParentIndex++;\n      }\n      if (b.parentScopes[bParentIndex] === \">\") {\n        bParentIndex++;\n      }\n      if (aParentIndex >= a.parentScopes.length || bParentIndex >= b.parentScopes.length) {\n        break;\n      }\n      const parentScopeLengthDiff = b.parentScopes[bParentIndex].length - a.parentScopes[aParentIndex].length;\n      if (parentScopeLengthDiff !== 0) {\n        return parentScopeLengthDiff;\n      }\n      aParentIndex++;\n      bParentIndex++;\n    }\n    return b.parentScopes.length - a.parentScopes.length;\n  }\n  match(scope) {\n    if (scope !== \"\") {\n      let dotIndex = scope.indexOf(\".\");\n      let head;\n      let tail;\n      if (dotIndex === -1) {\n        head = scope;\n        tail = \"\";\n      } else {\n        head = scope.substring(0, dotIndex);\n        tail = scope.substring(dotIndex + 1);\n      }\n      if (this._children.hasOwnProperty(head)) {\n        return this._children[head].match(tail);\n      }\n    }\n    const rules = this._rulesWithParentScopes.concat(this._mainRule);\n    rules.sort(_ThemeTrieElement._cmpBySpecificity);\n    return rules;\n  }\n  insert(scopeDepth, scope, parentScopes, fontStyle, foreground, background) {\n    if (scope === \"\") {\n      this._doInsertHere(scopeDepth, parentScopes, fontStyle, foreground, background);\n      return;\n    }\n    let dotIndex = scope.indexOf(\".\");\n    let head;\n    let tail;\n    if (dotIndex === -1) {\n      head = scope;\n      tail = \"\";\n    } else {\n      head = scope.substring(0, dotIndex);\n      tail = scope.substring(dotIndex + 1);\n    }\n    let child;\n    if (this._children.hasOwnProperty(head)) {\n      child = this._children[head];\n    } else {\n      child = new _ThemeTrieElement(this._mainRule.clone(), ThemeTrieElementRule.cloneArr(this._rulesWithParentScopes));\n      this._children[head] = child;\n    }\n    child.insert(scopeDepth + 1, tail, parentScopes, fontStyle, foreground, background);\n  }\n  _doInsertHere(scopeDepth, parentScopes, fontStyle, foreground, background) {\n    if (parentScopes === null) {\n      this._mainRule.acceptOverwrite(scopeDepth, fontStyle, foreground, background);\n      return;\n    }\n    for (let i = 0, len = this._rulesWithParentScopes.length; i < len; i++) {\n      let rule = this._rulesWithParentScopes[i];\n      if (strArrCmp(rule.parentScopes, parentScopes) === 0) {\n        rule.acceptOverwrite(scopeDepth, fontStyle, foreground, background);\n        return;\n      }\n    }\n    if (fontStyle === -1 /* NotSet */) {\n      fontStyle = this._mainRule.fontStyle;\n    }\n    if (foreground === 0) {\n      foreground = this._mainRule.foreground;\n    }\n    if (background === 0) {\n      background = this._mainRule.background;\n    }\n    this._rulesWithParentScopes.push(new ThemeTrieElementRule(scopeDepth, parentScopes, fontStyle, foreground, background));\n  }\n};\n\n// src/encodedTokenAttributes.ts\nvar EncodedTokenMetadata = class _EncodedTokenMetadata {\n  static toBinaryStr(encodedTokenAttributes) {\n    return encodedTokenAttributes.toString(2).padStart(32, \"0\");\n  }\n  static print(encodedTokenAttributes) {\n    const languageId = _EncodedTokenMetadata.getLanguageId(encodedTokenAttributes);\n    const tokenType = _EncodedTokenMetadata.getTokenType(encodedTokenAttributes);\n    const fontStyle = _EncodedTokenMetadata.getFontStyle(encodedTokenAttributes);\n    const foreground = _EncodedTokenMetadata.getForeground(encodedTokenAttributes);\n    const background = _EncodedTokenMetadata.getBackground(encodedTokenAttributes);\n    console.log({\n      languageId,\n      tokenType,\n      fontStyle,\n      foreground,\n      background\n    });\n  }\n  static getLanguageId(encodedTokenAttributes) {\n    return (encodedTokenAttributes & 255 /* LANGUAGEID_MASK */) >>> 0 /* LANGUAGEID_OFFSET */;\n  }\n  static getTokenType(encodedTokenAttributes) {\n    return (encodedTokenAttributes & 768 /* TOKEN_TYPE_MASK */) >>> 8 /* TOKEN_TYPE_OFFSET */;\n  }\n  static containsBalancedBrackets(encodedTokenAttributes) {\n    return (encodedTokenAttributes & 1024 /* BALANCED_BRACKETS_MASK */) !== 0;\n  }\n  static getFontStyle(encodedTokenAttributes) {\n    return (encodedTokenAttributes & 30720 /* FONT_STYLE_MASK */) >>> 11 /* FONT_STYLE_OFFSET */;\n  }\n  static getForeground(encodedTokenAttributes) {\n    return (encodedTokenAttributes & 16744448 /* FOREGROUND_MASK */) >>> 15 /* FOREGROUND_OFFSET */;\n  }\n  static getBackground(encodedTokenAttributes) {\n    return (encodedTokenAttributes & 4278190080 /* BACKGROUND_MASK */) >>> 24 /* BACKGROUND_OFFSET */;\n  }\n  /**\n   * Updates the fields in `metadata`.\n   * A value of `0`, `NotSet` or `null` indicates that the corresponding field should be left as is.\n   */\n  static set(encodedTokenAttributes, languageId, tokenType, containsBalancedBrackets, fontStyle, foreground, background) {\n    let _languageId = _EncodedTokenMetadata.getLanguageId(encodedTokenAttributes);\n    let _tokenType = _EncodedTokenMetadata.getTokenType(encodedTokenAttributes);\n    let _containsBalancedBracketsBit = _EncodedTokenMetadata.containsBalancedBrackets(encodedTokenAttributes) ? 1 : 0;\n    let _fontStyle = _EncodedTokenMetadata.getFontStyle(encodedTokenAttributes);\n    let _foreground = _EncodedTokenMetadata.getForeground(encodedTokenAttributes);\n    let _background = _EncodedTokenMetadata.getBackground(encodedTokenAttributes);\n    if (languageId !== 0) {\n      _languageId = languageId;\n    }\n    if (tokenType !== 8 /* NotSet */) {\n      _tokenType = fromOptionalTokenType(tokenType);\n    }\n    if (containsBalancedBrackets !== null) {\n      _containsBalancedBracketsBit = containsBalancedBrackets ? 1 : 0;\n    }\n    if (fontStyle !== -1 /* NotSet */) {\n      _fontStyle = fontStyle;\n    }\n    if (foreground !== 0) {\n      _foreground = foreground;\n    }\n    if (background !== 0) {\n      _background = background;\n    }\n    return (_languageId << 0 /* LANGUAGEID_OFFSET */ | _tokenType << 8 /* TOKEN_TYPE_OFFSET */ | _containsBalancedBracketsBit << 10 /* BALANCED_BRACKETS_OFFSET */ | _fontStyle << 11 /* FONT_STYLE_OFFSET */ | _foreground << 15 /* FOREGROUND_OFFSET */ | _background << 24 /* BACKGROUND_OFFSET */) >>> 0;\n  }\n};\nfunction toOptionalTokenType(standardType) {\n  return standardType;\n}\nfunction fromOptionalTokenType(standardType) {\n  return standardType;\n}\n\n// src/matcher.ts\nfunction createMatchers(selector, matchesName) {\n  const results = [];\n  const tokenizer = newTokenizer(selector);\n  let token = tokenizer.next();\n  while (token !== null) {\n    let priority = 0;\n    if (token.length === 2 && token.charAt(1) === \":\") {\n      switch (token.charAt(0)) {\n        case \"R\":\n          priority = 1;\n          break;\n        case \"L\":\n          priority = -1;\n          break;\n        default:\n          console.log(`Unknown priority ${token} in scope selector`);\n      }\n      token = tokenizer.next();\n    }\n    let matcher = parseConjunction();\n    results.push({ matcher, priority });\n    if (token !== \",\") {\n      break;\n    }\n    token = tokenizer.next();\n  }\n  return results;\n  function parseOperand() {\n    if (token === \"-\") {\n      token = tokenizer.next();\n      const expressionToNegate = parseOperand();\n      return (matcherInput) => !!expressionToNegate && !expressionToNegate(matcherInput);\n    }\n    if (token === \"(\") {\n      token = tokenizer.next();\n      const expressionInParents = parseInnerExpression();\n      if (token === \")\") {\n        token = tokenizer.next();\n      }\n      return expressionInParents;\n    }\n    if (isIdentifier(token)) {\n      const identifiers = [];\n      do {\n        identifiers.push(token);\n        token = tokenizer.next();\n      } while (isIdentifier(token));\n      return (matcherInput) => matchesName(identifiers, matcherInput);\n    }\n    return null;\n  }\n  function parseConjunction() {\n    const matchers = [];\n    let matcher = parseOperand();\n    while (matcher) {\n      matchers.push(matcher);\n      matcher = parseOperand();\n    }\n    return (matcherInput) => matchers.every((matcher2) => matcher2(matcherInput));\n  }\n  function parseInnerExpression() {\n    const matchers = [];\n    let matcher = parseConjunction();\n    while (matcher) {\n      matchers.push(matcher);\n      if (token === \"|\" || token === \",\") {\n        do {\n          token = tokenizer.next();\n        } while (token === \"|\" || token === \",\");\n      } else {\n        break;\n      }\n      matcher = parseConjunction();\n    }\n    return (matcherInput) => matchers.some((matcher2) => matcher2(matcherInput));\n  }\n}\nfunction isIdentifier(token) {\n  return !!token && !!token.match(/[\\w\\.:]+/);\n}\nfunction newTokenizer(input) {\n  let regex = /([LR]:|[\\w\\.:][\\w\\.:\\-]*|[\\,\\|\\-\\(\\)])/g;\n  let match = regex.exec(input);\n  return {\n    next: () => {\n      if (!match) {\n        return null;\n      }\n      const res = match[0];\n      match = regex.exec(input);\n      return res;\n    }\n  };\n}\n\n// src/onigLib.ts\nvar FindOption = /* @__PURE__ */ ((FindOption2) => {\n  FindOption2[FindOption2[\"None\"] = 0] = \"None\";\n  FindOption2[FindOption2[\"NotBeginString\"] = 1] = \"NotBeginString\";\n  FindOption2[FindOption2[\"NotEndString\"] = 2] = \"NotEndString\";\n  FindOption2[FindOption2[\"NotBeginPosition\"] = 4] = \"NotBeginPosition\";\n  FindOption2[FindOption2[\"DebugCall\"] = 8] = \"DebugCall\";\n  return FindOption2;\n})(FindOption || {});\nfunction disposeOnigString(str) {\n  if (typeof str.dispose === \"function\") {\n    str.dispose();\n  }\n}\n\n// src/grammar/grammarDependencies.ts\nvar TopLevelRuleReference = class {\n  constructor(scopeName) {\n    this.scopeName = scopeName;\n  }\n  toKey() {\n    return this.scopeName;\n  }\n};\nvar TopLevelRepositoryRuleReference = class {\n  constructor(scopeName, ruleName) {\n    this.scopeName = scopeName;\n    this.ruleName = ruleName;\n  }\n  toKey() {\n    return `${this.scopeName}#${this.ruleName}`;\n  }\n};\nvar ExternalReferenceCollector = class {\n  _references = [];\n  _seenReferenceKeys = /* @__PURE__ */ new Set();\n  get references() {\n    return this._references;\n  }\n  visitedRule = /* @__PURE__ */ new Set();\n  add(reference) {\n    const key = reference.toKey();\n    if (this._seenReferenceKeys.has(key)) {\n      return;\n    }\n    this._seenReferenceKeys.add(key);\n    this._references.push(reference);\n  }\n};\nvar ScopeDependencyProcessor = class {\n  constructor(repo, initialScopeName) {\n    this.repo = repo;\n    this.initialScopeName = initialScopeName;\n    this.seenFullScopeRequests.add(this.initialScopeName);\n    this.Q = [new TopLevelRuleReference(this.initialScopeName)];\n  }\n  seenFullScopeRequests = /* @__PURE__ */ new Set();\n  seenPartialScopeRequests = /* @__PURE__ */ new Set();\n  Q;\n  processQueue() {\n    const q = this.Q;\n    this.Q = [];\n    const deps = new ExternalReferenceCollector();\n    for (const dep of q) {\n      collectReferencesOfReference(dep, this.initialScopeName, this.repo, deps);\n    }\n    for (const dep of deps.references) {\n      if (dep instanceof TopLevelRuleReference) {\n        if (this.seenFullScopeRequests.has(dep.scopeName)) {\n          continue;\n        }\n        this.seenFullScopeRequests.add(dep.scopeName);\n        this.Q.push(dep);\n      } else {\n        if (this.seenFullScopeRequests.has(dep.scopeName)) {\n          continue;\n        }\n        if (this.seenPartialScopeRequests.has(dep.toKey())) {\n          continue;\n        }\n        this.seenPartialScopeRequests.add(dep.toKey());\n        this.Q.push(dep);\n      }\n    }\n  }\n};\nfunction collectReferencesOfReference(reference, baseGrammarScopeName, repo, result) {\n  const selfGrammar = repo.lookup(reference.scopeName);\n  if (!selfGrammar) {\n    if (reference.scopeName === baseGrammarScopeName) {\n      throw new Error(`No grammar provided for <${baseGrammarScopeName}>`);\n    }\n    return;\n  }\n  const baseGrammar = repo.lookup(baseGrammarScopeName);\n  if (reference instanceof TopLevelRuleReference) {\n    collectExternalReferencesInTopLevelRule({ baseGrammar, selfGrammar }, result);\n  } else {\n    collectExternalReferencesInTopLevelRepositoryRule(\n      reference.ruleName,\n      { baseGrammar, selfGrammar, repository: selfGrammar.repository },\n      result\n    );\n  }\n  const injections = repo.injections(reference.scopeName);\n  if (injections) {\n    for (const injection of injections) {\n      result.add(new TopLevelRuleReference(injection));\n    }\n  }\n}\nfunction collectExternalReferencesInTopLevelRepositoryRule(ruleName, context, result) {\n  if (context.repository && context.repository[ruleName]) {\n    const rule = context.repository[ruleName];\n    collectExternalReferencesInRules([rule], context, result);\n  }\n}\nfunction collectExternalReferencesInTopLevelRule(context, result) {\n  if (context.selfGrammar.patterns && Array.isArray(context.selfGrammar.patterns)) {\n    collectExternalReferencesInRules(\n      context.selfGrammar.patterns,\n      { ...context, repository: context.selfGrammar.repository },\n      result\n    );\n  }\n  if (context.selfGrammar.injections) {\n    collectExternalReferencesInRules(\n      Object.values(context.selfGrammar.injections),\n      { ...context, repository: context.selfGrammar.repository },\n      result\n    );\n  }\n}\nfunction collectExternalReferencesInRules(rules, context, result) {\n  for (const rule of rules) {\n    if (result.visitedRule.has(rule)) {\n      continue;\n    }\n    result.visitedRule.add(rule);\n    const patternRepository = rule.repository ? mergeObjects({}, context.repository, rule.repository) : context.repository;\n    if (Array.isArray(rule.patterns)) {\n      collectExternalReferencesInRules(rule.patterns, { ...context, repository: patternRepository }, result);\n    }\n    const include = rule.include;\n    if (!include) {\n      continue;\n    }\n    const reference = parseInclude(include);\n    switch (reference.kind) {\n      case 0 /* Base */:\n        collectExternalReferencesInTopLevelRule({ ...context, selfGrammar: context.baseGrammar }, result);\n        break;\n      case 1 /* Self */:\n        collectExternalReferencesInTopLevelRule(context, result);\n        break;\n      case 2 /* RelativeReference */:\n        collectExternalReferencesInTopLevelRepositoryRule(reference.ruleName, { ...context, repository: patternRepository }, result);\n        break;\n      case 3 /* TopLevelReference */:\n      case 4 /* TopLevelRepositoryReference */:\n        const selfGrammar = reference.scopeName === context.selfGrammar.scopeName ? context.selfGrammar : reference.scopeName === context.baseGrammar.scopeName ? context.baseGrammar : void 0;\n        if (selfGrammar) {\n          const newContext = { baseGrammar: context.baseGrammar, selfGrammar, repository: patternRepository };\n          if (reference.kind === 4 /* TopLevelRepositoryReference */) {\n            collectExternalReferencesInTopLevelRepositoryRule(reference.ruleName, newContext, result);\n          } else {\n            collectExternalReferencesInTopLevelRule(newContext, result);\n          }\n        } else {\n          if (reference.kind === 4 /* TopLevelRepositoryReference */) {\n            result.add(new TopLevelRepositoryRuleReference(reference.scopeName, reference.ruleName));\n          } else {\n            result.add(new TopLevelRuleReference(reference.scopeName));\n          }\n        }\n        break;\n    }\n  }\n}\nvar BaseReference = class {\n  kind = 0 /* Base */;\n};\nvar SelfReference = class {\n  kind = 1 /* Self */;\n};\nvar RelativeReference = class {\n  constructor(ruleName) {\n    this.ruleName = ruleName;\n  }\n  kind = 2 /* RelativeReference */;\n};\nvar TopLevelReference = class {\n  constructor(scopeName) {\n    this.scopeName = scopeName;\n  }\n  kind = 3 /* TopLevelReference */;\n};\nvar TopLevelRepositoryReference = class {\n  constructor(scopeName, ruleName) {\n    this.scopeName = scopeName;\n    this.ruleName = ruleName;\n  }\n  kind = 4 /* TopLevelRepositoryReference */;\n};\nfunction parseInclude(include) {\n  if (include === \"$base\") {\n    return new BaseReference();\n  } else if (include === \"$self\") {\n    return new SelfReference();\n  }\n  const indexOfSharp = include.indexOf(\"#\");\n  if (indexOfSharp === -1) {\n    return new TopLevelReference(include);\n  } else if (indexOfSharp === 0) {\n    return new RelativeReference(include.substring(1));\n  } else {\n    const scopeName = include.substring(0, indexOfSharp);\n    const ruleName = include.substring(indexOfSharp + 1);\n    return new TopLevelRepositoryReference(scopeName, ruleName);\n  }\n}\n\n// src/rule.ts\nvar HAS_BACK_REFERENCES = /\\\\(\\d+)/;\nvar BACK_REFERENCING_END = /\\\\(\\d+)/g;\nvar ruleIdSymbol = Symbol(\"RuleId\");\nvar endRuleId = -1;\nvar whileRuleId = -2;\nfunction ruleIdFromNumber(id) {\n  return id;\n}\nfunction ruleIdToNumber(id) {\n  return id;\n}\nvar Rule = class {\n  $location;\n  id;\n  _nameIsCapturing;\n  _name;\n  _contentNameIsCapturing;\n  _contentName;\n  constructor($location, id, name, contentName) {\n    this.$location = $location;\n    this.id = id;\n    this._name = name || null;\n    this._nameIsCapturing = RegexSource.hasCaptures(this._name);\n    this._contentName = contentName || null;\n    this._contentNameIsCapturing = RegexSource.hasCaptures(this._contentName);\n  }\n  get debugName() {\n    const location = this.$location ? `${basename(this.$location.filename)}:${this.$location.line}` : \"unknown\";\n    return `${this.constructor.name}#${this.id} @ ${location}`;\n  }\n  getName(lineText, captureIndices) {\n    if (!this._nameIsCapturing || this._name === null || lineText === null || captureIndices === null) {\n      return this._name;\n    }\n    return RegexSource.replaceCaptures(this._name, lineText, captureIndices);\n  }\n  getContentName(lineText, captureIndices) {\n    if (!this._contentNameIsCapturing || this._contentName === null) {\n      return this._contentName;\n    }\n    return RegexSource.replaceCaptures(this._contentName, lineText, captureIndices);\n  }\n};\nvar CaptureRule = class extends Rule {\n  retokenizeCapturedWithRuleId;\n  constructor($location, id, name, contentName, retokenizeCapturedWithRuleId) {\n    super($location, id, name, contentName);\n    this.retokenizeCapturedWithRuleId = retokenizeCapturedWithRuleId;\n  }\n  dispose() {\n  }\n  collectPatterns(grammar, out) {\n    throw new Error(\"Not supported!\");\n  }\n  compile(grammar, endRegexSource) {\n    throw new Error(\"Not supported!\");\n  }\n  compileAG(grammar, endRegexSource, allowA, allowG) {\n    throw new Error(\"Not supported!\");\n  }\n};\nvar MatchRule = class extends Rule {\n  _match;\n  captures;\n  _cachedCompiledPatterns;\n  constructor($location, id, name, match, captures) {\n    super($location, id, name, null);\n    this._match = new RegExpSource(match, this.id);\n    this.captures = captures;\n    this._cachedCompiledPatterns = null;\n  }\n  dispose() {\n    if (this._cachedCompiledPatterns) {\n      this._cachedCompiledPatterns.dispose();\n      this._cachedCompiledPatterns = null;\n    }\n  }\n  get debugMatchRegExp() {\n    return `${this._match.source}`;\n  }\n  collectPatterns(grammar, out) {\n    out.push(this._match);\n  }\n  compile(grammar, endRegexSource) {\n    return this._getCachedCompiledPatterns(grammar).compile(grammar);\n  }\n  compileAG(grammar, endRegexSource, allowA, allowG) {\n    return this._getCachedCompiledPatterns(grammar).compileAG(grammar, allowA, allowG);\n  }\n  _getCachedCompiledPatterns(grammar) {\n    if (!this._cachedCompiledPatterns) {\n      this._cachedCompiledPatterns = new RegExpSourceList();\n      this.collectPatterns(grammar, this._cachedCompiledPatterns);\n    }\n    return this._cachedCompiledPatterns;\n  }\n};\nvar IncludeOnlyRule = class extends Rule {\n  hasMissingPatterns;\n  patterns;\n  _cachedCompiledPatterns;\n  constructor($location, id, name, contentName, patterns) {\n    super($location, id, name, contentName);\n    this.patterns = patterns.patterns;\n    this.hasMissingPatterns = patterns.hasMissingPatterns;\n    this._cachedCompiledPatterns = null;\n  }\n  dispose() {\n    if (this._cachedCompiledPatterns) {\n      this._cachedCompiledPatterns.dispose();\n      this._cachedCompiledPatterns = null;\n    }\n  }\n  collectPatterns(grammar, out) {\n    for (const pattern of this.patterns) {\n      const rule = grammar.getRule(pattern);\n      rule.collectPatterns(grammar, out);\n    }\n  }\n  compile(grammar, endRegexSource) {\n    return this._getCachedCompiledPatterns(grammar).compile(grammar);\n  }\n  compileAG(grammar, endRegexSource, allowA, allowG) {\n    return this._getCachedCompiledPatterns(grammar).compileAG(grammar, allowA, allowG);\n  }\n  _getCachedCompiledPatterns(grammar) {\n    if (!this._cachedCompiledPatterns) {\n      this._cachedCompiledPatterns = new RegExpSourceList();\n      this.collectPatterns(grammar, this._cachedCompiledPatterns);\n    }\n    return this._cachedCompiledPatterns;\n  }\n};\nvar BeginEndRule = class extends Rule {\n  _begin;\n  beginCaptures;\n  _end;\n  endHasBackReferences;\n  endCaptures;\n  applyEndPatternLast;\n  hasMissingPatterns;\n  patterns;\n  _cachedCompiledPatterns;\n  constructor($location, id, name, contentName, begin, beginCaptures, end, endCaptures, applyEndPatternLast, patterns) {\n    super($location, id, name, contentName);\n    this._begin = new RegExpSource(begin, this.id);\n    this.beginCaptures = beginCaptures;\n    this._end = new RegExpSource(end ? end : \"\\uFFFF\", -1);\n    this.endHasBackReferences = this._end.hasBackReferences;\n    this.endCaptures = endCaptures;\n    this.applyEndPatternLast = applyEndPatternLast || false;\n    this.patterns = patterns.patterns;\n    this.hasMissingPatterns = patterns.hasMissingPatterns;\n    this._cachedCompiledPatterns = null;\n  }\n  dispose() {\n    if (this._cachedCompiledPatterns) {\n      this._cachedCompiledPatterns.dispose();\n      this._cachedCompiledPatterns = null;\n    }\n  }\n  get debugBeginRegExp() {\n    return `${this._begin.source}`;\n  }\n  get debugEndRegExp() {\n    return `${this._end.source}`;\n  }\n  getEndWithResolvedBackReferences(lineText, captureIndices) {\n    return this._end.resolveBackReferences(lineText, captureIndices);\n  }\n  collectPatterns(grammar, out) {\n    out.push(this._begin);\n  }\n  compile(grammar, endRegexSource) {\n    return this._getCachedCompiledPatterns(grammar, endRegexSource).compile(grammar);\n  }\n  compileAG(grammar, endRegexSource, allowA, allowG) {\n    return this._getCachedCompiledPatterns(grammar, endRegexSource).compileAG(grammar, allowA, allowG);\n  }\n  _getCachedCompiledPatterns(grammar, endRegexSource) {\n    if (!this._cachedCompiledPatterns) {\n      this._cachedCompiledPatterns = new RegExpSourceList();\n      for (const pattern of this.patterns) {\n        const rule = grammar.getRule(pattern);\n        rule.collectPatterns(grammar, this._cachedCompiledPatterns);\n      }\n      if (this.applyEndPatternLast) {\n        this._cachedCompiledPatterns.push(this._end.hasBackReferences ? this._end.clone() : this._end);\n      } else {\n        this._cachedCompiledPatterns.unshift(this._end.hasBackReferences ? this._end.clone() : this._end);\n      }\n    }\n    if (this._end.hasBackReferences) {\n      if (this.applyEndPatternLast) {\n        this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length() - 1, endRegexSource);\n      } else {\n        this._cachedCompiledPatterns.setSource(0, endRegexSource);\n      }\n    }\n    return this._cachedCompiledPatterns;\n  }\n};\nvar BeginWhileRule = class extends Rule {\n  _begin;\n  beginCaptures;\n  whileCaptures;\n  _while;\n  whileHasBackReferences;\n  hasMissingPatterns;\n  patterns;\n  _cachedCompiledPatterns;\n  _cachedCompiledWhilePatterns;\n  constructor($location, id, name, contentName, begin, beginCaptures, _while, whileCaptures, patterns) {\n    super($location, id, name, contentName);\n    this._begin = new RegExpSource(begin, this.id);\n    this.beginCaptures = beginCaptures;\n    this.whileCaptures = whileCaptures;\n    this._while = new RegExpSource(_while, whileRuleId);\n    this.whileHasBackReferences = this._while.hasBackReferences;\n    this.patterns = patterns.patterns;\n    this.hasMissingPatterns = patterns.hasMissingPatterns;\n    this._cachedCompiledPatterns = null;\n    this._cachedCompiledWhilePatterns = null;\n  }\n  dispose() {\n    if (this._cachedCompiledPatterns) {\n      this._cachedCompiledPatterns.dispose();\n      this._cachedCompiledPatterns = null;\n    }\n    if (this._cachedCompiledWhilePatterns) {\n      this._cachedCompiledWhilePatterns.dispose();\n      this._cachedCompiledWhilePatterns = null;\n    }\n  }\n  get debugBeginRegExp() {\n    return `${this._begin.source}`;\n  }\n  get debugWhileRegExp() {\n    return `${this._while.source}`;\n  }\n  getWhileWithResolvedBackReferences(lineText, captureIndices) {\n    return this._while.resolveBackReferences(lineText, captureIndices);\n  }\n  collectPatterns(grammar, out) {\n    out.push(this._begin);\n  }\n  compile(grammar, endRegexSource) {\n    return this._getCachedCompiledPatterns(grammar).compile(grammar);\n  }\n  compileAG(grammar, endRegexSource, allowA, allowG) {\n    return this._getCachedCompiledPatterns(grammar).compileAG(grammar, allowA, allowG);\n  }\n  _getCachedCompiledPatterns(grammar) {\n    if (!this._cachedCompiledPatterns) {\n      this._cachedCompiledPatterns = new RegExpSourceList();\n      for (const pattern of this.patterns) {\n        const rule = grammar.getRule(pattern);\n        rule.collectPatterns(grammar, this._cachedCompiledPatterns);\n      }\n    }\n    return this._cachedCompiledPatterns;\n  }\n  compileWhile(grammar, endRegexSource) {\n    return this._getCachedCompiledWhilePatterns(grammar, endRegexSource).compile(grammar);\n  }\n  compileWhileAG(grammar, endRegexSource, allowA, allowG) {\n    return this._getCachedCompiledWhilePatterns(grammar, endRegexSource).compileAG(grammar, allowA, allowG);\n  }\n  _getCachedCompiledWhilePatterns(grammar, endRegexSource) {\n    if (!this._cachedCompiledWhilePatterns) {\n      this._cachedCompiledWhilePatterns = new RegExpSourceList();\n      this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences ? this._while.clone() : this._while);\n    }\n    if (this._while.hasBackReferences) {\n      this._cachedCompiledWhilePatterns.setSource(0, endRegexSource ? endRegexSource : \"\\uFFFF\");\n    }\n    return this._cachedCompiledWhilePatterns;\n  }\n};\nvar RuleFactory = class _RuleFactory {\n  static createCaptureRule(helper, $location, name, contentName, retokenizeCapturedWithRuleId) {\n    return helper.registerRule((id) => {\n      return new CaptureRule($location, id, name, contentName, retokenizeCapturedWithRuleId);\n    });\n  }\n  static getCompiledRuleId(desc, helper, repository) {\n    if (!desc.id) {\n      helper.registerRule((id) => {\n        desc.id = id;\n        if (desc.match) {\n          return new MatchRule(\n            desc.$vscodeTextmateLocation,\n            desc.id,\n            desc.name,\n            desc.match,\n            _RuleFactory._compileCaptures(desc.captures, helper, repository)\n          );\n        }\n        if (typeof desc.begin === \"undefined\") {\n          if (desc.repository) {\n            repository = mergeObjects({}, repository, desc.repository);\n          }\n          let patterns = desc.patterns;\n          if (typeof patterns === \"undefined\" && desc.include) {\n            patterns = [{ include: desc.include }];\n          }\n          return new IncludeOnlyRule(\n            desc.$vscodeTextmateLocation,\n            desc.id,\n            desc.name,\n            desc.contentName,\n            _RuleFactory._compilePatterns(patterns, helper, repository)\n          );\n        }\n        if (desc.while) {\n          return new BeginWhileRule(\n            desc.$vscodeTextmateLocation,\n            desc.id,\n            desc.name,\n            desc.contentName,\n            desc.begin,\n            _RuleFactory._compileCaptures(desc.beginCaptures || desc.captures, helper, repository),\n            desc.while,\n            _RuleFactory._compileCaptures(desc.whileCaptures || desc.captures, helper, repository),\n            _RuleFactory._compilePatterns(desc.patterns, helper, repository)\n          );\n        }\n        return new BeginEndRule(\n          desc.$vscodeTextmateLocation,\n          desc.id,\n          desc.name,\n          desc.contentName,\n          desc.begin,\n          _RuleFactory._compileCaptures(desc.beginCaptures || desc.captures, helper, repository),\n          desc.end,\n          _RuleFactory._compileCaptures(desc.endCaptures || desc.captures, helper, repository),\n          desc.applyEndPatternLast,\n          _RuleFactory._compilePatterns(desc.patterns, helper, repository)\n        );\n      });\n    }\n    return desc.id;\n  }\n  static _compileCaptures(captures, helper, repository) {\n    let r = [];\n    if (captures) {\n      let maximumCaptureId = 0;\n      for (const captureId in captures) {\n        if (captureId === \"$vscodeTextmateLocation\") {\n          continue;\n        }\n        const numericCaptureId = parseInt(captureId, 10);\n        if (numericCaptureId > maximumCaptureId) {\n          maximumCaptureId = numericCaptureId;\n        }\n      }\n      for (let i = 0; i <= maximumCaptureId; i++) {\n        r[i] = null;\n      }\n      for (const captureId in captures) {\n        if (captureId === \"$vscodeTextmateLocation\") {\n          continue;\n        }\n        const numericCaptureId = parseInt(captureId, 10);\n        let retokenizeCapturedWithRuleId = 0;\n        if (captures[captureId].patterns) {\n          retokenizeCapturedWithRuleId = _RuleFactory.getCompiledRuleId(captures[captureId], helper, repository);\n        }\n        r[numericCaptureId] = _RuleFactory.createCaptureRule(helper, captures[captureId].$vscodeTextmateLocation, captures[captureId].name, captures[captureId].contentName, retokenizeCapturedWithRuleId);\n      }\n    }\n    return r;\n  }\n  static _compilePatterns(patterns, helper, repository) {\n    let r = [];\n    if (patterns) {\n      for (let i = 0, len = patterns.length; i < len; i++) {\n        const pattern = patterns[i];\n        let ruleId = -1;\n        if (pattern.include) {\n          const reference = parseInclude(pattern.include);\n          switch (reference.kind) {\n            case 0 /* Base */:\n            case 1 /* Self */:\n              ruleId = _RuleFactory.getCompiledRuleId(repository[pattern.include], helper, repository);\n              break;\n            case 2 /* RelativeReference */:\n              let localIncludedRule = repository[reference.ruleName];\n              if (localIncludedRule) {\n                ruleId = _RuleFactory.getCompiledRuleId(localIncludedRule, helper, repository);\n              } else {\n              }\n              break;\n            case 3 /* TopLevelReference */:\n            case 4 /* TopLevelRepositoryReference */:\n              const externalGrammarName = reference.scopeName;\n              const externalGrammarInclude = reference.kind === 4 /* TopLevelRepositoryReference */ ? reference.ruleName : null;\n              const externalGrammar = helper.getExternalGrammar(externalGrammarName, repository);\n              if (externalGrammar) {\n                if (externalGrammarInclude) {\n                  let externalIncludedRule = externalGrammar.repository[externalGrammarInclude];\n                  if (externalIncludedRule) {\n                    ruleId = _RuleFactory.getCompiledRuleId(externalIncludedRule, helper, externalGrammar.repository);\n                  } else {\n                  }\n                } else {\n                  ruleId = _RuleFactory.getCompiledRuleId(externalGrammar.repository.$self, helper, externalGrammar.repository);\n                }\n              } else {\n              }\n              break;\n          }\n        } else {\n          ruleId = _RuleFactory.getCompiledRuleId(pattern, helper, repository);\n        }\n        if (ruleId !== -1) {\n          const rule = helper.getRule(ruleId);\n          let skipRule = false;\n          if (rule instanceof IncludeOnlyRule || rule instanceof BeginEndRule || rule instanceof BeginWhileRule) {\n            if (rule.hasMissingPatterns && rule.patterns.length === 0) {\n              skipRule = true;\n            }\n          }\n          if (skipRule) {\n            continue;\n          }\n          r.push(ruleId);\n        }\n      }\n    }\n    return {\n      patterns: r,\n      hasMissingPatterns: (patterns ? patterns.length : 0) !== r.length\n    };\n  }\n};\nvar RegExpSource = class _RegExpSource {\n  source;\n  ruleId;\n  hasAnchor;\n  hasBackReferences;\n  _anchorCache;\n  constructor(regExpSource, ruleId) {\n    if (regExpSource && typeof regExpSource === \"string\") {\n      const len = regExpSource.length;\n      let lastPushedPos = 0;\n      let output = [];\n      let hasAnchor = false;\n      for (let pos = 0; pos < len; pos++) {\n        const ch = regExpSource.charAt(pos);\n        if (ch === \"\\\\\") {\n          if (pos + 1 < len) {\n            const nextCh = regExpSource.charAt(pos + 1);\n            if (nextCh === \"z\") {\n              output.push(regExpSource.substring(lastPushedPos, pos));\n              output.push(\"$(?!\\\\n)(?<!\\\\n)\");\n              lastPushedPos = pos + 2;\n            } else if (nextCh === \"A\" || nextCh === \"G\") {\n              hasAnchor = true;\n            }\n            pos++;\n          }\n        }\n      }\n      this.hasAnchor = hasAnchor;\n      if (lastPushedPos === 0) {\n        this.source = regExpSource;\n      } else {\n        output.push(regExpSource.substring(lastPushedPos, len));\n        this.source = output.join(\"\");\n      }\n    } else {\n      this.hasAnchor = false;\n      this.source = regExpSource;\n    }\n    if (this.hasAnchor) {\n      this._anchorCache = this._buildAnchorCache();\n    } else {\n      this._anchorCache = null;\n    }\n    this.ruleId = ruleId;\n    if (typeof this.source === \"string\") {\n      this.hasBackReferences = HAS_BACK_REFERENCES.test(this.source);\n    } else {\n      this.hasBackReferences = false;\n    }\n  }\n  clone() {\n    return new _RegExpSource(this.source, this.ruleId);\n  }\n  setSource(newSource) {\n    if (this.source === newSource) {\n      return;\n    }\n    this.source = newSource;\n    if (this.hasAnchor) {\n      this._anchorCache = this._buildAnchorCache();\n    }\n  }\n  resolveBackReferences(lineText, captureIndices) {\n    if (typeof this.source !== \"string\") {\n      throw new Error(\"This method should only be called if the source is a string\");\n    }\n    let capturedValues = captureIndices.map((capture) => {\n      return lineText.substring(capture.start, capture.end);\n    });\n    BACK_REFERENCING_END.lastIndex = 0;\n    return this.source.replace(BACK_REFERENCING_END, (match, g1) => {\n      return escapeRegExpCharacters(capturedValues[parseInt(g1, 10)] || \"\");\n    });\n  }\n  _buildAnchorCache() {\n    if (typeof this.source !== \"string\") {\n      throw new Error(\"This method should only be called if the source is a string\");\n    }\n    let A0_G0_result = [];\n    let A0_G1_result = [];\n    let A1_G0_result = [];\n    let A1_G1_result = [];\n    let pos, len, ch, nextCh;\n    for (pos = 0, len = this.source.length; pos < len; pos++) {\n      ch = this.source.charAt(pos);\n      A0_G0_result[pos] = ch;\n      A0_G1_result[pos] = ch;\n      A1_G0_result[pos] = ch;\n      A1_G1_result[pos] = ch;\n      if (ch === \"\\\\\") {\n        if (pos + 1 < len) {\n          nextCh = this.source.charAt(pos + 1);\n          if (nextCh === \"A\") {\n            A0_G0_result[pos + 1] = \"\\uFFFF\";\n            A0_G1_result[pos + 1] = \"\\uFFFF\";\n            A1_G0_result[pos + 1] = \"A\";\n            A1_G1_result[pos + 1] = \"A\";\n          } else if (nextCh === \"G\") {\n            A0_G0_result[pos + 1] = \"\\uFFFF\";\n            A0_G1_result[pos + 1] = \"G\";\n            A1_G0_result[pos + 1] = \"\\uFFFF\";\n            A1_G1_result[pos + 1] = \"G\";\n          } else {\n            A0_G0_result[pos + 1] = nextCh;\n            A0_G1_result[pos + 1] = nextCh;\n            A1_G0_result[pos + 1] = nextCh;\n            A1_G1_result[pos + 1] = nextCh;\n          }\n          pos++;\n        }\n      }\n    }\n    return {\n      A0_G0: A0_G0_result.join(\"\"),\n      A0_G1: A0_G1_result.join(\"\"),\n      A1_G0: A1_G0_result.join(\"\"),\n      A1_G1: A1_G1_result.join(\"\")\n    };\n  }\n  resolveAnchors(allowA, allowG) {\n    if (!this.hasAnchor || !this._anchorCache || typeof this.source !== \"string\") {\n      return this.source;\n    }\n    if (allowA) {\n      if (allowG) {\n        return this._anchorCache.A1_G1;\n      } else {\n        return this._anchorCache.A1_G0;\n      }\n    } else {\n      if (allowG) {\n        return this._anchorCache.A0_G1;\n      } else {\n        return this._anchorCache.A0_G0;\n      }\n    }\n  }\n};\nvar RegExpSourceList = class {\n  _items;\n  _hasAnchors;\n  _cached;\n  _anchorCache;\n  constructor() {\n    this._items = [];\n    this._hasAnchors = false;\n    this._cached = null;\n    this._anchorCache = {\n      A0_G0: null,\n      A0_G1: null,\n      A1_G0: null,\n      A1_G1: null\n    };\n  }\n  dispose() {\n    this._disposeCaches();\n  }\n  _disposeCaches() {\n    if (this._cached) {\n      this._cached.dispose();\n      this._cached = null;\n    }\n    if (this._anchorCache.A0_G0) {\n      this._anchorCache.A0_G0.dispose();\n      this._anchorCache.A0_G0 = null;\n    }\n    if (this._anchorCache.A0_G1) {\n      this._anchorCache.A0_G1.dispose();\n      this._anchorCache.A0_G1 = null;\n    }\n    if (this._anchorCache.A1_G0) {\n      this._anchorCache.A1_G0.dispose();\n      this._anchorCache.A1_G0 = null;\n    }\n    if (this._anchorCache.A1_G1) {\n      this._anchorCache.A1_G1.dispose();\n      this._anchorCache.A1_G1 = null;\n    }\n  }\n  push(item) {\n    this._items.push(item);\n    this._hasAnchors = this._hasAnchors || item.hasAnchor;\n  }\n  unshift(item) {\n    this._items.unshift(item);\n    this._hasAnchors = this._hasAnchors || item.hasAnchor;\n  }\n  length() {\n    return this._items.length;\n  }\n  setSource(index, newSource) {\n    if (this._items[index].source !== newSource) {\n      this._disposeCaches();\n      this._items[index].setSource(newSource);\n    }\n  }\n  compile(onigLib) {\n    if (!this._cached) {\n      let regExps = this._items.map((e) => e.source);\n      this._cached = new CompiledRule(onigLib, regExps, this._items.map((e) => e.ruleId));\n    }\n    return this._cached;\n  }\n  compileAG(onigLib, allowA, allowG) {\n    if (!this._hasAnchors) {\n      return this.compile(onigLib);\n    } else {\n      if (allowA) {\n        if (allowG) {\n          if (!this._anchorCache.A1_G1) {\n            this._anchorCache.A1_G1 = this._resolveAnchors(onigLib, allowA, allowG);\n          }\n          return this._anchorCache.A1_G1;\n        } else {\n          if (!this._anchorCache.A1_G0) {\n            this._anchorCache.A1_G0 = this._resolveAnchors(onigLib, allowA, allowG);\n          }\n          return this._anchorCache.A1_G0;\n        }\n      } else {\n        if (allowG) {\n          if (!this._anchorCache.A0_G1) {\n            this._anchorCache.A0_G1 = this._resolveAnchors(onigLib, allowA, allowG);\n          }\n          return this._anchorCache.A0_G1;\n        } else {\n          if (!this._anchorCache.A0_G0) {\n            this._anchorCache.A0_G0 = this._resolveAnchors(onigLib, allowA, allowG);\n          }\n          return this._anchorCache.A0_G0;\n        }\n      }\n    }\n  }\n  _resolveAnchors(onigLib, allowA, allowG) {\n    let regExps = this._items.map((e) => e.resolveAnchors(allowA, allowG));\n    return new CompiledRule(onigLib, regExps, this._items.map((e) => e.ruleId));\n  }\n};\nvar CompiledRule = class {\n  constructor(onigLib, regExps, rules) {\n    this.regExps = regExps;\n    this.rules = rules;\n    this.scanner = onigLib.createOnigScanner(regExps);\n  }\n  scanner;\n  dispose() {\n    if (typeof this.scanner.dispose === \"function\") {\n      this.scanner.dispose();\n    }\n  }\n  toString() {\n    const r = [];\n    for (let i = 0, len = this.rules.length; i < len; i++) {\n      r.push(\"   - \" + this.rules[i] + \": \" + this.regExps[i]);\n    }\n    return r.join(\"\\n\");\n  }\n  findNextMatchSync(string, startPosition, options) {\n    const result = this.scanner.findNextMatchSync(string, startPosition, options);\n    if (!result) {\n      return null;\n    }\n    return {\n      ruleId: this.rules[result.index],\n      captureIndices: result.captureIndices\n    };\n  }\n};\n\n// src/grammar/basicScopesAttributeProvider.ts\nvar BasicScopeAttributes = class {\n  constructor(languageId, tokenType) {\n    this.languageId = languageId;\n    this.tokenType = tokenType;\n  }\n};\nvar BasicScopeAttributesProvider = class _BasicScopeAttributesProvider {\n  _defaultAttributes;\n  _embeddedLanguagesMatcher;\n  constructor(initialLanguageId, embeddedLanguages) {\n    this._defaultAttributes = new BasicScopeAttributes(initialLanguageId, 8 /* NotSet */);\n    this._embeddedLanguagesMatcher = new ScopeMatcher(Object.entries(embeddedLanguages || {}));\n  }\n  getDefaultAttributes() {\n    return this._defaultAttributes;\n  }\n  getBasicScopeAttributes(scopeName) {\n    if (scopeName === null) {\n      return _BasicScopeAttributesProvider._NULL_SCOPE_METADATA;\n    }\n    return this._getBasicScopeAttributes.get(scopeName);\n  }\n  static _NULL_SCOPE_METADATA = new BasicScopeAttributes(0, 0);\n  _getBasicScopeAttributes = new CachedFn((scopeName) => {\n    const languageId = this._scopeToLanguage(scopeName);\n    const standardTokenType = this._toStandardTokenType(scopeName);\n    return new BasicScopeAttributes(languageId, standardTokenType);\n  });\n  /**\n   * Given a produced TM scope, return the language that token describes or null if unknown.\n   * e.g. source.html => html, source.css.embedded.html => css, punctuation.definition.tag.html => null\n   */\n  _scopeToLanguage(scope) {\n    return this._embeddedLanguagesMatcher.match(scope) || 0;\n  }\n  _toStandardTokenType(scopeName) {\n    const m = scopeName.match(_BasicScopeAttributesProvider.STANDARD_TOKEN_TYPE_REGEXP);\n    if (!m) {\n      return 8 /* NotSet */;\n    }\n    switch (m[1]) {\n      case \"comment\":\n        return 1 /* Comment */;\n      case \"string\":\n        return 2 /* String */;\n      case \"regex\":\n        return 3 /* RegEx */;\n      case \"meta.embedded\":\n        return 0 /* Other */;\n    }\n    throw new Error(\"Unexpected match for standard token type!\");\n  }\n  static STANDARD_TOKEN_TYPE_REGEXP = /\\b(comment|string|regex|meta\\.embedded)\\b/;\n};\nvar ScopeMatcher = class {\n  values;\n  scopesRegExp;\n  constructor(values) {\n    if (values.length === 0) {\n      this.values = null;\n      this.scopesRegExp = null;\n    } else {\n      this.values = new Map(values);\n      const escapedScopes = values.map(\n        ([scopeName, value]) => escapeRegExpCharacters(scopeName)\n      );\n      escapedScopes.sort();\n      escapedScopes.reverse();\n      this.scopesRegExp = new RegExp(\n        `^((${escapedScopes.join(\")|(\")}))($|\\\\.)`,\n        \"\"\n      );\n    }\n  }\n  match(scope) {\n    if (!this.scopesRegExp) {\n      return void 0;\n    }\n    const m = scope.match(this.scopesRegExp);\n    if (!m) {\n      return void 0;\n    }\n    return this.values.get(m[1]);\n  }\n};\n\n// src/debug.ts\nvar DebugFlags = {\n  InDebugMode: typeof process !== \"undefined\" && !!process.env[\"VSCODE_TEXTMATE_DEBUG\"]\n};\nvar UseOnigurumaFindOptions = false;\n\n// src/grammar/tokenizeString.ts\nvar TokenizeStringResult = class {\n  constructor(stack, stoppedEarly) {\n    this.stack = stack;\n    this.stoppedEarly = stoppedEarly;\n  }\n};\nfunction _tokenizeString(grammar, lineText, isFirstLine, linePos, stack, lineTokens, checkWhileConditions, timeLimit) {\n  const lineLength = lineText.content.length;\n  let STOP = false;\n  let anchorPosition = -1;\n  if (checkWhileConditions) {\n    const whileCheckResult = _checkWhileConditions(\n      grammar,\n      lineText,\n      isFirstLine,\n      linePos,\n      stack,\n      lineTokens\n    );\n    stack = whileCheckResult.stack;\n    linePos = whileCheckResult.linePos;\n    isFirstLine = whileCheckResult.isFirstLine;\n    anchorPosition = whileCheckResult.anchorPosition;\n  }\n  const startTime = Date.now();\n  while (!STOP) {\n    if (timeLimit !== 0) {\n      const elapsedTime = Date.now() - startTime;\n      if (elapsedTime > timeLimit) {\n        return new TokenizeStringResult(stack, true);\n      }\n    }\n    scanNext();\n  }\n  return new TokenizeStringResult(stack, false);\n  function scanNext() {\n    if (false) {\n      console.log(\"\");\n      console.log(\n        `@@scanNext ${linePos}: |${lineText.content.substr(linePos).replace(/\\n$/, \"\\\\n\")}|`\n      );\n    }\n    const r = matchRuleOrInjections(\n      grammar,\n      lineText,\n      isFirstLine,\n      linePos,\n      stack,\n      anchorPosition\n    );\n    if (!r) {\n      lineTokens.produce(stack, lineLength);\n      STOP = true;\n      return;\n    }\n    const captureIndices = r.captureIndices;\n    const matchedRuleId = r.matchedRuleId;\n    const hasAdvanced = captureIndices && captureIndices.length > 0 ? captureIndices[0].end > linePos : false;\n    if (matchedRuleId === endRuleId) {\n      const poppedRule = stack.getRule(grammar);\n      if (false) {\n        console.log(\n          \"  popping \" + poppedRule.debugName + \" - \" + poppedRule.debugEndRegExp\n        );\n      }\n      lineTokens.produce(stack, captureIndices[0].start);\n      stack = stack.withContentNameScopesList(stack.nameScopesList);\n      handleCaptures(\n        grammar,\n        lineText,\n        isFirstLine,\n        stack,\n        lineTokens,\n        poppedRule.endCaptures,\n        captureIndices\n      );\n      lineTokens.produce(stack, captureIndices[0].end);\n      const popped = stack;\n      stack = stack.parent;\n      anchorPosition = popped.getAnchorPos();\n      if (!hasAdvanced && popped.getEnterPos() === linePos) {\n        if (false) {\n          console.error(\n            \"[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing\"\n          );\n        }\n        stack = popped;\n        lineTokens.produce(stack, lineLength);\n        STOP = true;\n        return;\n      }\n    } else {\n      const _rule = grammar.getRule(matchedRuleId);\n      lineTokens.produce(stack, captureIndices[0].start);\n      const beforePush = stack;\n      const scopeName = _rule.getName(lineText.content, captureIndices);\n      const nameScopesList = stack.contentNameScopesList.pushAttributed(\n        scopeName,\n        grammar\n      );\n      stack = stack.push(\n        matchedRuleId,\n        linePos,\n        anchorPosition,\n        captureIndices[0].end === lineLength,\n        null,\n        nameScopesList,\n        nameScopesList\n      );\n      if (_rule instanceof BeginEndRule) {\n        const pushedRule = _rule;\n        if (false) {\n          console.log(\n            \"  pushing \" + pushedRule.debugName + \" - \" + pushedRule.debugBeginRegExp\n          );\n        }\n        handleCaptures(\n          grammar,\n          lineText,\n          isFirstLine,\n          stack,\n          lineTokens,\n          pushedRule.beginCaptures,\n          captureIndices\n        );\n        lineTokens.produce(stack, captureIndices[0].end);\n        anchorPosition = captureIndices[0].end;\n        const contentName = pushedRule.getContentName(\n          lineText.content,\n          captureIndices\n        );\n        const contentNameScopesList = nameScopesList.pushAttributed(\n          contentName,\n          grammar\n        );\n        stack = stack.withContentNameScopesList(contentNameScopesList);\n        if (pushedRule.endHasBackReferences) {\n          stack = stack.withEndRule(\n            pushedRule.getEndWithResolvedBackReferences(\n              lineText.content,\n              captureIndices\n            )\n          );\n        }\n        if (!hasAdvanced && beforePush.hasSameRuleAs(stack)) {\n          if (false) {\n            console.error(\n              \"[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing\"\n            );\n          }\n          stack = stack.pop();\n          lineTokens.produce(stack, lineLength);\n          STOP = true;\n          return;\n        }\n      } else if (_rule instanceof BeginWhileRule) {\n        const pushedRule = _rule;\n        if (false) {\n          console.log(\"  pushing \" + pushedRule.debugName);\n        }\n        handleCaptures(\n          grammar,\n          lineText,\n          isFirstLine,\n          stack,\n          lineTokens,\n          pushedRule.beginCaptures,\n          captureIndices\n        );\n        lineTokens.produce(stack, captureIndices[0].end);\n        anchorPosition = captureIndices[0].end;\n        const contentName = pushedRule.getContentName(\n          lineText.content,\n          captureIndices\n        );\n        const contentNameScopesList = nameScopesList.pushAttributed(\n          contentName,\n          grammar\n        );\n        stack = stack.withContentNameScopesList(contentNameScopesList);\n        if (pushedRule.whileHasBackReferences) {\n          stack = stack.withEndRule(\n            pushedRule.getWhileWithResolvedBackReferences(\n              lineText.content,\n              captureIndices\n            )\n          );\n        }\n        if (!hasAdvanced && beforePush.hasSameRuleAs(stack)) {\n          if (false) {\n            console.error(\n              \"[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing\"\n            );\n          }\n          stack = stack.pop();\n          lineTokens.produce(stack, lineLength);\n          STOP = true;\n          return;\n        }\n      } else {\n        const matchingRule = _rule;\n        if (false) {\n          console.log(\n            \"  matched \" + matchingRule.debugName + \" - \" + matchingRule.debugMatchRegExp\n          );\n        }\n        handleCaptures(\n          grammar,\n          lineText,\n          isFirstLine,\n          stack,\n          lineTokens,\n          matchingRule.captures,\n          captureIndices\n        );\n        lineTokens.produce(stack, captureIndices[0].end);\n        stack = stack.pop();\n        if (!hasAdvanced) {\n          if (false) {\n            console.error(\n              \"[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping\"\n            );\n          }\n          stack = stack.safePop();\n          lineTokens.produce(stack, lineLength);\n          STOP = true;\n          return;\n        }\n      }\n    }\n    if (captureIndices[0].end > linePos) {\n      linePos = captureIndices[0].end;\n      isFirstLine = false;\n    }\n  }\n}\nfunction _checkWhileConditions(grammar, lineText, isFirstLine, linePos, stack, lineTokens) {\n  let anchorPosition = stack.beginRuleCapturedEOL ? 0 : -1;\n  const whileRules = [];\n  for (let node = stack; node; node = node.pop()) {\n    const nodeRule = node.getRule(grammar);\n    if (nodeRule instanceof BeginWhileRule) {\n      whileRules.push({\n        rule: nodeRule,\n        stack: node\n      });\n    }\n  }\n  for (let whileRule = whileRules.pop(); whileRule; whileRule = whileRules.pop()) {\n    const { ruleScanner, findOptions } = prepareRuleWhileSearch(whileRule.rule, grammar, whileRule.stack.endRule, isFirstLine, linePos === anchorPosition);\n    const r = ruleScanner.findNextMatchSync(lineText, linePos, findOptions);\n    if (false) {\n      console.log(\"  scanning for while rule\");\n      console.log(ruleScanner.toString());\n    }\n    if (r) {\n      const matchedRuleId = r.ruleId;\n      if (matchedRuleId !== whileRuleId) {\n        stack = whileRule.stack.pop();\n        break;\n      }\n      if (r.captureIndices && r.captureIndices.length) {\n        lineTokens.produce(whileRule.stack, r.captureIndices[0].start);\n        handleCaptures(grammar, lineText, isFirstLine, whileRule.stack, lineTokens, whileRule.rule.whileCaptures, r.captureIndices);\n        lineTokens.produce(whileRule.stack, r.captureIndices[0].end);\n        anchorPosition = r.captureIndices[0].end;\n        if (r.captureIndices[0].end > linePos) {\n          linePos = r.captureIndices[0].end;\n          isFirstLine = false;\n        }\n      }\n    } else {\n      if (false) {\n        console.log(\"  popping \" + whileRule.rule.debugName + \" - \" + whileRule.rule.debugWhileRegExp);\n      }\n      stack = whileRule.stack.pop();\n      break;\n    }\n  }\n  return { stack, linePos, anchorPosition, isFirstLine };\n}\nfunction matchRuleOrInjections(grammar, lineText, isFirstLine, linePos, stack, anchorPosition) {\n  const matchResult = matchRule(grammar, lineText, isFirstLine, linePos, stack, anchorPosition);\n  const injections = grammar.getInjections();\n  if (injections.length === 0) {\n    return matchResult;\n  }\n  const injectionResult = matchInjections(injections, grammar, lineText, isFirstLine, linePos, stack, anchorPosition);\n  if (!injectionResult) {\n    return matchResult;\n  }\n  if (!matchResult) {\n    return injectionResult;\n  }\n  const matchResultScore = matchResult.captureIndices[0].start;\n  const injectionResultScore = injectionResult.captureIndices[0].start;\n  if (injectionResultScore < matchResultScore || injectionResult.priorityMatch && injectionResultScore === matchResultScore) {\n    return injectionResult;\n  }\n  return matchResult;\n}\nfunction matchRule(grammar, lineText, isFirstLine, linePos, stack, anchorPosition) {\n  const rule = stack.getRule(grammar);\n  const { ruleScanner, findOptions } = prepareRuleSearch(rule, grammar, stack.endRule, isFirstLine, linePos === anchorPosition);\n  const r = ruleScanner.findNextMatchSync(lineText, linePos, findOptions);\n  if (r) {\n    return {\n      captureIndices: r.captureIndices,\n      matchedRuleId: r.ruleId\n    };\n  }\n  return null;\n}\nfunction matchInjections(injections, grammar, lineText, isFirstLine, linePos, stack, anchorPosition) {\n  let bestMatchRating = Number.MAX_VALUE;\n  let bestMatchCaptureIndices = null;\n  let bestMatchRuleId;\n  let bestMatchResultPriority = 0;\n  const scopes = stack.contentNameScopesList.getScopeNames();\n  for (let i = 0, len = injections.length; i < len; i++) {\n    const injection = injections[i];\n    if (!injection.matcher(scopes)) {\n      continue;\n    }\n    const rule = grammar.getRule(injection.ruleId);\n    const { ruleScanner, findOptions } = prepareRuleSearch(rule, grammar, null, isFirstLine, linePos === anchorPosition);\n    const matchResult = ruleScanner.findNextMatchSync(lineText, linePos, findOptions);\n    if (!matchResult) {\n      continue;\n    }\n    if (false) {\n      console.log(`  matched injection: ${injection.debugSelector}`);\n      console.log(ruleScanner.toString());\n    }\n    const matchRating = matchResult.captureIndices[0].start;\n    if (matchRating >= bestMatchRating) {\n      continue;\n    }\n    bestMatchRating = matchRating;\n    bestMatchCaptureIndices = matchResult.captureIndices;\n    bestMatchRuleId = matchResult.ruleId;\n    bestMatchResultPriority = injection.priority;\n    if (bestMatchRating === linePos) {\n      break;\n    }\n  }\n  if (bestMatchCaptureIndices) {\n    return {\n      priorityMatch: bestMatchResultPriority === -1,\n      captureIndices: bestMatchCaptureIndices,\n      matchedRuleId: bestMatchRuleId\n    };\n  }\n  return null;\n}\nfunction prepareRuleSearch(rule, grammar, endRegexSource, allowA, allowG) {\n  if (UseOnigurumaFindOptions) {\n    const ruleScanner2 = rule.compile(grammar, endRegexSource);\n    const findOptions = getFindOptions(allowA, allowG);\n    return { ruleScanner: ruleScanner2, findOptions };\n  }\n  const ruleScanner = rule.compileAG(grammar, endRegexSource, allowA, allowG);\n  return { ruleScanner, findOptions: 0 /* None */ };\n}\nfunction prepareRuleWhileSearch(rule, grammar, endRegexSource, allowA, allowG) {\n  if (UseOnigurumaFindOptions) {\n    const ruleScanner2 = rule.compileWhile(grammar, endRegexSource);\n    const findOptions = getFindOptions(allowA, allowG);\n    return { ruleScanner: ruleScanner2, findOptions };\n  }\n  const ruleScanner = rule.compileWhileAG(grammar, endRegexSource, allowA, allowG);\n  return { ruleScanner, findOptions: 0 /* None */ };\n}\nfunction getFindOptions(allowA, allowG) {\n  let options = 0 /* None */;\n  if (!allowA) {\n    options |= 1 /* NotBeginString */;\n  }\n  if (!allowG) {\n    options |= 4 /* NotBeginPosition */;\n  }\n  return options;\n}\nfunction handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, captures, captureIndices) {\n  if (captures.length === 0) {\n    return;\n  }\n  const lineTextContent = lineText.content;\n  const len = Math.min(captures.length, captureIndices.length);\n  const localStack = [];\n  const maxEnd = captureIndices[0].end;\n  for (let i = 0; i < len; i++) {\n    const captureRule = captures[i];\n    if (captureRule === null) {\n      continue;\n    }\n    const captureIndex = captureIndices[i];\n    if (captureIndex.length === 0) {\n      continue;\n    }\n    if (captureIndex.start > maxEnd) {\n      break;\n    }\n    while (localStack.length > 0 && localStack[localStack.length - 1].endPos <= captureIndex.start) {\n      lineTokens.produceFromScopes(localStack[localStack.length - 1].scopes, localStack[localStack.length - 1].endPos);\n      localStack.pop();\n    }\n    if (localStack.length > 0) {\n      lineTokens.produceFromScopes(localStack[localStack.length - 1].scopes, captureIndex.start);\n    } else {\n      lineTokens.produce(stack, captureIndex.start);\n    }\n    if (captureRule.retokenizeCapturedWithRuleId) {\n      const scopeName = captureRule.getName(lineTextContent, captureIndices);\n      const nameScopesList = stack.contentNameScopesList.pushAttributed(scopeName, grammar);\n      const contentName = captureRule.getContentName(lineTextContent, captureIndices);\n      const contentNameScopesList = nameScopesList.pushAttributed(contentName, grammar);\n      const stackClone = stack.push(captureRule.retokenizeCapturedWithRuleId, captureIndex.start, -1, false, null, nameScopesList, contentNameScopesList);\n      const onigSubStr = grammar.createOnigString(lineTextContent.substring(0, captureIndex.end));\n      _tokenizeString(\n        grammar,\n        onigSubStr,\n        isFirstLine && captureIndex.start === 0,\n        captureIndex.start,\n        stackClone,\n        lineTokens,\n        false,\n        /* no time limit */\n        0\n      );\n      disposeOnigString(onigSubStr);\n      continue;\n    }\n    const captureRuleScopeName = captureRule.getName(lineTextContent, captureIndices);\n    if (captureRuleScopeName !== null) {\n      const base = localStack.length > 0 ? localStack[localStack.length - 1].scopes : stack.contentNameScopesList;\n      const captureRuleScopesList = base.pushAttributed(captureRuleScopeName, grammar);\n      localStack.push(new LocalStackElement(captureRuleScopesList, captureIndex.end));\n    }\n  }\n  while (localStack.length > 0) {\n    lineTokens.produceFromScopes(localStack[localStack.length - 1].scopes, localStack[localStack.length - 1].endPos);\n    localStack.pop();\n  }\n}\nvar LocalStackElement = class {\n  scopes;\n  endPos;\n  constructor(scopes, endPos) {\n    this.scopes = scopes;\n    this.endPos = endPos;\n  }\n};\n\n// src/grammar/grammar.ts\nfunction createGrammar(scopeName, grammar, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors, grammarRepository, onigLib) {\n  return new Grammar(\n    scopeName,\n    grammar,\n    initialLanguage,\n    embeddedLanguages,\n    tokenTypes,\n    balancedBracketSelectors,\n    grammarRepository,\n    onigLib\n  );\n}\nfunction collectInjections(result, selector, rule, ruleFactoryHelper, grammar) {\n  const matchers = createMatchers(selector, nameMatcher);\n  const ruleId = RuleFactory.getCompiledRuleId(rule, ruleFactoryHelper, grammar.repository);\n  for (const matcher of matchers) {\n    result.push({\n      debugSelector: selector,\n      matcher: matcher.matcher,\n      ruleId,\n      grammar,\n      priority: matcher.priority\n    });\n  }\n}\nfunction nameMatcher(identifers, scopes) {\n  if (scopes.length < identifers.length) {\n    return false;\n  }\n  let lastIndex = 0;\n  return identifers.every((identifier) => {\n    for (let i = lastIndex; i < scopes.length; i++) {\n      if (scopesAreMatching(scopes[i], identifier)) {\n        lastIndex = i + 1;\n        return true;\n      }\n    }\n    return false;\n  });\n}\nfunction scopesAreMatching(thisScopeName, scopeName) {\n  if (!thisScopeName) {\n    return false;\n  }\n  if (thisScopeName === scopeName) {\n    return true;\n  }\n  const len = scopeName.length;\n  return thisScopeName.length > len && thisScopeName.substr(0, len) === scopeName && thisScopeName[len] === \".\";\n}\nvar Grammar = class {\n  constructor(_rootScopeName, grammar, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors, grammarRepository, _onigLib) {\n    this._rootScopeName = _rootScopeName;\n    this.balancedBracketSelectors = balancedBracketSelectors;\n    this._onigLib = _onigLib;\n    this._basicScopeAttributesProvider = new BasicScopeAttributesProvider(\n      initialLanguage,\n      embeddedLanguages\n    );\n    this._rootId = -1;\n    this._lastRuleId = 0;\n    this._ruleId2desc = [null];\n    this._includedGrammars = {};\n    this._grammarRepository = grammarRepository;\n    this._grammar = initGrammar(grammar, null);\n    this._injections = null;\n    this._tokenTypeMatchers = [];\n    if (tokenTypes) {\n      for (const selector of Object.keys(tokenTypes)) {\n        const matchers = createMatchers(selector, nameMatcher);\n        for (const matcher of matchers) {\n          this._tokenTypeMatchers.push({\n            matcher: matcher.matcher,\n            type: tokenTypes[selector]\n          });\n        }\n      }\n    }\n  }\n  _rootId;\n  _lastRuleId;\n  _ruleId2desc;\n  _includedGrammars;\n  _grammarRepository;\n  _grammar;\n  _injections;\n  _basicScopeAttributesProvider;\n  _tokenTypeMatchers;\n  get themeProvider() {\n    return this._grammarRepository;\n  }\n  dispose() {\n    for (const rule of this._ruleId2desc) {\n      if (rule) {\n        rule.dispose();\n      }\n    }\n  }\n  createOnigScanner(sources) {\n    return this._onigLib.createOnigScanner(sources);\n  }\n  createOnigString(sources) {\n    return this._onigLib.createOnigString(sources);\n  }\n  getMetadataForScope(scope) {\n    return this._basicScopeAttributesProvider.getBasicScopeAttributes(scope);\n  }\n  _collectInjections() {\n    const grammarRepository = {\n      lookup: (scopeName2) => {\n        if (scopeName2 === this._rootScopeName) {\n          return this._grammar;\n        }\n        return this.getExternalGrammar(scopeName2);\n      },\n      injections: (scopeName2) => {\n        return this._grammarRepository.injections(scopeName2);\n      }\n    };\n    const result = [];\n    const scopeName = this._rootScopeName;\n    const grammar = grammarRepository.lookup(scopeName);\n    if (grammar) {\n      const rawInjections = grammar.injections;\n      if (rawInjections) {\n        for (let expression in rawInjections) {\n          collectInjections(\n            result,\n            expression,\n            rawInjections[expression],\n            this,\n            grammar\n          );\n        }\n      }\n      const injectionScopeNames = this._grammarRepository.injections(scopeName);\n      if (injectionScopeNames) {\n        injectionScopeNames.forEach((injectionScopeName) => {\n          const injectionGrammar = this.getExternalGrammar(injectionScopeName);\n          if (injectionGrammar) {\n            const selector = injectionGrammar.injectionSelector;\n            if (selector) {\n              collectInjections(\n                result,\n                selector,\n                injectionGrammar,\n                this,\n                injectionGrammar\n              );\n            }\n          }\n        });\n      }\n    }\n    result.sort((i1, i2) => i1.priority - i2.priority);\n    return result;\n  }\n  getInjections() {\n    if (this._injections === null) {\n      this._injections = this._collectInjections();\n    }\n    return this._injections;\n  }\n  registerRule(factory) {\n    const id = ++this._lastRuleId;\n    const result = factory(ruleIdFromNumber(id));\n    this._ruleId2desc[id] = result;\n    return result;\n  }\n  getRule(ruleId) {\n    return this._ruleId2desc[ruleIdToNumber(ruleId)];\n  }\n  getExternalGrammar(scopeName, repository) {\n    if (this._includedGrammars[scopeName]) {\n      return this._includedGrammars[scopeName];\n    } else if (this._grammarRepository) {\n      const rawIncludedGrammar = this._grammarRepository.lookup(scopeName);\n      if (rawIncludedGrammar) {\n        this._includedGrammars[scopeName] = initGrammar(\n          rawIncludedGrammar,\n          repository && repository.$base\n        );\n        return this._includedGrammars[scopeName];\n      }\n    }\n    return void 0;\n  }\n  tokenizeLine(lineText, prevState, timeLimit = 0) {\n    const r = this._tokenize(lineText, prevState, false, timeLimit);\n    return {\n      tokens: r.lineTokens.getResult(r.ruleStack, r.lineLength),\n      ruleStack: r.ruleStack,\n      stoppedEarly: r.stoppedEarly\n    };\n  }\n  tokenizeLine2(lineText, prevState, timeLimit = 0) {\n    const r = this._tokenize(lineText, prevState, true, timeLimit);\n    return {\n      tokens: r.lineTokens.getBinaryResult(r.ruleStack, r.lineLength),\n      ruleStack: r.ruleStack,\n      stoppedEarly: r.stoppedEarly\n    };\n  }\n  _tokenize(lineText, prevState, emitBinaryTokens, timeLimit) {\n    if (this._rootId === -1) {\n      this._rootId = RuleFactory.getCompiledRuleId(\n        this._grammar.repository.$self,\n        this,\n        this._grammar.repository\n      );\n      this.getInjections();\n    }\n    let isFirstLine;\n    if (!prevState || prevState === StateStackImpl.NULL) {\n      isFirstLine = true;\n      const rawDefaultMetadata = this._basicScopeAttributesProvider.getDefaultAttributes();\n      const defaultStyle = this.themeProvider.getDefaults();\n      const defaultMetadata = EncodedTokenMetadata.set(\n        0,\n        rawDefaultMetadata.languageId,\n        rawDefaultMetadata.tokenType,\n        null,\n        defaultStyle.fontStyle,\n        defaultStyle.foregroundId,\n        defaultStyle.backgroundId\n      );\n      const rootScopeName = this.getRule(this._rootId).getName(\n        null,\n        null\n      );\n      let scopeList;\n      if (rootScopeName) {\n        scopeList = AttributedScopeStack.createRootAndLookUpScopeName(\n          rootScopeName,\n          defaultMetadata,\n          this\n        );\n      } else {\n        scopeList = AttributedScopeStack.createRoot(\n          \"unknown\",\n          defaultMetadata\n        );\n      }\n      prevState = new StateStackImpl(\n        null,\n        this._rootId,\n        -1,\n        -1,\n        false,\n        null,\n        scopeList,\n        scopeList\n      );\n    } else {\n      isFirstLine = false;\n      prevState.reset();\n    }\n    lineText = lineText + \"\\n\";\n    const onigLineText = this.createOnigString(lineText);\n    const lineLength = onigLineText.content.length;\n    const lineTokens = new LineTokens(\n      emitBinaryTokens,\n      lineText,\n      this._tokenTypeMatchers,\n      this.balancedBracketSelectors\n    );\n    const r = _tokenizeString(\n      this,\n      onigLineText,\n      isFirstLine,\n      0,\n      prevState,\n      lineTokens,\n      true,\n      timeLimit\n    );\n    disposeOnigString(onigLineText);\n    return {\n      lineLength,\n      lineTokens,\n      ruleStack: r.stack,\n      stoppedEarly: r.stoppedEarly\n    };\n  }\n};\nfunction initGrammar(grammar, base) {\n  grammar = clone(grammar);\n  grammar.repository = grammar.repository || {};\n  grammar.repository.$self = {\n    $vscodeTextmateLocation: grammar.$vscodeTextmateLocation,\n    patterns: grammar.patterns,\n    name: grammar.scopeName\n  };\n  grammar.repository.$base = base || grammar.repository.$self;\n  return grammar;\n}\nvar AttributedScopeStack = class _AttributedScopeStack {\n  /**\n   * Invariant:\n   * ```\n   * if (parent && !scopePath.extends(parent.scopePath)) {\n   * \tthrow new Error();\n   * }\n   * ```\n   */\n  constructor(parent, scopePath, tokenAttributes) {\n    this.parent = parent;\n    this.scopePath = scopePath;\n    this.tokenAttributes = tokenAttributes;\n  }\n  static fromExtension(namesScopeList, contentNameScopesList) {\n    let current = namesScopeList;\n    let scopeNames = namesScopeList?.scopePath ?? null;\n    for (const frame of contentNameScopesList) {\n      scopeNames = ScopeStack.push(scopeNames, frame.scopeNames);\n      current = new _AttributedScopeStack(current, scopeNames, frame.encodedTokenAttributes);\n    }\n    return current;\n  }\n  static createRoot(scopeName, tokenAttributes) {\n    return new _AttributedScopeStack(null, new ScopeStack(null, scopeName), tokenAttributes);\n  }\n  static createRootAndLookUpScopeName(scopeName, tokenAttributes, grammar) {\n    const rawRootMetadata = grammar.getMetadataForScope(scopeName);\n    const scopePath = new ScopeStack(null, scopeName);\n    const rootStyle = grammar.themeProvider.themeMatch(scopePath);\n    const resolvedTokenAttributes = _AttributedScopeStack.mergeAttributes(\n      tokenAttributes,\n      rawRootMetadata,\n      rootStyle\n    );\n    return new _AttributedScopeStack(null, scopePath, resolvedTokenAttributes);\n  }\n  get scopeName() {\n    return this.scopePath.scopeName;\n  }\n  toString() {\n    return this.getScopeNames().join(\" \");\n  }\n  equals(other) {\n    return _AttributedScopeStack.equals(this, other);\n  }\n  static equals(a, b) {\n    do {\n      if (a === b) {\n        return true;\n      }\n      if (!a && !b) {\n        return true;\n      }\n      if (!a || !b) {\n        return false;\n      }\n      if (a.scopeName !== b.scopeName || a.tokenAttributes !== b.tokenAttributes) {\n        return false;\n      }\n      a = a.parent;\n      b = b.parent;\n    } while (true);\n  }\n  static mergeAttributes(existingTokenAttributes, basicScopeAttributes, styleAttributes) {\n    let fontStyle = -1 /* NotSet */;\n    let foreground = 0;\n    let background = 0;\n    if (styleAttributes !== null) {\n      fontStyle = styleAttributes.fontStyle;\n      foreground = styleAttributes.foregroundId;\n      background = styleAttributes.backgroundId;\n    }\n    return EncodedTokenMetadata.set(\n      existingTokenAttributes,\n      basicScopeAttributes.languageId,\n      basicScopeAttributes.tokenType,\n      null,\n      fontStyle,\n      foreground,\n      background\n    );\n  }\n  pushAttributed(scopePath, grammar) {\n    if (scopePath === null) {\n      return this;\n    }\n    if (scopePath.indexOf(\" \") === -1) {\n      return _AttributedScopeStack._pushAttributed(this, scopePath, grammar);\n    }\n    const scopes = scopePath.split(/ /g);\n    let result = this;\n    for (const scope of scopes) {\n      result = _AttributedScopeStack._pushAttributed(result, scope, grammar);\n    }\n    return result;\n  }\n  static _pushAttributed(target, scopeName, grammar) {\n    const rawMetadata = grammar.getMetadataForScope(scopeName);\n    const newPath = target.scopePath.push(scopeName);\n    const scopeThemeMatchResult = grammar.themeProvider.themeMatch(newPath);\n    const metadata = _AttributedScopeStack.mergeAttributes(\n      target.tokenAttributes,\n      rawMetadata,\n      scopeThemeMatchResult\n    );\n    return new _AttributedScopeStack(target, newPath, metadata);\n  }\n  getScopeNames() {\n    return this.scopePath.getSegments();\n  }\n  getExtensionIfDefined(base) {\n    const result = [];\n    let self = this;\n    while (self && self !== base) {\n      result.push({\n        encodedTokenAttributes: self.tokenAttributes,\n        scopeNames: self.scopePath.getExtensionIfDefined(self.parent?.scopePath ?? null)\n      });\n      self = self.parent;\n    }\n    return self === base ? result.reverse() : void 0;\n  }\n};\nvar StateStackImpl = class _StateStackImpl {\n  /**\n   * Invariant:\n   * ```\n   * if (contentNameScopesList !== nameScopesList && contentNameScopesList?.parent !== nameScopesList) {\n   * \tthrow new Error();\n   * }\n   * if (this.parent && !nameScopesList.extends(this.parent.contentNameScopesList)) {\n   * \tthrow new Error();\n   * }\n   * ```\n   */\n  constructor(parent, ruleId, enterPos, anchorPos, beginRuleCapturedEOL, endRule, nameScopesList, contentNameScopesList) {\n    this.parent = parent;\n    this.ruleId = ruleId;\n    this.beginRuleCapturedEOL = beginRuleCapturedEOL;\n    this.endRule = endRule;\n    this.nameScopesList = nameScopesList;\n    this.contentNameScopesList = contentNameScopesList;\n    this.depth = this.parent ? this.parent.depth + 1 : 1;\n    this._enterPos = enterPos;\n    this._anchorPos = anchorPos;\n  }\n  _stackElementBrand = void 0;\n  // TODO remove me\n  static NULL = new _StateStackImpl(\n    null,\n    0,\n    0,\n    0,\n    false,\n    null,\n    null,\n    null\n  );\n  /**\n   * The position on the current line where this state was pushed.\n   * This is relevant only while tokenizing a line, to detect endless loops.\n   * Its value is meaningless across lines.\n   */\n  _enterPos;\n  /**\n   * The captured anchor position when this stack element was pushed.\n   * This is relevant only while tokenizing a line, to restore the anchor position when popping.\n   * Its value is meaningless across lines.\n   */\n  _anchorPos;\n  /**\n   * The depth of the stack.\n   */\n  depth;\n  equals(other) {\n    if (other === null) {\n      return false;\n    }\n    return _StateStackImpl._equals(this, other);\n  }\n  static _equals(a, b) {\n    if (a === b) {\n      return true;\n    }\n    if (!this._structuralEquals(a, b)) {\n      return false;\n    }\n    return AttributedScopeStack.equals(a.contentNameScopesList, b.contentNameScopesList);\n  }\n  /**\n   * A structural equals check. Does not take into account `scopes`.\n   */\n  static _structuralEquals(a, b) {\n    do {\n      if (a === b) {\n        return true;\n      }\n      if (!a && !b) {\n        return true;\n      }\n      if (!a || !b) {\n        return false;\n      }\n      if (a.depth !== b.depth || a.ruleId !== b.ruleId || a.endRule !== b.endRule) {\n        return false;\n      }\n      a = a.parent;\n      b = b.parent;\n    } while (true);\n  }\n  clone() {\n    return this;\n  }\n  static _reset(el) {\n    while (el) {\n      el._enterPos = -1;\n      el._anchorPos = -1;\n      el = el.parent;\n    }\n  }\n  reset() {\n    _StateStackImpl._reset(this);\n  }\n  pop() {\n    return this.parent;\n  }\n  safePop() {\n    if (this.parent) {\n      return this.parent;\n    }\n    return this;\n  }\n  push(ruleId, enterPos, anchorPos, beginRuleCapturedEOL, endRule, nameScopesList, contentNameScopesList) {\n    return new _StateStackImpl(\n      this,\n      ruleId,\n      enterPos,\n      anchorPos,\n      beginRuleCapturedEOL,\n      endRule,\n      nameScopesList,\n      contentNameScopesList\n    );\n  }\n  getEnterPos() {\n    return this._enterPos;\n  }\n  getAnchorPos() {\n    return this._anchorPos;\n  }\n  getRule(grammar) {\n    return grammar.getRule(this.ruleId);\n  }\n  toString() {\n    const r = [];\n    this._writeString(r, 0);\n    return \"[\" + r.join(\",\") + \"]\";\n  }\n  _writeString(res, outIndex) {\n    if (this.parent) {\n      outIndex = this.parent._writeString(res, outIndex);\n    }\n    res[outIndex++] = `(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`;\n    return outIndex;\n  }\n  withContentNameScopesList(contentNameScopeStack) {\n    if (this.contentNameScopesList === contentNameScopeStack) {\n      return this;\n    }\n    return this.parent.push(\n      this.ruleId,\n      this._enterPos,\n      this._anchorPos,\n      this.beginRuleCapturedEOL,\n      this.endRule,\n      this.nameScopesList,\n      contentNameScopeStack\n    );\n  }\n  withEndRule(endRule) {\n    if (this.endRule === endRule) {\n      return this;\n    }\n    return new _StateStackImpl(\n      this.parent,\n      this.ruleId,\n      this._enterPos,\n      this._anchorPos,\n      this.beginRuleCapturedEOL,\n      endRule,\n      this.nameScopesList,\n      this.contentNameScopesList\n    );\n  }\n  // Used to warn of endless loops\n  hasSameRuleAs(other) {\n    let el = this;\n    while (el && el._enterPos === other._enterPos) {\n      if (el.ruleId === other.ruleId) {\n        return true;\n      }\n      el = el.parent;\n    }\n    return false;\n  }\n  toStateStackFrame() {\n    return {\n      ruleId: ruleIdToNumber(this.ruleId),\n      beginRuleCapturedEOL: this.beginRuleCapturedEOL,\n      endRule: this.endRule,\n      nameScopesList: this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList ?? null) ?? [],\n      contentNameScopesList: this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList) ?? []\n    };\n  }\n  static pushFrame(self, frame) {\n    const namesScopeList = AttributedScopeStack.fromExtension(self?.nameScopesList ?? null, frame.nameScopesList);\n    return new _StateStackImpl(\n      self,\n      ruleIdFromNumber(frame.ruleId),\n      frame.enterPos ?? -1,\n      frame.anchorPos ?? -1,\n      frame.beginRuleCapturedEOL,\n      frame.endRule,\n      namesScopeList,\n      AttributedScopeStack.fromExtension(namesScopeList, frame.contentNameScopesList)\n    );\n  }\n};\nvar BalancedBracketSelectors = class {\n  balancedBracketScopes;\n  unbalancedBracketScopes;\n  allowAny = false;\n  constructor(balancedBracketScopes, unbalancedBracketScopes) {\n    this.balancedBracketScopes = balancedBracketScopes.flatMap(\n      (selector) => {\n        if (selector === \"*\") {\n          this.allowAny = true;\n          return [];\n        }\n        return createMatchers(selector, nameMatcher).map((m) => m.matcher);\n      }\n    );\n    this.unbalancedBracketScopes = unbalancedBracketScopes.flatMap(\n      (selector) => createMatchers(selector, nameMatcher).map((m) => m.matcher)\n    );\n  }\n  get matchesAlways() {\n    return this.allowAny && this.unbalancedBracketScopes.length === 0;\n  }\n  get matchesNever() {\n    return this.balancedBracketScopes.length === 0 && !this.allowAny;\n  }\n  match(scopes) {\n    for (const excluder of this.unbalancedBracketScopes) {\n      if (excluder(scopes)) {\n        return false;\n      }\n    }\n    for (const includer of this.balancedBracketScopes) {\n      if (includer(scopes)) {\n        return true;\n      }\n    }\n    return this.allowAny;\n  }\n};\nvar LineTokens = class {\n  constructor(emitBinaryTokens, lineText, tokenTypeOverrides, balancedBracketSelectors) {\n    this.balancedBracketSelectors = balancedBracketSelectors;\n    this._emitBinaryTokens = emitBinaryTokens;\n    this._tokenTypeOverrides = tokenTypeOverrides;\n    if (false) {\n      this._lineText = lineText;\n    } else {\n      this._lineText = null;\n    }\n    this._tokens = [];\n    this._binaryTokens = [];\n    this._lastTokenEndIndex = 0;\n  }\n  _emitBinaryTokens;\n  /**\n   * defined only if `false`.\n   */\n  _lineText;\n  /**\n   * used only if `_emitBinaryTokens` is false.\n   */\n  _tokens;\n  /**\n   * used only if `_emitBinaryTokens` is true.\n   */\n  _binaryTokens;\n  _lastTokenEndIndex;\n  _tokenTypeOverrides;\n  produce(stack, endIndex) {\n    this.produceFromScopes(stack.contentNameScopesList, endIndex);\n  }\n  produceFromScopes(scopesList, endIndex) {\n    if (this._lastTokenEndIndex >= endIndex) {\n      return;\n    }\n    if (this._emitBinaryTokens) {\n      let metadata = scopesList?.tokenAttributes ?? 0;\n      let containsBalancedBrackets = false;\n      if (this.balancedBracketSelectors?.matchesAlways) {\n        containsBalancedBrackets = true;\n      }\n      if (this._tokenTypeOverrides.length > 0 || this.balancedBracketSelectors && !this.balancedBracketSelectors.matchesAlways && !this.balancedBracketSelectors.matchesNever) {\n        const scopes2 = scopesList?.getScopeNames() ?? [];\n        for (const tokenType of this._tokenTypeOverrides) {\n          if (tokenType.matcher(scopes2)) {\n            metadata = EncodedTokenMetadata.set(\n              metadata,\n              0,\n              toOptionalTokenType(tokenType.type),\n              null,\n              -1 /* NotSet */,\n              0,\n              0\n            );\n          }\n        }\n        if (this.balancedBracketSelectors) {\n          containsBalancedBrackets = this.balancedBracketSelectors.match(scopes2);\n        }\n      }\n      if (containsBalancedBrackets) {\n        metadata = EncodedTokenMetadata.set(\n          metadata,\n          0,\n          8 /* NotSet */,\n          containsBalancedBrackets,\n          -1 /* NotSet */,\n          0,\n          0\n        );\n      }\n      if (this._binaryTokens.length > 0 && this._binaryTokens[this._binaryTokens.length - 1] === metadata) {\n        this._lastTokenEndIndex = endIndex;\n        return;\n      }\n      this._binaryTokens.push(this._lastTokenEndIndex);\n      this._binaryTokens.push(metadata);\n      this._lastTokenEndIndex = endIndex;\n      return;\n    }\n    const scopes = scopesList?.getScopeNames() ?? [];\n    this._tokens.push({\n      startIndex: this._lastTokenEndIndex,\n      endIndex,\n      // value: lineText.substring(lastTokenEndIndex, endIndex),\n      scopes\n    });\n    this._lastTokenEndIndex = endIndex;\n  }\n  getResult(stack, lineLength) {\n    if (this._tokens.length > 0 && this._tokens[this._tokens.length - 1].startIndex === lineLength - 1) {\n      this._tokens.pop();\n    }\n    if (this._tokens.length === 0) {\n      this._lastTokenEndIndex = -1;\n      this.produce(stack, lineLength);\n      this._tokens[this._tokens.length - 1].startIndex = 0;\n    }\n    return this._tokens;\n  }\n  getBinaryResult(stack, lineLength) {\n    if (this._binaryTokens.length > 0 && this._binaryTokens[this._binaryTokens.length - 2] === lineLength - 1) {\n      this._binaryTokens.pop();\n      this._binaryTokens.pop();\n    }\n    if (this._binaryTokens.length === 0) {\n      this._lastTokenEndIndex = -1;\n      this.produce(stack, lineLength);\n      this._binaryTokens[this._binaryTokens.length - 2] = 0;\n    }\n    const result = new Uint32Array(this._binaryTokens.length);\n    for (let i = 0, len = this._binaryTokens.length; i < len; i++) {\n      result[i] = this._binaryTokens[i];\n    }\n    return result;\n  }\n};\n\n// src/registry.ts\nvar SyncRegistry = class {\n  constructor(theme, _onigLib) {\n    this._onigLib = _onigLib;\n    this._theme = theme;\n  }\n  _grammars = /* @__PURE__ */ new Map();\n  _rawGrammars = /* @__PURE__ */ new Map();\n  _injectionGrammars = /* @__PURE__ */ new Map();\n  _theme;\n  dispose() {\n    for (const grammar of this._grammars.values()) {\n      grammar.dispose();\n    }\n  }\n  setTheme(theme) {\n    this._theme = theme;\n  }\n  getColorMap() {\n    return this._theme.getColorMap();\n  }\n  /**\n   * Add `grammar` to registry and return a list of referenced scope names\n   */\n  addGrammar(grammar, injectionScopeNames) {\n    this._rawGrammars.set(grammar.scopeName, grammar);\n    if (injectionScopeNames) {\n      this._injectionGrammars.set(grammar.scopeName, injectionScopeNames);\n    }\n  }\n  /**\n   * Lookup a raw grammar.\n   */\n  lookup(scopeName) {\n    return this._rawGrammars.get(scopeName);\n  }\n  /**\n   * Returns the injections for the given grammar\n   */\n  injections(targetScope) {\n    return this._injectionGrammars.get(targetScope);\n  }\n  /**\n   * Get the default theme settings\n   */\n  getDefaults() {\n    return this._theme.getDefaults();\n  }\n  /**\n   * Match a scope in the theme.\n   */\n  themeMatch(scopePath) {\n    return this._theme.match(scopePath);\n  }\n  /**\n   * Lookup a grammar.\n   */\n  grammarForScopeName(scopeName, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors) {\n    if (!this._grammars.has(scopeName)) {\n      let rawGrammar = this._rawGrammars.get(scopeName);\n      if (!rawGrammar) {\n        return null;\n      }\n      this._grammars.set(scopeName, createGrammar(\n        scopeName,\n        rawGrammar,\n        initialLanguage,\n        embeddedLanguages,\n        tokenTypes,\n        balancedBracketSelectors,\n        this,\n        this._onigLib\n      ));\n    }\n    return this._grammars.get(scopeName);\n  }\n};\n\n// src/index.ts\nvar Registry = class {\n  _options;\n  _syncRegistry;\n  _ensureGrammarCache;\n  constructor(options) {\n    this._options = options;\n    this._syncRegistry = new SyncRegistry(\n      Theme.createFromRawTheme(options.theme, options.colorMap),\n      options.onigLib\n    );\n    this._ensureGrammarCache = /* @__PURE__ */ new Map();\n  }\n  dispose() {\n    this._syncRegistry.dispose();\n  }\n  /**\n   * Change the theme. Once called, no previous `ruleStack` should be used anymore.\n   */\n  setTheme(theme, colorMap) {\n    this._syncRegistry.setTheme(Theme.createFromRawTheme(theme, colorMap));\n  }\n  /**\n   * Returns a lookup array for color ids.\n   */\n  getColorMap() {\n    return this._syncRegistry.getColorMap();\n  }\n  /**\n   * Load the grammar for `scopeName` and all referenced included grammars asynchronously.\n   * Please do not use language id 0.\n   */\n  loadGrammarWithEmbeddedLanguages(initialScopeName, initialLanguage, embeddedLanguages) {\n    return this.loadGrammarWithConfiguration(initialScopeName, initialLanguage, { embeddedLanguages });\n  }\n  /**\n   * Load the grammar for `scopeName` and all referenced included grammars asynchronously.\n   * Please do not use language id 0.\n   */\n  loadGrammarWithConfiguration(initialScopeName, initialLanguage, configuration) {\n    return this._loadGrammar(\n      initialScopeName,\n      initialLanguage,\n      configuration.embeddedLanguages,\n      configuration.tokenTypes,\n      new BalancedBracketSelectors(\n        configuration.balancedBracketSelectors || [],\n        configuration.unbalancedBracketSelectors || []\n      )\n    );\n  }\n  /**\n   * Load the grammar for `scopeName` and all referenced included grammars asynchronously.\n   */\n  loadGrammar(initialScopeName) {\n    return this._loadGrammar(initialScopeName, 0, null, null, null);\n  }\n  _loadGrammar(initialScopeName, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors) {\n    const dependencyProcessor = new ScopeDependencyProcessor(this._syncRegistry, initialScopeName);\n    while (dependencyProcessor.Q.length > 0) {\n      dependencyProcessor.Q.map((request) => this._loadSingleGrammar(request.scopeName));\n      dependencyProcessor.processQueue();\n    }\n    return this._grammarForScopeName(\n      initialScopeName,\n      initialLanguage,\n      embeddedLanguages,\n      tokenTypes,\n      balancedBracketSelectors\n    );\n  }\n  _loadSingleGrammar(scopeName) {\n    if (!this._ensureGrammarCache.has(scopeName)) {\n      this._doLoadSingleGrammar(scopeName);\n      this._ensureGrammarCache.set(scopeName, true);\n    }\n  }\n  _doLoadSingleGrammar(scopeName) {\n    const grammar = this._options.loadGrammar(scopeName);\n    if (grammar) {\n      const injections = typeof this._options.getInjections === \"function\" ? this._options.getInjections(scopeName) : void 0;\n      this._syncRegistry.addGrammar(grammar, injections);\n    }\n  }\n  /**\n   * Adds a rawGrammar.\n   */\n  addGrammar(rawGrammar, injections = [], initialLanguage = 0, embeddedLanguages = null) {\n    this._syncRegistry.addGrammar(rawGrammar, injections);\n    return this._grammarForScopeName(rawGrammar.scopeName, initialLanguage, embeddedLanguages);\n  }\n  /**\n   * Get the grammar for `scopeName`. The grammar must first be created via `loadGrammar` or `addGrammar`.\n   */\n  _grammarForScopeName(scopeName, initialLanguage = 0, embeddedLanguages = null, tokenTypes = null, balancedBracketSelectors = null) {\n    return this._syncRegistry.grammarForScopeName(\n      scopeName,\n      initialLanguage,\n      embeddedLanguages,\n      tokenTypes,\n      balancedBracketSelectors\n    );\n  }\n};\nvar INITIAL = StateStackImpl.NULL;\nexport {\n  EncodedTokenMetadata,\n  FindOption,\n  FontStyle,\n  INITIAL,\n  Registry,\n  Theme,\n  disposeOnigString\n};\n","function Diff() {}\nDiff.prototype = {\n  diff: function diff(oldString, newString) {\n    var _options$timeout;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = options.callback;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    this.options = options;\n    var self = this;\n\n    function done(value) {\n      if (callback) {\n        setTimeout(function () {\n          callback(undefined, value);\n        }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    } // Allow subclasses to massage the input prior to running\n\n\n    oldString = this.castInput(oldString);\n    newString = this.castInput(newString);\n    oldString = this.removeEmpty(this.tokenize(oldString));\n    newString = this.removeEmpty(this.tokenize(newString));\n    var newLen = newString.length,\n        oldLen = oldString.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n\n    if (options.maxEditLength) {\n      maxEditLength = Math.min(maxEditLength, options.maxEditLength);\n    }\n\n    var maxExecutionTime = (_options$timeout = options.timeout) !== null && _options$timeout !== void 0 ? _options$timeout : Infinity;\n    var abortAfterTimestamp = Date.now() + maxExecutionTime;\n    var bestPath = [{\n      oldPos: -1,\n      lastComponent: undefined\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var newPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n\n    if (bestPath[0].oldPos + 1 >= oldLen && newPos + 1 >= newLen) {\n      // Identity per the equality and tokenizer\n      return done([{\n        value: this.join(newString),\n        count: newString.length\n      }]);\n    } // Once we hit the right edge of the edit graph on some diagonal k, we can\n    // definitely reach the end of the edit graph in no more than k edits, so\n    // there's no point in considering any moves to diagonal k+1 any more (from\n    // which we're guaranteed to need at least k+1 more edits).\n    // Similarly, once we've reached the bottom of the edit graph, there's no\n    // point considering moves to lower diagonals.\n    // We record this fact by setting minDiagonalToConsider and\n    // maxDiagonalToConsider to some finite value once we've hit the edge of\n    // the edit graph.\n    // This optimization is not faithful to the original algorithm presented in\n    // Myers's paper, which instead pointlessly extends D-paths off the end of\n    // the edit graph - see page 7 of Myers's paper which notes this point\n    // explicitly and illustrates it with a diagram. This has major performance\n    // implications for some common scenarios. For instance, to compute a diff\n    // where the new text simply appends d characters on the end of the\n    // original text of length n, the true Myers algorithm will take O(n+d^2)\n    // time while this optimization needs only O(n+d) time.\n\n\n    var minDiagonalToConsider = -Infinity,\n        maxDiagonalToConsider = Infinity; // Main worker method. checks all permutations of a given edit length for acceptance.\n\n    function execEditLength() {\n      for (var diagonalPath = Math.max(minDiagonalToConsider, -editLength); diagonalPath <= Math.min(maxDiagonalToConsider, editLength); diagonalPath += 2) {\n        var basePath = void 0;\n        var removePath = bestPath[diagonalPath - 1],\n            addPath = bestPath[diagonalPath + 1];\n\n        if (removePath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = false;\n\n        if (addPath) {\n          // what newPos will be after we do an insertion:\n          var addPathNewPos = addPath.oldPos - diagonalPath;\n          canAdd = addPath && 0 <= addPathNewPos && addPathNewPos < newLen;\n        }\n\n        var canRemove = removePath && removePath.oldPos + 1 < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the old string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n        // TODO: Remove the `+ 1` here to make behavior match Myers algorithm\n        //       and prefer to order removals before insertions.\n\n\n        if (!canRemove || canAdd && removePath.oldPos + 1 < addPath.oldPos) {\n          basePath = self.addToPath(addPath, true, undefined, 0);\n        } else {\n          basePath = self.addToPath(removePath, undefined, true, 1);\n        }\n\n        newPos = self.extractCommon(basePath, newString, oldString, diagonalPath);\n\n        if (basePath.oldPos + 1 >= oldLen && newPos + 1 >= newLen) {\n          // If we have hit the end of both strings, then we are done\n          return done(buildValues(self, basePath.lastComponent, newString, oldString, self.useLongestToken));\n        } else {\n          bestPath[diagonalPath] = basePath;\n\n          if (basePath.oldPos + 1 >= oldLen) {\n            maxDiagonalToConsider = Math.min(maxDiagonalToConsider, diagonalPath - 1);\n          }\n\n          if (newPos + 1 >= newLen) {\n            minDiagonalToConsider = Math.max(minDiagonalToConsider, diagonalPath + 1);\n          }\n        }\n      }\n\n      editLength++;\n    } // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced, or until the edit length exceeds options.maxEditLength (if given),\n    // in which case it will return undefined.\n\n\n    if (callback) {\n      (function exec() {\n        setTimeout(function () {\n          if (editLength > maxEditLength || Date.now() > abortAfterTimestamp) {\n            return callback();\n          }\n\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      })();\n    } else {\n      while (editLength <= maxEditLength && Date.now() <= abortAfterTimestamp) {\n        var ret = execEditLength();\n\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n  addToPath: function addToPath(path, added, removed, oldPosInc) {\n    var last = path.lastComponent;\n\n    if (last && last.added === added && last.removed === removed) {\n      return {\n        oldPos: path.oldPos + oldPosInc,\n        lastComponent: {\n          count: last.count + 1,\n          added: added,\n          removed: removed,\n          previousComponent: last.previousComponent\n        }\n      };\n    } else {\n      return {\n        oldPos: path.oldPos + oldPosInc,\n        lastComponent: {\n          count: 1,\n          added: added,\n          removed: removed,\n          previousComponent: last\n        }\n      };\n    }\n  },\n  extractCommon: function extractCommon(basePath, newString, oldString, diagonalPath) {\n    var newLen = newString.length,\n        oldLen = oldString.length,\n        oldPos = basePath.oldPos,\n        newPos = oldPos - diagonalPath,\n        commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.lastComponent = {\n        count: commonCount,\n        previousComponent: basePath.lastComponent\n      };\n    }\n\n    basePath.oldPos = oldPos;\n    return newPos;\n  },\n  equals: function equals(left, right) {\n    if (this.options.comparator) {\n      return this.options.comparator(left, right);\n    } else {\n      return left === right || this.options.ignoreCase && left.toLowerCase() === right.toLowerCase();\n    }\n  },\n  removeEmpty: function removeEmpty(array) {\n    var ret = [];\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n\n    return ret;\n  },\n  castInput: function castInput(value) {\n    return value;\n  },\n  tokenize: function tokenize(value) {\n    return value.split('');\n  },\n  join: function join(chars) {\n    return chars.join('');\n  }\n};\n\nfunction buildValues(diff, lastComponent, newString, oldString, useLongestToken) {\n  // First we convert our linked list of components in reverse order to an\n  // array in the right order:\n  var components = [];\n  var nextComponent;\n\n  while (lastComponent) {\n    components.push(lastComponent);\n    nextComponent = lastComponent.previousComponent;\n    delete lastComponent.previousComponent;\n    lastComponent = nextComponent;\n  }\n\n  components.reverse();\n  var componentPos = 0,\n      componentLen = components.length,\n      newPos = 0,\n      oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        var value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function (value, i) {\n          var oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count; // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n\n      if (componentPos && components[componentPos - 1].added) {\n        var tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  } // Special case handle for when one terminal is ignored (i.e. whitespace).\n  // For this case we merge the terminal into the prior string and drop the change.\n  // This is only available for string mode.\n\n\n  var finalComponent = components[componentLen - 1];\n\n  if (componentLen > 1 && typeof finalComponent.value === 'string' && (finalComponent.added || finalComponent.removed) && diff.equals('', finalComponent.value)) {\n    components[componentLen - 2].value += finalComponent.value;\n    components.pop();\n  }\n\n  return components;\n}\n\nvar characterDiff = new Diff();\nfunction diffChars(oldStr, newStr, options) {\n  return characterDiff.diff(oldStr, newStr, options);\n}\n\nfunction generateOptions(options, defaults) {\n  if (typeof options === 'function') {\n    defaults.callback = options;\n  } else if (options) {\n    for (var name in options) {\n      /* istanbul ignore else */\n      if (options.hasOwnProperty(name)) {\n        defaults[name] = options[name];\n      }\n    }\n  }\n\n  return defaults;\n}\n\n//\n// Ranges and exceptions:\n// Latin-1 Supplement, 008000FF\n//  - U+00D7   Multiplication sign\n//  - U+00F7   Division sign\n// Latin Extended-A, 0100017F\n// Latin Extended-B, 0180024F\n// IPA Extensions, 025002AF\n// Spacing Modifier Letters, 02B002FF\n//  - U+02C7   &#711;  Caron\n//  - U+02D8   &#728;  Breve\n//  - U+02D9   &#729;  Dot Above\n//  - U+02DA   &#730;  Ring Above\n//  - U+02DB   &#731;  Ogonek\n//  - U+02DC   &#732;  Small Tilde\n//  - U+02DD   &#733;  Double Acute Accent\n// Latin Extended Additional, 1E001EFF\n\nvar extendedWordChars = /^[A-Za-z\\xC0-\\u02C6\\u02C8-\\u02D7\\u02DE-\\u02FF\\u1E00-\\u1EFF]+$/;\nvar reWhitespace = /\\S/;\nvar wordDiff = new Diff();\n\nwordDiff.equals = function (left, right) {\n  if (this.options.ignoreCase) {\n    left = left.toLowerCase();\n    right = right.toLowerCase();\n  }\n\n  return left === right || this.options.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right);\n};\n\nwordDiff.tokenize = function (value) {\n  // All whitespace symbols except newline group into one token, each newline - in separate token\n  var tokens = value.split(/([^\\S\\r\\n]+|[()[\\]{}'\"\\r\\n]|\\b)/); // Join the boundary splits that we do not consider to be boundaries. This is primarily the extended Latin character set.\n\n  for (var i = 0; i < tokens.length - 1; i++) {\n    // If we have an empty string in the next field and we have only word chars before and after, merge\n    if (!tokens[i + 1] && tokens[i + 2] && extendedWordChars.test(tokens[i]) && extendedWordChars.test(tokens[i + 2])) {\n      tokens[i] += tokens[i + 2];\n      tokens.splice(i + 1, 2);\n      i--;\n    }\n  }\n\n  return tokens;\n};\n\nfunction diffWords(oldStr, newStr, options) {\n  options = generateOptions(options, {\n    ignoreWhitespace: true\n  });\n  return wordDiff.diff(oldStr, newStr, options);\n}\nfunction diffWordsWithSpace(oldStr, newStr, options) {\n  return wordDiff.diff(oldStr, newStr, options);\n}\n\nvar lineDiff = new Diff();\n\nlineDiff.tokenize = function (value) {\n  if (this.options.stripTrailingCr) {\n    // remove one \\r before \\n to match GNU diff's --strip-trailing-cr behavior\n    value = value.replace(/\\r\\n/g, '\\n');\n  }\n\n  var retLines = [],\n      linesAndNewlines = value.split(/(\\n|\\r\\n)/); // Ignore the final empty token that occurs if the string ends with a new line\n\n  if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n    linesAndNewlines.pop();\n  } // Merge the content and line separators into single tokens\n\n\n  for (var i = 0; i < linesAndNewlines.length; i++) {\n    var line = linesAndNewlines[i];\n\n    if (i % 2 && !this.options.newlineIsToken) {\n      retLines[retLines.length - 1] += line;\n    } else {\n      if (this.options.ignoreWhitespace) {\n        line = line.trim();\n      }\n\n      retLines.push(line);\n    }\n  }\n\n  return retLines;\n};\n\nfunction diffLines(oldStr, newStr, callback) {\n  return lineDiff.diff(oldStr, newStr, callback);\n}\nfunction diffTrimmedLines(oldStr, newStr, callback) {\n  var options = generateOptions(callback, {\n    ignoreWhitespace: true\n  });\n  return lineDiff.diff(oldStr, newStr, options);\n}\n\nvar sentenceDiff = new Diff();\n\nsentenceDiff.tokenize = function (value) {\n  return value.split(/(\\S.+?[.!?])(?=\\s+|$)/);\n};\n\nfunction diffSentences(oldStr, newStr, callback) {\n  return sentenceDiff.diff(oldStr, newStr, callback);\n}\n\nvar cssDiff = new Diff();\n\ncssDiff.tokenize = function (value) {\n  return value.split(/([{}:;,]|\\s+)/);\n};\n\nfunction diffCss(oldStr, newStr, callback) {\n  return cssDiff.diff(oldStr, newStr, callback);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar objectPrototypeToString = Object.prototype.toString;\nvar jsonDiff = new Diff(); // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n// dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n\njsonDiff.useLongestToken = true;\njsonDiff.tokenize = lineDiff.tokenize;\n\njsonDiff.castInput = function (value) {\n  var _this$options = this.options,\n      undefinedReplacement = _this$options.undefinedReplacement,\n      _this$options$stringi = _this$options.stringifyReplacer,\n      stringifyReplacer = _this$options$stringi === void 0 ? function (k, v) {\n    return typeof v === 'undefined' ? undefinedReplacement : v;\n  } : _this$options$stringi;\n  return typeof value === 'string' ? value : JSON.stringify(canonicalize(value, null, null, stringifyReplacer), stringifyReplacer, '  ');\n};\n\njsonDiff.equals = function (left, right) {\n  return Diff.prototype.equals.call(jsonDiff, left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n};\n\nfunction diffJson(oldObj, newObj, options) {\n  return jsonDiff.diff(oldObj, newObj, options);\n} // This function handles the presence of circular references by bailing out when encountering an\n// object that is already on the \"stack\" of items being processed. Accepts an optional replacer\n\nfunction canonicalize(obj, stack, replacementStack, replacer, key) {\n  stack = stack || [];\n  replacementStack = replacementStack || [];\n\n  if (replacer) {\n    obj = replacer(key, obj);\n  }\n\n  var i;\n\n  for (i = 0; i < stack.length; i += 1) {\n    if (stack[i] === obj) {\n      return replacementStack[i];\n    }\n  }\n\n  var canonicalizedObj;\n\n  if ('[object Array]' === objectPrototypeToString.call(obj)) {\n    stack.push(obj);\n    canonicalizedObj = new Array(obj.length);\n    replacementStack.push(canonicalizedObj);\n\n    for (i = 0; i < obj.length; i += 1) {\n      canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack, replacer, key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n    return canonicalizedObj;\n  }\n\n  if (obj && obj.toJSON) {\n    obj = obj.toJSON();\n  }\n\n  if (_typeof(obj) === 'object' && obj !== null) {\n    stack.push(obj);\n    canonicalizedObj = {};\n    replacementStack.push(canonicalizedObj);\n\n    var sortedKeys = [],\n        _key;\n\n    for (_key in obj) {\n      /* istanbul ignore else */\n      if (obj.hasOwnProperty(_key)) {\n        sortedKeys.push(_key);\n      }\n    }\n\n    sortedKeys.sort();\n\n    for (i = 0; i < sortedKeys.length; i += 1) {\n      _key = sortedKeys[i];\n      canonicalizedObj[_key] = canonicalize(obj[_key], stack, replacementStack, replacer, _key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n  } else {\n    canonicalizedObj = obj;\n  }\n\n  return canonicalizedObj;\n}\n\nvar arrayDiff = new Diff();\n\narrayDiff.tokenize = function (value) {\n  return value.slice();\n};\n\narrayDiff.join = arrayDiff.removeEmpty = function (value) {\n  return value;\n};\n\nfunction diffArrays(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n\nfunction parsePatch(uniDiff) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var diffstr = uniDiff.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = uniDiff.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      list = [],\n      i = 0;\n\n  function parseIndex() {\n    var index = {};\n    list.push(index); // Parse diff metadata\n\n    while (i < diffstr.length) {\n      var line = diffstr[i]; // File header found, end parsing diff metadata\n\n      if (/^(\\-\\-\\-|\\+\\+\\+|@@)\\s/.test(line)) {\n        break;\n      } // Diff index\n\n\n      var header = /^(?:Index:|diff(?: -r \\w+)+)\\s+(.+?)\\s*$/.exec(line);\n\n      if (header) {\n        index.index = header[1];\n      }\n\n      i++;\n    } // Parse file headers if they are defined. Unified diff requires them, but\n    // there's no technical issues to have an isolated hunk without file header\n\n\n    parseFileHeader(index);\n    parseFileHeader(index); // Parse hunks\n\n    index.hunks = [];\n\n    while (i < diffstr.length) {\n      var _line = diffstr[i];\n\n      if (/^(Index:|diff|\\-\\-\\-|\\+\\+\\+)\\s/.test(_line)) {\n        break;\n      } else if (/^@@/.test(_line)) {\n        index.hunks.push(parseHunk());\n      } else if (_line && options.strict) {\n        // Ignore unexpected content unless in strict mode\n        throw new Error('Unknown line ' + (i + 1) + ' ' + JSON.stringify(_line));\n      } else {\n        i++;\n      }\n    }\n  } // Parses the --- and +++ headers, if none are found, no lines\n  // are consumed.\n\n\n  function parseFileHeader(index) {\n    var fileHeader = /^(---|\\+\\+\\+)\\s+(.*)$/.exec(diffstr[i]);\n\n    if (fileHeader) {\n      var keyPrefix = fileHeader[1] === '---' ? 'old' : 'new';\n      var data = fileHeader[2].split('\\t', 2);\n      var fileName = data[0].replace(/\\\\\\\\/g, '\\\\');\n\n      if (/^\".*\"$/.test(fileName)) {\n        fileName = fileName.substr(1, fileName.length - 2);\n      }\n\n      index[keyPrefix + 'FileName'] = fileName;\n      index[keyPrefix + 'Header'] = (data[1] || '').trim();\n      i++;\n    }\n  } // Parses a hunk\n  // This assumes that we are at the start of a hunk.\n\n\n  function parseHunk() {\n    var chunkHeaderIndex = i,\n        chunkHeaderLine = diffstr[i++],\n        chunkHeader = chunkHeaderLine.split(/@@ -(\\d+)(?:,(\\d+))? \\+(\\d+)(?:,(\\d+))? @@/);\n    var hunk = {\n      oldStart: +chunkHeader[1],\n      oldLines: typeof chunkHeader[2] === 'undefined' ? 1 : +chunkHeader[2],\n      newStart: +chunkHeader[3],\n      newLines: typeof chunkHeader[4] === 'undefined' ? 1 : +chunkHeader[4],\n      lines: [],\n      linedelimiters: []\n    }; // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n\n    if (hunk.oldLines === 0) {\n      hunk.oldStart += 1;\n    }\n\n    if (hunk.newLines === 0) {\n      hunk.newStart += 1;\n    }\n\n    var addCount = 0,\n        removeCount = 0;\n\n    for (; i < diffstr.length; i++) {\n      // Lines starting with '---' could be mistaken for the \"remove line\" operation\n      // But they could be the header for the next file. Therefore prune such cases out.\n      if (diffstr[i].indexOf('--- ') === 0 && i + 2 < diffstr.length && diffstr[i + 1].indexOf('+++ ') === 0 && diffstr[i + 2].indexOf('@@') === 0) {\n        break;\n      }\n\n      var operation = diffstr[i].length == 0 && i != diffstr.length - 1 ? ' ' : diffstr[i][0];\n\n      if (operation === '+' || operation === '-' || operation === ' ' || operation === '\\\\') {\n        hunk.lines.push(diffstr[i]);\n        hunk.linedelimiters.push(delimiters[i] || '\\n');\n\n        if (operation === '+') {\n          addCount++;\n        } else if (operation === '-') {\n          removeCount++;\n        } else if (operation === ' ') {\n          addCount++;\n          removeCount++;\n        }\n      } else {\n        break;\n      }\n    } // Handle the empty block count case\n\n\n    if (!addCount && hunk.newLines === 1) {\n      hunk.newLines = 0;\n    }\n\n    if (!removeCount && hunk.oldLines === 1) {\n      hunk.oldLines = 0;\n    } // Perform optional sanity checking\n\n\n    if (options.strict) {\n      if (addCount !== hunk.newLines) {\n        throw new Error('Added line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n\n      if (removeCount !== hunk.oldLines) {\n        throw new Error('Removed line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n    }\n\n    return hunk;\n  }\n\n  while (i < diffstr.length) {\n    parseIndex();\n  }\n\n  return list;\n}\n\n// Iterator that traverses in the range of [min, max], stepping\n// by distance from a given start position. I.e. for [0, 4], with\n// start of 2, this will iterate 2, 3, 1, 4, 0.\nfunction distanceIterator (start, minLine, maxLine) {\n  var wantForward = true,\n      backwardExhausted = false,\n      forwardExhausted = false,\n      localOffset = 1;\n  return function iterator() {\n    if (wantForward && !forwardExhausted) {\n      if (backwardExhausted) {\n        localOffset++;\n      } else {\n        wantForward = false;\n      } // Check if trying to fit beyond text length, and if not, check it fits\n      // after offset location (or desired location on first iteration)\n\n\n      if (start + localOffset <= maxLine) {\n        return localOffset;\n      }\n\n      forwardExhausted = true;\n    }\n\n    if (!backwardExhausted) {\n      if (!forwardExhausted) {\n        wantForward = true;\n      } // Check if trying to fit before text beginning, and if not, check it fits\n      // before offset location\n\n\n      if (minLine <= start - localOffset) {\n        return -localOffset++;\n      }\n\n      backwardExhausted = true;\n      return iterator();\n    } // We tried to fit hunk before text beginning and beyond text length, then\n    // hunk can't fit on the text. Return undefined\n\n  };\n}\n\nfunction applyPatch(source, uniDiff) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  if (Array.isArray(uniDiff)) {\n    if (uniDiff.length > 1) {\n      throw new Error('applyPatch only works with a single input.');\n    }\n\n    uniDiff = uniDiff[0];\n  } // Apply the diff to the input\n\n\n  var lines = source.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = source.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      hunks = uniDiff.hunks,\n      compareLine = options.compareLine || function (lineNumber, line, operation, patchContent) {\n    return line === patchContent;\n  },\n      errorCount = 0,\n      fuzzFactor = options.fuzzFactor || 0,\n      minLine = 0,\n      offset = 0,\n      removeEOFNL,\n      addEOFNL;\n  /**\n   * Checks if the hunk exactly fits on the provided location\n   */\n\n\n  function hunkFits(hunk, toPos) {\n    for (var j = 0; j < hunk.lines.length; j++) {\n      var line = hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line;\n\n      if (operation === ' ' || operation === '-') {\n        // Context sanity check\n        if (!compareLine(toPos + 1, lines[toPos], operation, content)) {\n          errorCount++;\n\n          if (errorCount > fuzzFactor) {\n            return false;\n          }\n        }\n\n        toPos++;\n      }\n    }\n\n    return true;\n  } // Search best fit offsets for each hunk based on the previous ones\n\n\n  for (var i = 0; i < hunks.length; i++) {\n    var hunk = hunks[i],\n        maxLine = lines.length - hunk.oldLines,\n        localOffset = 0,\n        toPos = offset + hunk.oldStart - 1;\n    var iterator = distanceIterator(toPos, minLine, maxLine);\n\n    for (; localOffset !== undefined; localOffset = iterator()) {\n      if (hunkFits(hunk, toPos + localOffset)) {\n        hunk.offset = offset += localOffset;\n        break;\n      }\n    }\n\n    if (localOffset === undefined) {\n      return false;\n    } // Set lower text limit to end of the current hunk, so next ones don't try\n    // to fit over already patched text\n\n\n    minLine = hunk.offset + hunk.oldStart + hunk.oldLines;\n  } // Apply patch hunks\n\n\n  var diffOffset = 0;\n\n  for (var _i = 0; _i < hunks.length; _i++) {\n    var _hunk = hunks[_i],\n        _toPos = _hunk.oldStart + _hunk.offset + diffOffset - 1;\n\n    diffOffset += _hunk.newLines - _hunk.oldLines;\n\n    for (var j = 0; j < _hunk.lines.length; j++) {\n      var line = _hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line,\n          delimiter = _hunk.linedelimiters && _hunk.linedelimiters[j] || '\\n';\n\n      if (operation === ' ') {\n        _toPos++;\n      } else if (operation === '-') {\n        lines.splice(_toPos, 1);\n        delimiters.splice(_toPos, 1);\n        /* istanbul ignore else */\n      } else if (operation === '+') {\n        lines.splice(_toPos, 0, content);\n        delimiters.splice(_toPos, 0, delimiter);\n        _toPos++;\n      } else if (operation === '\\\\') {\n        var previousOperation = _hunk.lines[j - 1] ? _hunk.lines[j - 1][0] : null;\n\n        if (previousOperation === '+') {\n          removeEOFNL = true;\n        } else if (previousOperation === '-') {\n          addEOFNL = true;\n        }\n      }\n    }\n  } // Handle EOFNL insertion/removal\n\n\n  if (removeEOFNL) {\n    while (!lines[lines.length - 1]) {\n      lines.pop();\n      delimiters.pop();\n    }\n  } else if (addEOFNL) {\n    lines.push('');\n    delimiters.push('\\n');\n  }\n\n  for (var _k = 0; _k < lines.length - 1; _k++) {\n    lines[_k] = lines[_k] + delimiters[_k];\n  }\n\n  return lines.join('');\n} // Wrapper that supports multiple file patches via callbacks.\n\nfunction applyPatches(uniDiff, options) {\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  var currentIndex = 0;\n\n  function processIndex() {\n    var index = uniDiff[currentIndex++];\n\n    if (!index) {\n      return options.complete();\n    }\n\n    options.loadFile(index, function (err, data) {\n      if (err) {\n        return options.complete(err);\n      }\n\n      var updatedContent = applyPatch(data, index, options);\n      options.patched(index, updatedContent, function (err) {\n        if (err) {\n          return options.complete(err);\n        }\n\n        processIndex();\n      });\n    });\n  }\n\n  processIndex();\n}\n\nfunction structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (typeof options.context === 'undefined') {\n    options.context = 4;\n  }\n\n  var diff = diffLines(oldStr, newStr, options);\n\n  if (!diff) {\n    return;\n  }\n\n  diff.push({\n    value: '',\n    lines: []\n  }); // Append an empty value to make cleanup easier\n\n  function contextLines(lines) {\n    return lines.map(function (entry) {\n      return ' ' + entry;\n    });\n  }\n\n  var hunks = [];\n  var oldRangeStart = 0,\n      newRangeStart = 0,\n      curRange = [],\n      oldLine = 1,\n      newLine = 1;\n\n  var _loop = function _loop(i) {\n    var current = diff[i],\n        lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n    current.lines = lines;\n\n    if (current.added || current.removed) {\n      var _curRange;\n\n      // If we have previous context, start with that\n      if (!oldRangeStart) {\n        var prev = diff[i - 1];\n        oldRangeStart = oldLine;\n        newRangeStart = newLine;\n\n        if (prev) {\n          curRange = options.context > 0 ? contextLines(prev.lines.slice(-options.context)) : [];\n          oldRangeStart -= curRange.length;\n          newRangeStart -= curRange.length;\n        }\n      } // Output our changes\n\n\n      (_curRange = curRange).push.apply(_curRange, _toConsumableArray(lines.map(function (entry) {\n        return (current.added ? '+' : '-') + entry;\n      }))); // Track the updated file position\n\n\n      if (current.added) {\n        newLine += lines.length;\n      } else {\n        oldLine += lines.length;\n      }\n    } else {\n      // Identical context lines. Track line changes\n      if (oldRangeStart) {\n        // Close out any changes that have been output (or join overlapping)\n        if (lines.length <= options.context * 2 && i < diff.length - 2) {\n          var _curRange2;\n\n          // Overlapping\n          (_curRange2 = curRange).push.apply(_curRange2, _toConsumableArray(contextLines(lines)));\n        } else {\n          var _curRange3;\n\n          // end the range and output\n          var contextSize = Math.min(lines.length, options.context);\n\n          (_curRange3 = curRange).push.apply(_curRange3, _toConsumableArray(contextLines(lines.slice(0, contextSize))));\n\n          var hunk = {\n            oldStart: oldRangeStart,\n            oldLines: oldLine - oldRangeStart + contextSize,\n            newStart: newRangeStart,\n            newLines: newLine - newRangeStart + contextSize,\n            lines: curRange\n          };\n\n          if (i >= diff.length - 2 && lines.length <= options.context) {\n            // EOF is inside this hunk\n            var oldEOFNewline = /\\n$/.test(oldStr);\n            var newEOFNewline = /\\n$/.test(newStr);\n            var noNlBeforeAdds = lines.length == 0 && curRange.length > hunk.oldLines;\n\n            if (!oldEOFNewline && noNlBeforeAdds && oldStr.length > 0) {\n              // special case: old has no eol and no trailing context; no-nl can end up before adds\n              // however, if the old file is empty, do not output the no-nl line\n              curRange.splice(hunk.oldLines, 0, '\\\\ No newline at end of file');\n            }\n\n            if (!oldEOFNewline && !noNlBeforeAdds || !newEOFNewline) {\n              curRange.push('\\\\ No newline at end of file');\n            }\n          }\n\n          hunks.push(hunk);\n          oldRangeStart = 0;\n          newRangeStart = 0;\n          curRange = [];\n        }\n      }\n\n      oldLine += lines.length;\n      newLine += lines.length;\n    }\n  };\n\n  for (var i = 0; i < diff.length; i++) {\n    _loop(i);\n  }\n\n  return {\n    oldFileName: oldFileName,\n    newFileName: newFileName,\n    oldHeader: oldHeader,\n    newHeader: newHeader,\n    hunks: hunks\n  };\n}\nfunction formatPatch(diff) {\n  if (Array.isArray(diff)) {\n    return diff.map(formatPatch).join('\\n');\n  }\n\n  var ret = [];\n\n  if (diff.oldFileName == diff.newFileName) {\n    ret.push('Index: ' + diff.oldFileName);\n  }\n\n  ret.push('===================================================================');\n  ret.push('--- ' + diff.oldFileName + (typeof diff.oldHeader === 'undefined' ? '' : '\\t' + diff.oldHeader));\n  ret.push('+++ ' + diff.newFileName + (typeof diff.newHeader === 'undefined' ? '' : '\\t' + diff.newHeader));\n\n  for (var i = 0; i < diff.hunks.length; i++) {\n    var hunk = diff.hunks[i]; // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n\n    if (hunk.oldLines === 0) {\n      hunk.oldStart -= 1;\n    }\n\n    if (hunk.newLines === 0) {\n      hunk.newStart -= 1;\n    }\n\n    ret.push('@@ -' + hunk.oldStart + ',' + hunk.oldLines + ' +' + hunk.newStart + ',' + hunk.newLines + ' @@');\n    ret.push.apply(ret, hunk.lines);\n  }\n\n  return ret.join('\\n') + '\\n';\n}\nfunction createTwoFilesPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return formatPatch(structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options));\n}\nfunction createPatch(fileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader, options);\n}\n\nfunction arrayEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  return arrayStartsWith(a, b);\n}\nfunction arrayStartsWith(array, start) {\n  if (start.length > array.length) {\n    return false;\n  }\n\n  for (var i = 0; i < start.length; i++) {\n    if (start[i] !== array[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction calcLineCount(hunk) {\n  var _calcOldNewLineCount = calcOldNewLineCount(hunk.lines),\n      oldLines = _calcOldNewLineCount.oldLines,\n      newLines = _calcOldNewLineCount.newLines;\n\n  if (oldLines !== undefined) {\n    hunk.oldLines = oldLines;\n  } else {\n    delete hunk.oldLines;\n  }\n\n  if (newLines !== undefined) {\n    hunk.newLines = newLines;\n  } else {\n    delete hunk.newLines;\n  }\n}\nfunction merge(mine, theirs, base) {\n  mine = loadPatch(mine, base);\n  theirs = loadPatch(theirs, base);\n  var ret = {}; // For index we just let it pass through as it doesn't have any necessary meaning.\n  // Leaving sanity checks on this to the API consumer that may know more about the\n  // meaning in their own context.\n\n  if (mine.index || theirs.index) {\n    ret.index = mine.index || theirs.index;\n  }\n\n  if (mine.newFileName || theirs.newFileName) {\n    if (!fileNameChanged(mine)) {\n      // No header or no change in ours, use theirs (and ours if theirs does not exist)\n      ret.oldFileName = theirs.oldFileName || mine.oldFileName;\n      ret.newFileName = theirs.newFileName || mine.newFileName;\n      ret.oldHeader = theirs.oldHeader || mine.oldHeader;\n      ret.newHeader = theirs.newHeader || mine.newHeader;\n    } else if (!fileNameChanged(theirs)) {\n      // No header or no change in theirs, use ours\n      ret.oldFileName = mine.oldFileName;\n      ret.newFileName = mine.newFileName;\n      ret.oldHeader = mine.oldHeader;\n      ret.newHeader = mine.newHeader;\n    } else {\n      // Both changed... figure it out\n      ret.oldFileName = selectField(ret, mine.oldFileName, theirs.oldFileName);\n      ret.newFileName = selectField(ret, mine.newFileName, theirs.newFileName);\n      ret.oldHeader = selectField(ret, mine.oldHeader, theirs.oldHeader);\n      ret.newHeader = selectField(ret, mine.newHeader, theirs.newHeader);\n    }\n  }\n\n  ret.hunks = [];\n  var mineIndex = 0,\n      theirsIndex = 0,\n      mineOffset = 0,\n      theirsOffset = 0;\n\n  while (mineIndex < mine.hunks.length || theirsIndex < theirs.hunks.length) {\n    var mineCurrent = mine.hunks[mineIndex] || {\n      oldStart: Infinity\n    },\n        theirsCurrent = theirs.hunks[theirsIndex] || {\n      oldStart: Infinity\n    };\n\n    if (hunkBefore(mineCurrent, theirsCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(mineCurrent, mineOffset));\n      mineIndex++;\n      theirsOffset += mineCurrent.newLines - mineCurrent.oldLines;\n    } else if (hunkBefore(theirsCurrent, mineCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(theirsCurrent, theirsOffset));\n      theirsIndex++;\n      mineOffset += theirsCurrent.newLines - theirsCurrent.oldLines;\n    } else {\n      // Overlap, merge as best we can\n      var mergedHunk = {\n        oldStart: Math.min(mineCurrent.oldStart, theirsCurrent.oldStart),\n        oldLines: 0,\n        newStart: Math.min(mineCurrent.newStart + mineOffset, theirsCurrent.oldStart + theirsOffset),\n        newLines: 0,\n        lines: []\n      };\n      mergeLines(mergedHunk, mineCurrent.oldStart, mineCurrent.lines, theirsCurrent.oldStart, theirsCurrent.lines);\n      theirsIndex++;\n      mineIndex++;\n      ret.hunks.push(mergedHunk);\n    }\n  }\n\n  return ret;\n}\n\nfunction loadPatch(param, base) {\n  if (typeof param === 'string') {\n    if (/^@@/m.test(param) || /^Index:/m.test(param)) {\n      return parsePatch(param)[0];\n    }\n\n    if (!base) {\n      throw new Error('Must provide a base reference or pass in a patch');\n    }\n\n    return structuredPatch(undefined, undefined, base, param);\n  }\n\n  return param;\n}\n\nfunction fileNameChanged(patch) {\n  return patch.newFileName && patch.newFileName !== patch.oldFileName;\n}\n\nfunction selectField(index, mine, theirs) {\n  if (mine === theirs) {\n    return mine;\n  } else {\n    index.conflict = true;\n    return {\n      mine: mine,\n      theirs: theirs\n    };\n  }\n}\n\nfunction hunkBefore(test, check) {\n  return test.oldStart < check.oldStart && test.oldStart + test.oldLines < check.oldStart;\n}\n\nfunction cloneHunk(hunk, offset) {\n  return {\n    oldStart: hunk.oldStart,\n    oldLines: hunk.oldLines,\n    newStart: hunk.newStart + offset,\n    newLines: hunk.newLines,\n    lines: hunk.lines\n  };\n}\n\nfunction mergeLines(hunk, mineOffset, mineLines, theirOffset, theirLines) {\n  // This will generally result in a conflicted hunk, but there are cases where the context\n  // is the only overlap where we can successfully merge the content here.\n  var mine = {\n    offset: mineOffset,\n    lines: mineLines,\n    index: 0\n  },\n      their = {\n    offset: theirOffset,\n    lines: theirLines,\n    index: 0\n  }; // Handle any leading content\n\n  insertLeading(hunk, mine, their);\n  insertLeading(hunk, their, mine); // Now in the overlap content. Scan through and select the best changes from each.\n\n  while (mine.index < mine.lines.length && their.index < their.lines.length) {\n    var mineCurrent = mine.lines[mine.index],\n        theirCurrent = their.lines[their.index];\n\n    if ((mineCurrent[0] === '-' || mineCurrent[0] === '+') && (theirCurrent[0] === '-' || theirCurrent[0] === '+')) {\n      // Both modified ...\n      mutualChange(hunk, mine, their);\n    } else if (mineCurrent[0] === '+' && theirCurrent[0] === ' ') {\n      var _hunk$lines;\n\n      // Mine inserted\n      (_hunk$lines = hunk.lines).push.apply(_hunk$lines, _toConsumableArray(collectChange(mine)));\n    } else if (theirCurrent[0] === '+' && mineCurrent[0] === ' ') {\n      var _hunk$lines2;\n\n      // Theirs inserted\n      (_hunk$lines2 = hunk.lines).push.apply(_hunk$lines2, _toConsumableArray(collectChange(their)));\n    } else if (mineCurrent[0] === '-' && theirCurrent[0] === ' ') {\n      // Mine removed or edited\n      removal(hunk, mine, their);\n    } else if (theirCurrent[0] === '-' && mineCurrent[0] === ' ') {\n      // Their removed or edited\n      removal(hunk, their, mine, true);\n    } else if (mineCurrent === theirCurrent) {\n      // Context identity\n      hunk.lines.push(mineCurrent);\n      mine.index++;\n      their.index++;\n    } else {\n      // Context mismatch\n      conflict(hunk, collectChange(mine), collectChange(their));\n    }\n  } // Now push anything that may be remaining\n\n\n  insertTrailing(hunk, mine);\n  insertTrailing(hunk, their);\n  calcLineCount(hunk);\n}\n\nfunction mutualChange(hunk, mine, their) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectChange(their);\n\n  if (allRemoves(myChanges) && allRemoves(theirChanges)) {\n    // Special case for remove changes that are supersets of one another\n    if (arrayStartsWith(myChanges, theirChanges) && skipRemoveSuperset(their, myChanges, myChanges.length - theirChanges.length)) {\n      var _hunk$lines3;\n\n      (_hunk$lines3 = hunk.lines).push.apply(_hunk$lines3, _toConsumableArray(myChanges));\n\n      return;\n    } else if (arrayStartsWith(theirChanges, myChanges) && skipRemoveSuperset(mine, theirChanges, theirChanges.length - myChanges.length)) {\n      var _hunk$lines4;\n\n      (_hunk$lines4 = hunk.lines).push.apply(_hunk$lines4, _toConsumableArray(theirChanges));\n\n      return;\n    }\n  } else if (arrayEqual(myChanges, theirChanges)) {\n    var _hunk$lines5;\n\n    (_hunk$lines5 = hunk.lines).push.apply(_hunk$lines5, _toConsumableArray(myChanges));\n\n    return;\n  }\n\n  conflict(hunk, myChanges, theirChanges);\n}\n\nfunction removal(hunk, mine, their, swap) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectContext(their, myChanges);\n\n  if (theirChanges.merged) {\n    var _hunk$lines6;\n\n    (_hunk$lines6 = hunk.lines).push.apply(_hunk$lines6, _toConsumableArray(theirChanges.merged));\n  } else {\n    conflict(hunk, swap ? theirChanges : myChanges, swap ? myChanges : theirChanges);\n  }\n}\n\nfunction conflict(hunk, mine, their) {\n  hunk.conflict = true;\n  hunk.lines.push({\n    conflict: true,\n    mine: mine,\n    theirs: their\n  });\n}\n\nfunction insertLeading(hunk, insert, their) {\n  while (insert.offset < their.offset && insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n    insert.offset++;\n  }\n}\n\nfunction insertTrailing(hunk, insert) {\n  while (insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n  }\n}\n\nfunction collectChange(state) {\n  var ret = [],\n      operation = state.lines[state.index][0];\n\n  while (state.index < state.lines.length) {\n    var line = state.lines[state.index]; // Group additions that are immediately after subtractions and treat them as one \"atomic\" modify change.\n\n    if (operation === '-' && line[0] === '+') {\n      operation = '+';\n    }\n\n    if (operation === line[0]) {\n      ret.push(line);\n      state.index++;\n    } else {\n      break;\n    }\n  }\n\n  return ret;\n}\n\nfunction collectContext(state, matchChanges) {\n  var changes = [],\n      merged = [],\n      matchIndex = 0,\n      contextChanges = false,\n      conflicted = false;\n\n  while (matchIndex < matchChanges.length && state.index < state.lines.length) {\n    var change = state.lines[state.index],\n        match = matchChanges[matchIndex]; // Once we've hit our add, then we are done\n\n    if (match[0] === '+') {\n      break;\n    }\n\n    contextChanges = contextChanges || change[0] !== ' ';\n    merged.push(match);\n    matchIndex++; // Consume any additions in the other block as a conflict to attempt\n    // to pull in the remaining context after this\n\n    if (change[0] === '+') {\n      conflicted = true;\n\n      while (change[0] === '+') {\n        changes.push(change);\n        change = state.lines[++state.index];\n      }\n    }\n\n    if (match.substr(1) === change.substr(1)) {\n      changes.push(change);\n      state.index++;\n    } else {\n      conflicted = true;\n    }\n  }\n\n  if ((matchChanges[matchIndex] || '')[0] === '+' && contextChanges) {\n    conflicted = true;\n  }\n\n  if (conflicted) {\n    return changes;\n  }\n\n  while (matchIndex < matchChanges.length) {\n    merged.push(matchChanges[matchIndex++]);\n  }\n\n  return {\n    merged: merged,\n    changes: changes\n  };\n}\n\nfunction allRemoves(changes) {\n  return changes.reduce(function (prev, change) {\n    return prev && change[0] === '-';\n  }, true);\n}\n\nfunction skipRemoveSuperset(state, removeChanges, delta) {\n  for (var i = 0; i < delta; i++) {\n    var changeContent = removeChanges[removeChanges.length - delta + i].substr(1);\n\n    if (state.lines[state.index + i] !== ' ' + changeContent) {\n      return false;\n    }\n  }\n\n  state.index += delta;\n  return true;\n}\n\nfunction calcOldNewLineCount(lines) {\n  var oldLines = 0;\n  var newLines = 0;\n  lines.forEach(function (line) {\n    if (typeof line !== 'string') {\n      var myCount = calcOldNewLineCount(line.mine);\n      var theirCount = calcOldNewLineCount(line.theirs);\n\n      if (oldLines !== undefined) {\n        if (myCount.oldLines === theirCount.oldLines) {\n          oldLines += myCount.oldLines;\n        } else {\n          oldLines = undefined;\n        }\n      }\n\n      if (newLines !== undefined) {\n        if (myCount.newLines === theirCount.newLines) {\n          newLines += myCount.newLines;\n        } else {\n          newLines = undefined;\n        }\n      }\n    } else {\n      if (newLines !== undefined && (line[0] === '+' || line[0] === ' ')) {\n        newLines++;\n      }\n\n      if (oldLines !== undefined && (line[0] === '-' || line[0] === ' ')) {\n        oldLines++;\n      }\n    }\n  });\n  return {\n    oldLines: oldLines,\n    newLines: newLines\n  };\n}\n\nfunction reversePatch(structuredPatch) {\n  if (Array.isArray(structuredPatch)) {\n    return structuredPatch.map(reversePatch).reverse();\n  }\n\n  return _objectSpread2(_objectSpread2({}, structuredPatch), {}, {\n    oldFileName: structuredPatch.newFileName,\n    oldHeader: structuredPatch.newHeader,\n    newFileName: structuredPatch.oldFileName,\n    newHeader: structuredPatch.oldHeader,\n    hunks: structuredPatch.hunks.map(function (hunk) {\n      return {\n        oldLines: hunk.newLines,\n        oldStart: hunk.newStart,\n        newLines: hunk.oldLines,\n        newStart: hunk.oldStart,\n        linedelimiters: hunk.linedelimiters,\n        lines: hunk.lines.map(function (l) {\n          if (l.startsWith('-')) {\n            return \"+\".concat(l.slice(1));\n          }\n\n          if (l.startsWith('+')) {\n            return \"-\".concat(l.slice(1));\n          }\n\n          return l;\n        })\n      };\n    })\n  });\n}\n\n// See: http://code.google.com/p/google-diff-match-patch/wiki/API\nfunction convertChangesToDMP(changes) {\n  var ret = [],\n      change,\n      operation;\n\n  for (var i = 0; i < changes.length; i++) {\n    change = changes[i];\n\n    if (change.added) {\n      operation = 1;\n    } else if (change.removed) {\n      operation = -1;\n    } else {\n      operation = 0;\n    }\n\n    ret.push([operation, change.value]);\n  }\n\n  return ret;\n}\n\nfunction convertChangesToXML(changes) {\n  var ret = [];\n\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n\n    if (change.added) {\n      ret.push('<ins>');\n    } else if (change.removed) {\n      ret.push('<del>');\n    }\n\n    ret.push(escapeHTML(change.value));\n\n    if (change.added) {\n      ret.push('</ins>');\n    } else if (change.removed) {\n      ret.push('</del>');\n    }\n  }\n\n  return ret.join('');\n}\n\nfunction escapeHTML(s) {\n  var n = s;\n  n = n.replace(/&/g, '&amp;');\n  n = n.replace(/</g, '&lt;');\n  n = n.replace(/>/g, '&gt;');\n  n = n.replace(/\"/g, '&quot;');\n  return n;\n}\n\nexport { Diff, applyPatch, applyPatches, canonicalize, convertChangesToDMP, convertChangesToXML, createPatch, createTwoFilesPatch, diffArrays, diffChars, diffCss, diffJson, diffLines, diffSentences, diffTrimmedLines, diffWords, diffWordsWithSpace, formatPatch, merge, parsePatch, reversePatch, structuredPatch };\n","// src/languages.ts\nvar sortedLanguages = { \"programming\": [[\"abap\", { \"extensions\": [\".abap\"] }], [\"ada\", { \"extensions\": [\".adb\", \".ada\", \".ads\"] }], [\"apex\", { \"extensions\": [\".cls\"] }], [\"apl\", { \"extensions\": [\".apl\", \".dyalog\"] }], [\"applescript\", { \"extensions\": [\".applescript\", \".scpt\"] }], [\"asm\", { \"extensions\": [\".asm\", \".a51\", \".i\", \".inc\", \".nasm\"] }], [\"awk\", { \"extensions\": [\".awk\", \".auk\", \".gawk\", \".mawk\", \".nawk\"] }], [\"ballerina\", { \"extensions\": [\".bal\"] }], [\"bat\", { \"extensions\": [\".bat\", \".cmd\"] }], [\"c\", { \"extensions\": [\".c\", \".cats\", \".h\", \".idc\"] }], [\"clojure\", { \"extensions\": [\".clj\", \".boot\", \".cl2\", \".cljc\", \".cljs\", \".cljs.hl\", \".cljscm\", \".cljx\", \".hic\"], \"filenames\": [\"riemann.config\"] }], [\"cobol\", { \"extensions\": [\".cob\", \".cbl\", \".ccp\", \".cobol\", \".cpy\"] }], [\"coffee\", { \"extensions\": [\".coffee\", \"._coffee\", \".cake\", \".cjsx\", \".iced\"], \"filenames\": [\"Cakefile\"] }], [\"cpp\", { \"extensions\": [\".cpp\", \".c++\", \".cc\", \".cp\", \".cxx\", \".h\", \".h++\", \".hh\", \".hpp\", \".hxx\", \".inc\", \".inl\", \".ino\", \".ipp\", \".re\", \".tcc\", \".tpp\"] }], [\"crystal\", { \"extensions\": [\".cr\"] }], [\"csharp\", { \"extensions\": [\".cs\", \".cake\", \".csx\", \".linq\"] }], [\"d\", { \"extensions\": [\".d\", \".di\"] }], [\"dart\", { \"extensions\": [\".dart\"] }], [\"elixir\", { \"extensions\": [\".ex\", \".exs\"], \"filenames\": [\"mix.lock\"] }], [\"elm\", { \"extensions\": [\".elm\"] }], [\"erlang\", { \"extensions\": [\".erl\", \".app.src\", \".es\", \".escript\", \".hrl\", \".xrl\", \".yrl\"], \"filenames\": [\"Emakefile\", \"rebar.config\", \"rebar.config.lock\", \"rebar.lock\"] }], [\"fish\", { \"extensions\": [\".fish\"] }], [\"fsharp\", { \"extensions\": [\".fs\", \".fsi\", \".fsx\"] }], [\"gherkin\", { \"extensions\": [\".feature\", \".story\"] }], [\"gnuplot\", { \"extensions\": [\".gp\", \".gnu\", \".gnuplot\", \".p\", \".plot\", \".plt\"] }], [\"go\", { \"extensions\": [\".go\"] }], [\"groovy\", { \"extensions\": [\".groovy\", \".grt\", \".gtpl\", \".gvy\"], \"filenames\": [\"Jenkinsfile\"] }], [\"hack\", { \"extensions\": [\".hack\", \".hh\", \".hhi\", \".php\"] }], [\"haskell\", { \"extensions\": [\".hs\", \".hs-boot\", \".hsc\"] }], [\"hcl\", { \"extensions\": [\".hcl\", \".nomad\", \".tf\", \".tfvars\", \".workflow\"] }], [\"hlsl\", { \"extensions\": [\".hlsl\", \".cginc\", \".fx\", \".fxh\", \".hlsli\"] }], [\"java\", { \"extensions\": [\".java\", \".jav\"] }], [\"javascript\", { \"extensions\": [\".js\", \"._js\", \".bones\", \".cjs\", \".es\", \".es6\", \".frag\", \".gs\", \".jake\", \".javascript\", \".jsb\", \".jscad\", \".jsfl\", \".jsm\", \".jss\", \".jsx\", \".mjs\", \".njs\", \".pac\", \".sjs\", \".ssjs\", \".xsjs\", \".xsjslib\"], \"filenames\": [\"Jakefile\"] }], [\"jsonnet\", { \"extensions\": [\".jsonnet\", \".libsonnet\"] }], [\"julia\", { \"extensions\": [\".jl\"] }], [\"kotlin\", { \"extensions\": [\".kt\", \".ktm\", \".kts\"] }], [\"lisp\", { \"extensions\": [\".lisp\", \".asd\", \".cl\", \".l\", \".lsp\", \".ny\", \".podsl\", \".sexp\"] }], [\"lua\", { \"extensions\": [\".lua\", \".fcgi\", \".nse\", \".p8\", \".pd_lua\", \".rbxs\", \".rockspec\", \".wlua\"], \"filenames\": [\".luacheckrc\"] }], [\"make\", { \"extensions\": [\".mak\", \".d\", \".make\", \".makefile\", \".mk\", \".mkfile\"], \"filenames\": [\"BSDmakefile\", \"GNUmakefile\", \"Kbuild\", \"Makefile\", \"Makefile.am\", \"Makefile.boot\", \"Makefile.frag\", \"Makefile.in\", \"Makefile.inc\", \"Makefile.wat\", \"makefile\", \"makefile.sco\", \"mkfile\"] }], [\"matlab\", { \"extensions\": [\".matlab\", \".m\"] }], [\"nim\", { \"extensions\": [\".nim\", \".nim.cfg\", \".nimble\", \".nimrod\", \".nims\"], \"filenames\": [\"nim.cfg\"] }], [\"nix\", { \"extensions\": [\".nix\"] }], [\"objective-c\", { \"extensions\": [\".m\", \".h\"] }], [\"ocaml\", { \"extensions\": [\".ml\", \".eliom\", \".eliomi\", \".ml4\", \".mli\", \".mll\", \".mly\"] }], [\"pascal\", { \"extensions\": [\".pas\", \".dfm\", \".dpr\", \".inc\", \".lpr\", \".pascal\", \".pp\"] }], [\"perl\", { \"extensions\": [\".pl\", \".al\", \".cgi\", \".fcgi\", \".perl\", \".ph\", \".plx\", \".pm\", \".psgi\", \".t\"], \"filenames\": [\"Makefile.PL\", \"Rexfile\", \"ack\", \"cpanfile\"] }], [\"php\", { \"extensions\": [\".php\", \".aw\", \".ctp\", \".fcgi\", \".inc\", \".php3\", \".php4\", \".php5\", \".phps\", \".phpt\"], \"filenames\": [\".php\", \".php_cs\", \".php_cs.dist\", \"Phakefile\"] }], [\"plsql\", { \"extensions\": [\".pls\", \".bdy\", \".ddl\", \".fnc\", \".pck\", \".pkb\", \".pks\", \".plb\", \".plsql\", \".prc\", \".spc\", \".sql\", \".tpb\", \".tps\", \".trg\", \".vw\"] }], [\"powershell\", { \"extensions\": [\".ps1\", \".psd1\", \".psm1\"] }], [\"prolog\", { \"extensions\": [\".pl\", \".pro\", \".prolog\", \".yap\"] }], [\"puppet\", { \"extensions\": [\".pp\"], \"filenames\": [\"Modulefile\"] }], [\"purescript\", { \"extensions\": [\".purs\"] }], [\"python\", { \"extensions\": [\".py\", \".cgi\", \".fcgi\", \".gyp\", \".gypi\", \".lmi\", \".py3\", \".pyde\", \".pyi\", \".pyp\", \".pyt\", \".pyw\", \".rpy\", \".smk\", \".spec\", \".tac\", \".wsgi\", \".xpy\"], \"filenames\": [\".gclient\", \"DEPS\", \"SConscript\", \"SConstruct\", \"Snakefile\", \"wscript\"] }], [\"r\", { \"extensions\": [\".r\", \".rd\", \".rsx\"], \"filenames\": [\".Rprofile\", \"expr-dist\"] }], [\"raku\", { \"extensions\": [\".6pl\", \".6pm\", \".nqp\", \".p6\", \".p6l\", \".p6m\", \".pl\", \".pl6\", \".pm\", \".pm6\", \".raku\", \".rakumod\", \".t\"] }], [\"ruby\", { \"extensions\": [\".rb\", \".builder\", \".eye\", \".fcgi\", \".gemspec\", \".god\", \".jbuilder\", \".mspec\", \".pluginspec\", \".podspec\", \".prawn\", \".rabl\", \".rake\", \".rbi\", \".rbuild\", \".rbw\", \".rbx\", \".ru\", \".ruby\", \".spec\", \".thor\", \".watchr\"], \"filenames\": [\".irbrc\", \".pryrc\", \".simplecov\", \"Appraisals\", \"Berksfile\", \"Brewfile\", \"Buildfile\", \"Capfile\", \"Dangerfile\", \"Deliverfile\", \"Fastfile\", \"Gemfile\", \"Guardfile\", \"Jarfile\", \"Mavenfile\", \"Podfile\", \"Puppetfile\", \"Rakefile\", \"Snapfile\", \"Thorfile\", \"Vagrantfile\", \"buildfile\"] }], [\"rust\", { \"extensions\": [\".rs\", \".rs.in\"] }], [\"sas\", { \"extensions\": [\".sas\"] }], [\"scala\", { \"extensions\": [\".scala\", \".kojo\", \".sbt\", \".sc\"] }], [\"scheme\", { \"extensions\": [\".scm\", \".sch\", \".sld\", \".sls\", \".sps\", \".ss\"] }], [\"shaderlab\", { \"extensions\": [\".shader\"] }], [\"smalltalk\", { \"extensions\": [\".st\", \".cs\"] }], [\"solidity\", { \"extensions\": [\".sol\"] }], [\"swift\", { \"extensions\": [\".swift\"] }], [\"tcl\", { \"extensions\": [\".tcl\", \".adp\", \".tcl.in\", \".tm\"], \"filenames\": [\"owh\", \"starfield\"] }], [\"tsx\", { \"extensions\": [\".tsx\"] }], [\"typescript\", { \"extensions\": [\".ts\"] }], [\"verilog\", { \"extensions\": [\".v\", \".veo\"] }], [\"vhdl\", { \"extensions\": [\".vhdl\", \".vhd\", \".vhf\", \".vhi\", \".vho\", \".vhs\", \".vht\", \".vhw\"] }], [\"viml\", { \"extensions\": [\".vim\", \".vba\", \".vmb\"], \"filenames\": [\".exrc\", \".gvimrc\", \".nvimrc\", \".vimrc\", \"_vimrc\", \"gvimrc\", \"nvimrc\", \"vimrc\"] }], [\"wasm\", { \"extensions\": [\".wast\", \".wat\"] }], [\"xsl\", { \"extensions\": [\".xslt\", \".xsl\"] }]], \"markup\": [[\"astro\", { \"extensions\": [\".astro\"] }], [\"css\", { \"extensions\": [\".css\"] }], [\"erb\", { \"extensions\": [\".erb\", \".erb.deface\", \".rhtml\"] }], [\"haml\", { \"extensions\": [\".haml\", \".haml.deface\"] }], [\"handlebars\", { \"extensions\": [\".handlebars\", \".hbs\"] }], [\"html\", { \"extensions\": [\".html\", \".hta\", \".htm\", \".html.hl\", \".inc\", \".xht\", \".xhtml\"] }], [\"latex\", { \"extensions\": [\".tex\", \".aux\", \".bbx\", \".cbx\", \".cls\", \".dtx\", \".ins\", \".lbx\", \".ltx\", \".mkii\", \".mkiv\", \".mkvi\", \".sty\", \".toc\"] }], [\"less\", { \"extensions\": [\".less\"] }], [\"postcss\", { \"extensions\": [\".pcss\", \".postcss\"] }], [\"pug\", { \"extensions\": [\".jade\", \".pug\"] }], [\"razor\", { \"extensions\": [\".cshtml\", \".razor\"] }], [\"sass\", { \"extensions\": [\".sass\"] }], [\"scss\", { \"extensions\": [\".scss\"] }], [\"stylus\", { \"extensions\": [\".styl\"] }], [\"svelte\", { \"extensions\": [\".svelte\"] }], [\"tex\", { \"extensions\": [\".tex\", \".aux\", \".bbx\", \".cbx\", \".cls\", \".dtx\", \".ins\", \".lbx\", \".ltx\", \".mkii\", \".mkiv\", \".mkvi\", \".sty\", \".toc\"] }], [\"twig\", { \"extensions\": [\".twig\"] }], [\"vue\", { \"extensions\": [\".vue\"] }]], \"data\": [[\"apache\", { \"extensions\": [\".apacheconf\", \".vhost\"], \"filenames\": [\".htaccess\", \"apache2.conf\", \"httpd.conf\"] }], [\"diff\", { \"extensions\": [\".diff\", \".patch\"] }], [\"graphql\", { \"extensions\": [\".graphql\", \".gql\", \".graphqls\"] }], [\"ini\", { \"extensions\": [\".ini\", \".cfg\", \".dof\", \".lektorproject\", \".prefs\", \".pro\", \".properties\"], \"filenames\": [\"buildozer.spec\"] }], [\"json\", { \"extensions\": [\".json\", \".avsc\", \".geojson\", \".gltf\", \".har\", \".ice\", \".JSON-tmLanguage\", \".jsonl\", \".mcmeta\", \".tfstate\", \".tfstate.backup\", \".topojson\", \".webapp\", \".webmanifest\", \".yy\", \".yyp\"], \"filenames\": [\".arcconfig\", \".auto-changelog\", \".c8rc\", \".htmlhintrc\", \".imgbotconfig\", \".nycrc\", \".tern-config\", \".tern-project\", \".watchmanconfig\", \"Pipfile.lock\", \"composer.lock\", \"mcmod.info\"] }], [\"jsonc\", { \"extensions\": [\".jsonc\", \".sublime-build\", \".sublime-commands\", \".sublime-completions\", \".sublime-keymap\", \".sublime-macro\", \".sublime-menu\", \".sublime-mousemap\", \".sublime-project\", \".sublime-settings\", \".sublime-theme\", \".sublime-workspace\", \".sublime_metrics\", \".sublime_session\"], \"filenames\": [\".babelrc\", \".eslintrc.json\", \".jscsrc\", \".jshintrc\", \".jslintrc\", \"api-extractor.json\", \"devcontainer.json\", \"jsconfig.json\", \"language-configuration.json\", \"tsconfig.json\", \"tslint.json\"] }], [\"nginx\", { \"extensions\": [\".nginx\", \".nginxconf\", \".vhost\"], \"filenames\": [\"nginx.conf\"] }], [\"prisma\", { \"extensions\": [\".prisma\"] }], [\"sparql\", { \"extensions\": [\".sparql\", \".rq\"] }], [\"sql\", { \"extensions\": [\".sql\", \".cql\", \".ddl\", \".inc\", \".mysql\", \".prc\", \".tab\", \".udf\", \".viw\"] }], [\"toml\", { \"extensions\": [\".toml\"], \"filenames\": [\"Cargo.lock\", \"Gopkg.lock\", \"Pipfile\", \"poetry.lock\"] }], [\"turtle\", { \"extensions\": [\".ttl\"] }], [\"xml\", { \"extensions\": [\".xml\", \".adml\", \".admx\", \".ant\", \".axml\", \".builds\", \".ccproj\", \".ccxml\", \".clixml\", \".cproject\", \".cscfg\", \".csdef\", \".csl\", \".csproj\", \".ct\", \".depproj\", \".dita\", \".ditamap\", \".ditaval\", \".dll.config\", \".dotsettings\", \".filters\", \".fsproj\", \".fxml\", \".glade\", \".gml\", \".gmx\", \".grxml\", \".gst\", \".iml\", \".ivy\", \".jelly\", \".jsproj\", \".kml\", \".launch\", \".mdpolicy\", \".mjml\", \".mm\", \".mod\", \".mxml\", \".natvis\", \".ncl\", \".ndproj\", \".nproj\", \".nuspec\", \".odd\", \".osm\", \".pkgproj\", \".pluginspec\", \".proj\", \".props\", \".ps1xml\", \".psc1\", \".pt\", \".rdf\", \".res\", \".resx\", \".rs\", \".rss\", \".sch\", \".scxml\", \".sfproj\", \".shproj\", \".srdf\", \".storyboard\", \".sublime-snippet\", \".targets\", \".tml\", \".ts\", \".tsx\", \".ui\", \".urdf\", \".ux\", \".vbproj\", \".vcxproj\", \".vsixmanifest\", \".vssettings\", \".vstemplate\", \".vxml\", \".wixproj\", \".workflow\", \".wsdl\", \".wsf\", \".wxi\", \".wxl\", \".wxs\", \".x3d\", \".xacro\", \".xaml\", \".xib\", \".xlf\", \".xliff\", \".xmi\", \".xml.dist\", \".xmp\", \".xproj\", \".xsd\", \".xspec\", \".xul\", \".zcml\"], \"filenames\": [\".classpath\", \".cproject\", \".project\", \"App.config\", \"NuGet.config\", \"Settings.StyleCop\", \"Web.Debug.config\", \"Web.Release.config\", \"Web.config\", \"packages.config\"] }], [\"yaml\", { \"extensions\": [\".yml\", \".mir\", \".reek\", \".rviz\", \".sublime-syntax\", \".syntax\", \".yaml\", \".yaml-tmlanguage\", \".yaml.sed\", \".yml.mysql\"], \"filenames\": [\".clang-format\", \".clang-tidy\", \".gemrc\", \"CITATION.cff\", \"glide.lock\", \"yarn.lock\"] }]], \"prose\": [[\"markdown\", { \"extensions\": [\".md\", \".markdown\", \".mdown\", \".mdwn\", \".mdx\", \".mkd\", \".mkdn\", \".mkdown\", \".ronn\", \".scd\", \".workbook\"], \"filenames\": [\"contents.lr\"] }]] };\n\n// src/index.ts\nvar doesLanguageMatchesFilename = (language, filename) => {\n  var _a, _b;\n  if ((_a = language.extensions) == null ? void 0 : _a.find((extension) => filename.endsWith(extension)))\n    return true;\n  if ((_b = language.filenames) == null ? void 0 : _b.includes(filename))\n    return true;\n  return false;\n};\nvar findOne = (filename) => {\n  for (const languages of Object.values(sortedLanguages)) {\n    const foundLanguage = languages.find(([, language]) => doesLanguageMatchesFilename(language, filename));\n    if (foundLanguage)\n      return foundLanguage[0];\n  }\n};\nvar findAll = (filename) => {\n  const allFoundLanguages = [];\n  for (const languages of Object.values(sortedLanguages)) {\n    const foundLanguages = languages.filter(([, language]) => doesLanguageMatchesFilename(language, filename));\n    allFoundLanguages.push(...foundLanguages.map(([languageId]) => languageId));\n  }\n  return allFoundLanguages;\n};\nexport {\n  findAll,\n  findOne\n};\n","import { useAtom, useSetAtom } from \"jotai\";\nimport { commitLocalUpdate, useRelayEnvironment } from \"react-relay\";\nimport {\n  pendingThreadCommentsAtom,\n  pendingThreadsAtom,\n} from \"../review/settings\";\nimport StoreUtils from \"./storeUtils\";\nimport dayjs from \"dayjs\";\n\nexport function useDeleteReviewThreadUpdater(): (\n  reviewThreadId: string\n) => void {\n  const env = useRelayEnvironment();\n  const setPendingThreads = useSetAtom(pendingThreadsAtom);\n  return (reviewThreadId) =>\n    commitLocalUpdate(env, (store) => {\n      const storeUtils = new StoreUtils(store);\n      storeUtils.delete(reviewThreadId);\n      setPendingThreads((t) => t.delete(reviewThreadId));\n    });\n}\n\nexport default function useAddReviewThreadUpdater(): (\n  path: string,\n  line: number,\n  pullRequestId: string,\n  endLine?: number\n) => void {\n  const env = useRelayEnvironment();\n  const [pendingThreads, setPendingThreads] = useAtom(pendingThreadsAtom);\n  const [pendingThreadComments, setPendingThreadComments] = useAtom(\n    pendingThreadCommentsAtom\n  );\n  return (path, line, pullRequestId, endLine) =>\n    commitLocalUpdate(env, (store) => {\n      const storeUtils = new StoreUtils(store);\n      const entry = pendingThreads.findEntry(\n        (v, _k) => v.path === path && v.line === line\n      );\n      if (entry != null) {\n        const [pendingThreadId, pendingThread] = entry;\n        const thread = storeUtils.get(pendingThreadId);\n        thread?.setValues({\n          isPending: true,\n          createdAt: dayjs().toISOString(),\n          viewerCanReply: true,\n        });\n        // storeUtils.get(pendingThread.commentId)?.setValues(pendingThread);\n        return;\n      }\n      const data = {\n        isPending: true,\n        createdAt: dayjs().toISOString(),\n        startLine: endLine == null ? null : line,\n        line: endLine == null ? line : endLine,\n        path,\n        viewerCanReply: true,\n      };\n      storeUtils\n        .get(pullRequestId)\n        ?.createAndAppendNodeToEdge(\n          store,\n          \"reviewThreads\",\n          { first: 20 },\n          \"PullRequestReviewThreadConnection\",\n          \"PullRequestReviewThreadEdge\",\n          \"PullRequestReviewThread\",\n          data\n        )\n        ?.then(({ nodeId: reviewThreadId, node: reviewThread }) => {\n        //   reviewThread\n        //     .createAndAppendNodeToEdge(\n        //       store,\n        //       \"comments\",\n        //       { first: 20 },\n        //       \"PullRequestReviewCommentConnection\",\n        //       \"PullRequestReviewCommentEdge\",\n        //       \"PullRequestReviewComment\",\n        //       data\n        //     )\n            // ?.then(({ nodeId: commentId }) => {\n              setPendingThreads((s) => s.set(reviewThreadId, data));\n              // setPendingThreadComments((s) => s.set(reviewThreadId, commentId));\n            });\n        });\n    // });\n}\n","/**\n * @generated SignedSource<<f173f702a9f17460720be279cf4fdba3>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nexport type PullRequestReviewState = \"APPROVED\" | \"CHANGES_REQUESTED\" | \"COMMENTED\" | \"DISMISSED\" | \"PENDING\" | \"%future added value\";\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommentThreadPullRequestFragment$data = {\n  readonly reviews: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly id: string;\n        readonly state: PullRequestReviewState;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  } | null | undefined;\n  readonly \" $fragmentType\": \"CommentThreadPullRequestFragment\";\n};\nexport type CommentThreadPullRequestFragment$key = {\n  readonly \" $data\"?: CommentThreadPullRequestFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommentThreadPullRequestFragment\">;\n};\n\nconst node: ReaderFragment = {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommentThreadPullRequestFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"first\",\n          \"value\": 30\n        }\n      ],\n      \"concreteType\": \"PullRequestReviewConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"reviews\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestReviewEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestReview\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"id\",\n                  \"storageKey\": null\n                },\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"state\",\n                  \"storageKey\": null\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"reviews(first:30)\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n\n(node as any).hash = \"aa1f6a4d5384a0133128bd587d5501f7\";\n\nexport default node;\n","/**\n * @generated SignedSource<<d07351107a38b173d735b71295112e1c>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type CommentThreadPullRequestReviewFragment$data = {\n  readonly comments: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly id: string;\n        readonly line: number | null | undefined;\n        readonly startLine: number | null | undefined;\n        readonly \" $fragmentSpreads\": FragmentRefs<\"CommentFragment\">;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly id: string;\n  readonly isPending: boolean | null | undefined;\n  readonly isResolved: boolean;\n  readonly line: number | null | undefined;\n  readonly startLine: number | null | undefined;\n  readonly viewerCanReply: boolean;\n  readonly viewerCanResolve: boolean;\n  readonly viewerCanUnresolve: boolean;\n  readonly \" $fragmentType\": \"CommentThreadPullRequestReviewFragment\";\n};\nexport type CommentThreadPullRequestReviewFragment$key = {\n  readonly \" $data\"?: CommentThreadPullRequestReviewFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"CommentThreadPullRequestReviewFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv1 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"line\",\n  \"storageKey\": null\n},\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"startLine\",\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"CommentThreadPullRequestReviewFragment\",\n  \"selections\": [\n    (v0/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"isResolved\",\n      \"storageKey\": null\n    },\n    (v1/*: any*/),\n    (v2/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"first\",\n          \"value\": 20\n        }\n      ],\n      \"concreteType\": \"PullRequestReviewCommentConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"comments\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestReviewCommentEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestReviewComment\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                (v0/*: any*/),\n                (v2/*: any*/),\n                (v1/*: any*/),\n                {\n                  \"args\": null,\n                  \"kind\": \"FragmentSpread\",\n                  \"name\": \"CommentFragment\"\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"comments(first:20)\"\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"viewerCanReply\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"viewerCanResolve\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"viewerCanUnresolve\",\n      \"storageKey\": null\n    },\n    {\n      \"kind\": \"ClientExtension\",\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"kind\": \"ScalarField\",\n          \"name\": \"isPending\",\n          \"storageKey\": null\n        }\n      ]\n    }\n  ],\n  \"type\": \"PullRequestReviewThread\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"fdad2bca9cc9fa29e9ba28f0528953d1\";\n\nexport default node;\n","/**\n * @generated SignedSource<<ad2f003cea9279adaec9f20371de21f6>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type ResolveReviewThreadInput = {\n  clientMutationId?: string | null | undefined;\n  threadId: string;\n};\nexport type resolveMutationResolveReviewThreadMutation$variables = {\n  input: ResolveReviewThreadInput;\n};\nexport type resolveMutationResolveReviewThreadMutation$data = {\n  readonly resolveReviewThread: {\n    readonly thread: {\n      readonly isResolved: boolean;\n    } | null | undefined;\n  } | null | undefined;\n};\nexport type resolveMutationResolveReviewThreadMutation = {\n  response: resolveMutationResolveReviewThreadMutation$data;\n  variables: resolveMutationResolveReviewThreadMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"input\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"input\",\n    \"variableName\": \"input\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"isResolved\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"resolveMutationResolveReviewThreadMutation\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"ResolveReviewThreadPayload\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"resolveReviewThread\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"PullRequestReviewThread\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"thread\",\n            \"plural\": false,\n            \"selections\": [\n              (v2/*: any*/)\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"resolveMutationResolveReviewThreadMutation\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"ResolveReviewThreadPayload\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"resolveReviewThread\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"PullRequestReviewThread\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"thread\",\n            \"plural\": false,\n            \"selections\": [\n              (v2/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"id\",\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"641695ec9879785ab75cf16964a6790c\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"resolveMutationResolveReviewThreadMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation resolveMutationResolveReviewThreadMutation(\\n  $input: ResolveReviewThreadInput!\\n) {\\n  resolveReviewThread(input: $input) {\\n    thread {\\n      isResolved\\n      id\\n    }\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"f70941499b9849ac6ef09d817901d77e\";\n\nexport default node;\n","import { useMutation } from \"react-relay\";\nimport { Disposable, graphql } from \"relay-runtime\";\nimport { resolveMutationResolveReviewThreadMutation } from \"./__generated__/resolveMutationResolveReviewThreadMutation.graphql\";\n\n\nconst resolveMutation = graphql`\n  mutation resolveMutationResolveReviewThreadMutation(\n    $input: ResolveReviewThreadInput!\n  ) {\n    resolveReviewThread(input: $input) {\n      thread {\n        isResolved\n      }\n    }\n  }\n`;\n\nexport default function useResolveMutation(): [\n  (threadId: string, onComplete?: () => void) => Disposable,\n  boolean\n] {\n  const [mutate, isMutating] =\n    // @ts-expect-error 2769\n    useMutation<resolveMutationResolveReviewThreadMutation>(resolveMutation);\n  return [\n    (threadId, onComplete) =>\n      mutate({\n        variables: {\n          input: {\n            threadId,\n          },\n        },\n        onCompleted: onComplete\n      }),\n    isMutating,\n  ];\n}\n","/**\n * @generated SignedSource<<e58d1f39375d6b607ea423b785e2e067>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nexport type UnresolveReviewThreadInput = {\n  clientMutationId?: string | null | undefined;\n  threadId: string;\n};\nexport type unresolveMutationResolveReviewThreadMutation$variables = {\n  input: UnresolveReviewThreadInput;\n};\nexport type unresolveMutationResolveReviewThreadMutation$data = {\n  readonly unresolveReviewThread: {\n    readonly thread: {\n      readonly isResolved: boolean;\n    } | null | undefined;\n  } | null | undefined;\n};\nexport type unresolveMutationResolveReviewThreadMutation = {\n  response: unresolveMutationResolveReviewThreadMutation$data;\n  variables: unresolveMutationResolveReviewThreadMutation$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"input\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"input\",\n    \"variableName\": \"input\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"isResolved\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"unresolveMutationResolveReviewThreadMutation\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"UnresolveReviewThreadPayload\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"unresolveReviewThread\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"PullRequestReviewThread\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"thread\",\n            \"plural\": false,\n            \"selections\": [\n              (v2/*: any*/)\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Mutation\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"unresolveMutationResolveReviewThreadMutation\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"UnresolveReviewThreadPayload\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"unresolveReviewThread\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"PullRequestReviewThread\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"thread\",\n            \"plural\": false,\n            \"selections\": [\n              (v2/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"id\",\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"902dd181485f550cd286b893d80a18b4\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"unresolveMutationResolveReviewThreadMutation\",\n    \"operationKind\": \"mutation\",\n    \"text\": \"mutation unresolveMutationResolveReviewThreadMutation(\\n  $input: UnresolveReviewThreadInput!\\n) {\\n  unresolveReviewThread(input: $input) {\\n    thread {\\n      isResolved\\n      id\\n    }\\n  }\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"97e6df83e28c50be44d194ed35693ced\";\n\nexport default node;\n","import { useMutation } from \"react-relay\";\nimport { Disposable, graphql } from \"relay-runtime\";\nimport { unresolveMutationResolveReviewThreadMutation } from \"./__generated__/unresolveMutationResolveReviewThreadMutation.graphql\";\n\n\nconst unresolveMutation = graphql`\n  mutation unresolveMutationResolveReviewThreadMutation(\n    $input: UnresolveReviewThreadInput!\n  ) {\n    unresolveReviewThread(input: $input) {\n      thread {\n        isResolved\n      }\n    }\n  }\n`;\n\nexport default function useUnresolveMutation(): [\n  (threadId: string, onComplete?: () => void) => Disposable,\n  boolean\n] {\n  const [mutate, isMutating] =\n    useMutation<unresolveMutationResolveReviewThreadMutation>(unresolveMutation);\n  return [\n    (threadId, onComplete) =>\n      mutate({\n        variables: {\n          input: {\n            threadId,\n          },\n        },\n        onCompleted: onComplete\n      }),\n    isMutating,\n  ];\n}\n","import { Button, Card, Group, Stack, Text } from \"@mantine/core\";\nimport { IconCheckbox } from \"@tabler/icons-react\";\nimport { ReactElement, useCallback, useRef, useState } from \"react\";\nimport { graphql, useFragment } from \"react-relay\";\nimport { Styles } from \"../../styles\";\nimport { filterNulls, first, only } from \"../../utils\";\nimport ErrorBoundary from \"../ErrorBoundary\";\nimport { useToggle } from \"../layout/Toggle\";\nimport { useDeleteReviewThreadUpdater } from \"../mutations/addReviewThreadUpdater\";\nimport usePendingReviewThreadCommentUpdater, {\n  useDeletePendingThreadComment,\n} from \"../mutations/pendingReviewThreadComment\";\nimport useResolveMutation from \"../mutations/resolveMutation\";\nimport useUnresolveMutation from \"../mutations/unresolveMutation\";\nimport { CommentThreadPullRequestFragment$key } from \"./__generated__/CommentThreadPullRequestFragment.graphql\";\nimport Comment from \"./Comment\";\nimport { MarkdownTextareaRef } from \"../editor/MarkdownTextarea\";\nimport { MarkdownTextarea } from \"../editor/LazyMarkdownTextarea\";\nimport { CommentThreadPullRequestReviewFragment$key } from \"./__generated__/CommentThreadPullRequestReviewFragment.graphql\";\n\nconst reviewThreadFragment = graphql`\n  fragment CommentThreadPullRequestReviewFragment on PullRequestReviewThread {\n    id\n    isPending\n    isResolved\n    line\n    startLine\n    comments(first: 20) {\n      edges {\n        node {\n          id\n          startLine\n          line\n          ...CommentFragment\n        }\n      }\n    }\n    viewerCanReply\n    viewerCanResolve\n    viewerCanUnresolve\n  }\n`;\n\nconst prFragment = graphql`\n  fragment CommentThreadPullRequestFragment on PullRequest {\n    reviews(first: 30) {\n      edges {\n        node {\n          id\n          state\n        }\n      }\n    }\n  }\n`;\n\ntype Props = Readonly<{\n  reviewThread: CommentThreadPullRequestReviewFragment$key;\n  pr: CommentThreadPullRequestFragment$key;\n}>;\n\nfunction CommentThreadImpl({\n  reviewThread: reviewThreadRef,\n  pr: prRef,\n}: Props): ReactElement | null {\n  // return <Text>Comment thread</Text>;\n  const commentThread = useFragment(reviewThreadFragment, reviewThreadRef);\n  const pr = useFragment(prFragment, prRef);\n  const pendingReview = only(\n    filterNulls(pr.reviews?.edges?.map((e) => e?.node)).map(\n      (n) => n.state == null || n.state === 'PENDING'\n    )\n  );\n  console.log(pendingReview);\n  const textareaRef = useRef<MarkdownTextareaRef>(null);\n  const [isSuggesting, setIsSuggesting] = useState(false);\n  const [isHidden, toggle, setIsHidden] = useToggle(\n    commentThread.isResolved,\n    commentThread.isResolved ? 12 : 16\n  );\n  const pendingThreadCommentUpdater = usePendingReviewThreadCommentUpdater();\n  const deleteReply = useDeletePendingThreadComment();\n  const deleteThread = useDeleteReviewThreadUpdater();\n  const saveComment = useCallback(() => {\n    const comment = textareaRef?.current?.getMarkdown();\n    if (comment == null){\n      return;\n    }\n    pendingThreadCommentUpdater(comment, commentThread.id);\n    textareaRef?.current?.setMarkdown(\"\");\n  }, [commentThread.id, pendingThreadCommentUpdater]);\n  const [resolveThread, isResolving] = useResolveMutation();\n  const [unresolveThread, isUnresolving] = useUnresolveMutation();\n  const [isEmpty, setIsEmpty] = useState(true);\n  const comments = filterNulls(\n    commentThread.comments?.edges?.map((e) => e?.node)\n  );\n  const resolveComments = !commentThread.isPending && (\n    <Button\n      size={commentThread.isResolved ? \"compact-xs\" : \"compact-sm\"}\n      variant=\"default\"\n      disabled={\n        !(commentThread.viewerCanResolve || commentThread.viewerCanUnresolve)\n      }\n      loading={isResolving || isUnresolving}\n      onClick={() => {\n        if (commentThread.isResolved) {\n          unresolveThread(commentThread.id);\n          setIsHidden(false);\n        } else {\n          resolveThread(commentThread.id);\n          setIsHidden(true);\n        }\n      }}\n    >\n      <Group gap=\"xxxs\">\n        <IconCheckbox stroke={1} size={16} />\n        {commentThread.isResolved ? \"Resolved\" : \"Resolve\"}\n      </Group>\n    </Button>\n  );\n\n  const showReply = commentThread.viewerCanReply && !isHidden;\n  const firstComment = first(comments);\n  let headlineText = null;\n  if (firstComment != null) {\n    if (firstComment.startLine != null) {\n      headlineText = `${comments.length} comment(s) on lines ${\n        firstComment.startLine\n      }-${first(comments)?.line}`;\n    } else {\n      headlineText = `${comments.length} comment(s) on line ${firstComment.line}`;\n    }\n  }\n  if (commentThread.isPending) {\n    if (commentThread.startLine != null) {\n      headlineText = `are commenting on lines ${commentThread.startLine}-${commentThread.line}`;\n    } else {\n      headlineText = `are commenting on line ${commentThread.line}`;\n    }\n  }\n  return (\n    <Card\n      withBorder\n      radius={0}\n      className=\"comment-thread\"\n      color={commentThread.isPending ? \"yellow\" : undefined}\n    >\n      <Card.Section\n        withBorder\n        color={commentThread.isPending ? \"yellow\" : undefined}\n      >\n        <Group\n          className={Styles.secondaryText}\n          mx=\"sm\"\n          my={commentThread.isResolved ? 2 : 6}\n        >\n          <Text size={commentThread.isResolved ? \"xs\" : \"sm\"}>\n            {headlineText}\n          </Text>\n          <Group align=\"center\" className={Styles.floatRight}>\n            {resolveComments}\n            {!commentThread.isPending && toggle}\n          </Group>\n        </Group>\n      </Card.Section>\n      <Card.Section className=\"thread-comment middle\">\n        {!isHidden &&\n          comments.map((n, idx) => (\n            <Comment\n              comment={n}\n              header=\"none\"\n              bottomBorder={idx !== comments.length - 1}\n              border\n              key={n.id}\n            />\n          ))}\n        {showReply && (\n          <Stack gap={0}>\n            <MarkdownTextarea\n              converterRef={textareaRef}\n              onChange={setIsEmpty}\n              instanceId={commentThread.id}\n              m={0}\n            />\n            <Group justify=\"space-between\" m=\"xs\" mt=\"xs\">\n              <Button\n                disabled={!commentThread.isPending && isEmpty}\n                onClick={() => {\n                  deleteReply(commentThread.id);\n                  textareaRef?.current?.setMarkdown(\"\");\n                  if (commentThread.isPending) {\n                    deleteThread(commentThread.id);\n                  }\n                }}\n                size=\"compact-sm\"\n                variant=\"secondary\"\n              >\n                Cancel\n              </Button>\n              <Group>\n                <Button\n                  onClick={() => setIsSuggesting(true)}\n                  size=\"compact-sm\"\n                  variant=\"secondary\"\n                  disabled={isEmpty}\n                >\n                  Suggest changes\n                </Button>\n                <Button\n                  onClick={() => saveComment()}\n                  size=\"compact-sm\"\n                  disabled={isEmpty}\n                >\n                  Save\n                </Button>\n              </Group>\n            </Group>\n          </Stack>\n        )}\n      </Card.Section>\n    </Card>\n  );\n}\n\nexport default function CommentThread(props: Props): ReactElement {\n  console.log(props);\n  return (\n    <ErrorBoundary>\n      <CommentThreadImpl {...props} />\n    </ErrorBoundary>\n  );\n}\n","import { useMantineColorScheme } from \"@mantine/core\";\nimport React, { MouseEvent, useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useInView } from \"react-intersection-observer\";\nimport * as shiki from \"shiki\";\nimport { FontStyle } from \"@shikijs/vscode-textmate\";\nimport { Change, diffWordsWithSpace } from \"diff\";\nimport classes from \"./FileDiffer.module.css\";\nimport * as filename2shiki from \"filename2shiki\";\nimport { classNames } from \"../../styles\";\nimport useAddReviewThreadUpdater from \"../mutations/addReviewThreadUpdater\";\nimport CommentThread from \"./CommentThread\";\nimport { graphql, useFragment } from \"react-relay\";\nimport { FileDifferFragment$data } from \"./__generated__/FileDifferFragment.graphql\";\nimport { FileDiffer2Fragment$data, FileDiffer2Fragment$key } from \"./__generated__/FileDiffer2Fragment.graphql\";\nimport { filterNulls } from \"../../utils\";\nimport { useImmer } from \"use-immer\";\n\nconst worker = new Worker(new URL(\"./highlightWorker.ts\", import.meta.url), {\n  type: \"module\",\n});\n\ntype DiffLine = {\n  oldNumber: number | null;\n  newNumber: number | null;\n  type: \"add\" | \"del\" | \"context\";\n  content: string;\n};\n\ntype PatchBlock = {\n  lineStart: number;\n  header?: string;\n  lines: DiffLine[];\n};\n\nconst shikiTokenToStyle = (token: shiki.ThemedToken, themeFgColor?: string): React.CSSProperties => {\n  const style: React.CSSProperties = { color: token.color || themeFgColor }; // Use theme FG if token.color is undefined\n  if (token.fontStyle) {\n    if (token.fontStyle & FontStyle.Italic) style.fontStyle = \"italic\";\n    if (token.fontStyle & FontStyle.Bold) style.fontWeight = \"bold\";\n    if (token.fontStyle & FontStyle.Underline) style.textDecoration = \"underline\";\n  }\n  return style;\n};\n\nconst getDiffClassForPart = (diffPart: Change): string => {\n  if (diffPart.added) return classes.intralineAdded;\n  if (diffPart.removed) return classes.intralineRemoved;\n  return \"\";\n};\n\nfunction renderLineContent(\n  shikiTokensForLine: shiki.ThemedToken[] | undefined,\n  charDiffs: Change[],\n  lineType: \"add\" | \"del\",\n  themeFgColor?: string // Pass the theme's default foreground color\n): React.ReactNode[] {\n  const resultNodes: React.ReactNode[] = [];\n  let currentTokenIndex = 0;\n  let offsetInToken = 0;\n  let charKeyCounter = 0;\n\n  // Handle cases where there are no Shiki tokens for the line at all\n  if (!shikiTokensForLine || shikiTokensForLine.length === 0) {\n    for (const part of charDiffs) {\n      if ((lineType === \"del\" && part.added) || (lineType === \"add\" && part.removed)) {\n        continue;\n      }\n      if (part.value) {\n        resultNodes.push(\n          <span\n            key={`no-shiki-${charKeyCounter++}`}\n            className={getDiffClassForPart(part)}\n            style={themeFgColor ? { color: themeFgColor } : {}} // Apply default fg color\n          >\n            {part.value}\n          </span>\n        );\n      }\n    }\n    return resultNodes;\n  }\n\n  for (const diffPart of charDiffs) {\n    if ((lineType === \"del\" && diffPart.added) || (lineType === \"add\" && diffPart.removed)) {\n      continue;\n    }\n\n    let remainingTextInDiffPart = diffPart.value;\n    while (remainingTextInDiffPart.length > 0) {\n      if (currentTokenIndex >= shikiTokensForLine.length) {\n        // No more Shiki tokens, but still text in this diff part\n        if (remainingTextInDiffPart) {\n          resultNodes.push(\n            <span\n              key={`trailing-${charKeyCounter++}`}\n              className={getDiffClassForPart(diffPart)}\n              style={themeFgColor ? { color: themeFgColor } : {}} // Apply default fg color\n            >\n              {remainingTextInDiffPart}\n            </span>\n          );\n        }\n        break; // Move to the next diff part\n      }\n\n      const currentToken = shikiTokensForLine[currentTokenIndex];\n      const tokenText = currentToken.content || \"\";\n      const availableTextInToken = tokenText.substring(offsetInToken);\n\n      if (availableTextInToken.length === 0) {\n        // Current token is exhausted, move to the next token\n        currentTokenIndex++;\n        offsetInToken = 0;\n        continue; // Re-evaluate with the new token or exit if no more tokens\n      }\n\n      const consumeLength = Math.min(availableTextInToken.length, remainingTextInDiffPart.length);\n      const textSegment = availableTextInToken.substring(0, consumeLength);\n\n      if (textSegment) {\n        resultNodes.push(\n          <span\n            key={`${charKeyCounter++}-${currentTokenIndex}-${offsetInToken}`}\n            style={shikiTokenToStyle(currentToken, themeFgColor)}\n            className={getDiffClassForPart(diffPart)}\n          >\n            {textSegment}\n          </span>\n        );\n      }\n\n      offsetInToken += consumeLength;\n      remainingTextInDiffPart = remainingTextInDiffPart.substring(consumeLength);\n    }\n  }\n  return resultNodes;\n}\n\nfunction splitPatches(patch: string): Map<number, string> {\n  const lines = patch.split(\"\\n\");\n  const patches = new Map<number, string>();\n  let current: string[] = [];\n  let currentNumber = -1;\n\n  for (const [idx, line] of lines.entries()) {\n    if (line.startsWith(\"@@\")) {\n      if (current.length > 0 && currentNumber !== -1) patches.set(currentNumber, current.join(\"\\n\"));\n      current = [line];\n      currentNumber = idx;\n    } else {\n      current.push(line);\n    }\n  }\n\n  if (current.length > 0 && currentNumber !== -1) patches.set(currentNumber, current.join(\"\\n\"));\n  return patches;\n}\n\nfunction parseGitPatch(patchHunk: string, lineStartInFullPatch: number): PatchBlock {\n  const lines = patchHunk.split(\"\\n\");\n  const result: DiffLine[] = [];\n  let blockHeader: string | undefined = undefined;\n  let oldLineStartNum = 0;\n  let newLineStartNum = 0;\n\n  if (lines.length > 0 && lines[0].startsWith(\"@@\")) {\n    const match = /@@ -(\\d+)(?:,(\\d+))? \\+(\\d+)(?:,(\\d+))? @@(.*)/.exec(lines[0]);\n    if (match) {\n      oldLineStartNum = parseInt(match[1], 10);\n      newLineStartNum = parseInt(match[3], 10);\n      blockHeader = match[5] ? match[5].trim() : undefined;\n    }\n  }\n\n  let currentOldLine = oldLineStartNum;\n  let currentNewLine = newLineStartNum;\n\n  for (let i = 1; i < lines.length; i++) {\n    const line = lines[i];\n    if (line.startsWith(\"+\")) {\n      result.push({\n        oldNumber: null,\n        newNumber: currentNewLine++,\n        type: \"add\",\n        content: line.slice(1),\n      });\n    } else if (line.startsWith(\"-\")) {\n      result.push({\n        oldNumber: currentOldLine++,\n        newNumber: null,\n        type: \"del\",\n        content: line.slice(1),\n      });\n    } else if (line.startsWith(\" \")) {\n      result.push({\n        oldNumber: currentOldLine++,\n        newNumber: currentNewLine++,\n        type: \"context\",\n        content: line.slice(1),\n      });\n    } else if (line.startsWith(\"\\\\\") || line.trim() === \"\") {\n      // Handle \"\\ No newline...\" or empty lines if they affect Shiki's line count.\n      // If Shiki also receives these empty strings and tokenizes them (e.g. as []),\n      // then including them as DiffLine with empty content might be necessary for alignment.\n      // For now, let's assume Shiki handles content lines passed and `parseGitPatch` should match that.\n      // If an empty line in the patch (e.g., a blank line that was added/deleted) is significant:\n      if (\n        line.trim() === \"\" &&\n        (lines[i - 1]?.startsWith(\"+\") || lines[i - 1]?.startsWith(\"-\") || lines[i - 1]?.startsWith(\" \"))\n      ) {\n        // This is complex. If the line before was part of the diff, this might be an empty line in the diff.\n        // For now, strict parsing of +, -, ' ' lines.\n      }\n    }\n  }\n  return {\n    lines: result,\n    lineStart: lineStartInFullPatch,\n    header: blockHeader,\n  };\n}\n\nconst prFragment = graphql`\n  fragment FileDiffer2Fragment on PullRequest {\n    id\n    ...CommentThreadPullRequestFragment\n    reviewThreads(first: 20) {\n      edges {\n        node {\n          id\n          path\n          line\n          ...CommentThreadPullRequestReviewFragment\n        }\n      }\n    }\n  }\n`;\n\ntype ReviewThread = NonNullable<\n  NonNullable<NonNullable<FileDiffer2Fragment$data[\"reviewThreads\"][\"edges\"]>[number]>[\"node\"]\n>;\n\nexport default function FileDiffer2({\n  patch,\n  fileName,\n  pr: prRef,\n}: {\n  patch: string;\n  fileName: string;\n  pr: FileDiffer2Fragment$key;\n}) {\n  console.log(\"render\");\n  const { colorScheme } = useMantineColorScheme();\n  const [tokensMap, setTokensMap] = useImmer<Record<string, shiki.TokensResult>>({});\n  const { ref } = useInView({ rootMargin: \"1000px\" });\n  const inView = true;\n  const pr = useFragment(prFragment, prRef);\n  const blocks = useMemo(() => {\n    if (!inView || !patch) return [];\n    const patchStrings = splitPatches(patch);\n    return Array.from(patchStrings.entries()).map(([lineNum, patchStr]) => parseGitPatch(patchStr, lineNum));\n  }, [inView, patch]);\n\n  const knownIds = useMemo(\n    () => new Set(inView ? blocks.map((b) => `${fileName}_${b.lineStart}`) : []),\n    [blocks, fileName, inView]\n  );\n  const [isSelecting, setIsSelecting] = useState(false);\n  const [highlightedRows, setHighlightedRows] = useImmer<(number | null)[]>([null, null]);\n  const [expandedComemnts, setExpandedComments] = useImmer(new Set());\n  const addReviewThread = useAddReviewThreadUpdater();\n  // In case the mouse up happes outside the linenumber column\n  const onWindowMouseUp = useCallback(() => {\n    setIsSelecting(false);\n    setHighlightedRows([null, null]);\n  }, [setHighlightedRows]);\n  const onMouseDown = useCallback(\n    (ev: MouseEvent) => {\n      const row = parseInt(ev.target?.parentElement?.getAttribute(\"data-line\"));\n      setIsSelecting(true);\n      setHighlightedRows((s) => [row, s[1]]);\n      window.addEventListener(\"mouseup\", onWindowMouseUp);\n    },\n    [setHighlightedRows, onWindowMouseUp]\n  );\n  const reviewThreads = filterNulls(\n    pr?.reviewThreads?.edges\n      ?.map((e) => e?.node)\n      ?.flat()\n      ?.filter((c) => c != null && c?.path == fileName)\n  ).reduce((acc, curr) => {\n    const line = curr.line;\n    const rt = curr;\n    if (acc.has(line)) {\n      acc.get(line)?.push(rt);\n    } else {\n      acc.set(line, [rt]);\n    }\n    return acc;\n  }, new Map<number | null | undefined, ReviewThread[]>());\n  const onMouseUp = useCallback(\n    (ev: MouseEvent) => {\n      const endRow = parseInt(ev.target?.parentElement?.getAttribute(\"data-line\"));\n      setIsSelecting(false);\n      window.removeEventListener(\"mouseup\", onWindowMouseUp);\n      const [startRow, _endRow] = highlightedRows;\n      const threadsAtLine = new Set(reviewThreads.get(endRow)?.map((rt) => rt.startLine ?? endRow) ?? []);\n      if (startRow == null) {\n        return;\n      }\n      if (threadsAtLine.has(endRow ?? null)) {\n        return;\n      }\n      if (startRow == endRow) {\n        addReviewThread(fileName, endRow, pr.id);\n      } else {\n        addReviewThread(fileName, startRow, pr.id, endRow);\n      }\n      setHighlightedRows([null, null]);\n      if (ev.preventDefault) {\n        ev.preventDefault();\n      }\n    },\n    [onWindowMouseUp, reviewThreads, highlightedRows, setHighlightedRows, addReviewThread, fileName, pr.id]\n  );\n  const onMouseEnter = useCallback(\n    (ev: MouseEvent) => {\n      const row = parseInt(ev.target?.parentElement?.getAttribute(\"data-line\"));\n      if (isSelecting) {\n        setHighlightedRows((s) => [s[0], row]);\n      }\n    },\n    [setHighlightedRows, isSelecting]\n  );\n\n  useEffect(() => {\n    if (!inView || blocks.length === 0) {\n      return;\n    }\n\n    blocks.forEach(({ lines, lineStart }) => {\n      const codeLines = lines.map((l) => l.content);\n      if (codeLines.length > 0) {\n        const langForShiki = filename2shiki.findOne(fileName) || \"plaintext\";\n        worker.postMessage({\n          type: \"highlight\",\n          id: `${fileName}_${lineStart}`,\n          code: codeLines.join(\"\\n\"),\n          lang: langForShiki,\n          dark: colorScheme === \"dark\",\n        });\n      }\n    });\n  }, [fileName, colorScheme, inView, blocks]);\n\n  useEffect(() => {\n    const handler = (e: MessageEvent) => {\n      if (e.data.type === \"result\" && knownIds.has(e.data.id)) {\n        setTokensMap((prev) => ({ ...prev, [e.data.id]: e.data.tokens }));\n      }\n    };\n    worker.addEventListener(\"message\", handler);\n    return () => worker.removeEventListener(\"message\", handler);\n  }, [knownIds, setTokensMap]);\n  const toggleThread = useCallback(\n    (ev: MouseEvent) => {\n      const line = ev.target?.parentElement?.getAttribute(\"data-line\");\n      if (line == null) {\n        return;\n      }\n      const lintInt = parseInt(line);\n      setExpandedComments((ec) => {\n        ec.has(lintInt) ? ec.delete(lintInt) : ec.add(lintInt);\n      });\n    },\n    [setExpandedComments]\n  );\n\n  if (!inView && blocks.length === 0 && patch) {\n    return <div ref={ref} style={{ minHeight: \"200px\" }} />;\n  }\n\n  return (\n    <div ref={ref}>\n      {blocks.map((block) => {\n        const blockTokensResult = tokensMap[`${fileName}_${block.lineStart}`];\n        const themeFgColor = blockTokensResult?.fg; // Get theme's default foreground\n\n        return (\n          <div key={`${fileName}_${block.lineStart}`}>\n            {block.header && <div className={classes.blockHeader}>{block.header}</div>}\n            <table className={classes.fileTable}>\n              <tbody>\n                {block.lines.map((line, lineIndex) => {\n                  const currentLineTokens = blockTokensResult?.tokens?.[lineIndex];\n\n                  let charDiffs: Change[] | null = null;\n                  let isPartOfPair = false;\n\n                  if (\n                    line.type === \"del\" &&\n                    lineIndex + 1 < block.lines.length &&\n                    block.lines[lineIndex + 1].type === \"add\"\n                  ) {\n                    charDiffs = diffWordsWithSpace(line.content, block.lines[lineIndex + 1].content);\n                    isPartOfPair = true;\n                  } else if (line.type === \"add\" && lineIndex > 0 && block.lines[lineIndex - 1].type === \"del\") {\n                    charDiffs = diffWordsWithSpace(block.lines[lineIndex - 1].content, line.content);\n                    isPartOfPair = true;\n                  }\n\n                  const attemptIntraline = (line.type === \"add\" || line.type === \"del\") && isPartOfPair && charDiffs;\n\n                  return (\n                    <>\n                      <tr\n                        key={`${block.lineStart}_${line.oldNumber}_${line.newNumber}`}\n                        className={classNames(\n                          line.type === \"add\" && classes.addedLine,\n                          line.type === \"del\" && classes.removedLine\n                        )}\n                        data-line={line.newNumber}\n                      >\n                        <td\n                          className={classNames(\n                            classes.lineNumber,\n                            reviewThreads.has(line.newNumber) && classes.lineNumberComment\n                          )}\n                          onClick={toggleThread}\n                        >\n                          {line.oldNumber ?? \"\"}\n                        </td>\n                        <td\n                          className={classNames(\n                            classes.lineNumber,\n                            classes.lineNumberRight,\n                            reviewThreads.has(line.newNumber) && classes.lineNumberComment\n                          )}\n                          data-line={line.newNumber}\n                          onMouseDown={onMouseDown}\n                          onMouseEnter={onMouseEnter}\n                          onMouseUp={onMouseUp}\n                          onClick={toggleThread}\n                        >\n                          {line.newNumber ?? \"\"}\n                        </td>\n                        <td className={classNames(classes.codeCell, line.type === \"context\" && classes.contextLine)}>\n                          {attemptIntraline ? (\n                            renderLineContent(currentLineTokens, charDiffs!, line.type as \"add\" | \"del\", themeFgColor)\n                          ) : currentLineTokens && currentLineTokens.length > 0 ? (\n                            currentLineTokens.map((token, j) => (\n                              <span key={j} style={shikiTokenToStyle(token, themeFgColor)}>\n                                {token.content}\n                              </span>\n                            ))\n                          ) : (\n                            <span\n                              style={{\n                                whiteSpace: \"pre-wrap\",\n                                color: themeFgColor || \"inherit\",\n                              }}\n                            >\n                              {/* Apply theme FG or inherit for raw content */}\n                              {line.content}\n                            </span>\n                          )}\n                        </td>\n                      </tr>\n                      {expandedComemnts.has(line.newNumber) &&\n                        reviewThreads.get(line.newNumber)?.map((rt) => (\n                          <tr className=\"comment-container\" key={rt.id}>\n                            <td colSpan={3}>\n                              <CommentThread pr={pr} reviewThread={rt} />\n                            </td>\n                          </tr>\n                        ))}\n                    </>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import { Card, Group, Text } from \"@mantine/core\";\nimport { ReactElement, Suspense } from \"react\";\nimport { graphql, useFragment } from \"react-relay\";\nimport { ComparePRResultFile } from \"../../api\";\nimport { Styles, classNames } from \"../../styles\";\nimport { only } from \"../../utils\";\nimport LoadingSpinner from \"../LoadingSpinner\";\nimport { useToggle } from \"../layout/Toggle\";\nimport ActionMenu from \"./ActionMenu\";\nimport CopyableFilePath from \"./CopyableFilePath\";\nimport FileDiffer from \"./FileDiffer\";\nimport { PADDING_PX } from \"./PRReview\";\nimport { CommitFileCommitFragment$key } from \"./__generated__/CommitFileCommitFragment.graphql\";\nimport { CommitFileFragment$key } from \"./__generated__/CommitFileFragment.graphql\";\nimport { CommitFileRepositoryFragment$key } from \"./__generated__/CommitFileRepositoryFragment.graphql\";\nimport FileDiffer2 from \"./FileDiffer2\";\n\nconst fragment = graphql`\n  fragment CommitFileFragment on PullRequest {\n    ...FileDiffer2Fragment\n  }\n`;\n\nconst repoFragment = graphql`\n  fragment CommitFileRepositoryFragment on Repository {\n    owner {\n      login\n    }\n    name\n    defaultBranchRef {\n      name\n    }\n  }\n`;\nconst commitFragment = graphql`\n  fragment CommitFileCommitFragment on Commit {\n    oid\n    parents(first: 2) {\n      edges {\n        node {\n          oid\n        }\n      }\n    }\n  }\n`;\n\ntype Props = Readonly<{\n  pr: CommitFileFragment$key;\n  repo: CommitFileRepositoryFragment$key;\n  commit: CommitFileCommitFragment$key;\n  compareData: ComparePRResultFile;\n}>;\n\nexport default function CommitFile(props: Props): ReactElement {\n  return (\n    <Suspense fallback={<LoadingSpinner />}>\n      <CommitFileImpl {...props} />\n    </Suspense>\n  );\n}\n\nfunction CommitFileImpl({\n  pr: prRef,\n  repo: repoRef,\n  commit: commitRef,\n  compareData: c,\n}: Props): ReactElement {\n  const pr = useFragment(fragment, prRef);\n  const repo = useFragment(repoFragment, repoRef);\n  const commit = useFragment(commitFragment, commitRef);\n  const parent = only(commit.parents.edges?.map((e) => e?.node));\n  const [isHidden, toggle, setIsHidden] = useToggle();\n  return (\n    <Card className=\"file-header\" key={c.filename} mb=\"md\" withBorder>\n      <Card.Section\n        inheritPadding\n        // Prevent text selection on double click\n        onMouseDown={(e) => {\n          if (e.detail > 1) {\n            e.preventDefault();\n          }\n        }}\n        // onClick={(e) => {\n        //   setIsHidden((h) => !h);\n        // }}\n        // To offset the overall padding\n        style={{ top: -PADDING_PX }}\n        withBorder\n        py={6}\n      >\n        <Group align=\"center\" justify=\"start\" wrap=\"nowrap\">\n          <CopyableFilePath path={c.filename} />\n          <Text style={{ whiteSpace: \"pre\" }}>\n            {\" \"}\n            <Text span c={\"green.8\"}>\n              +{c.additions}\n            </Text>{\" \"}\n            <Text span c={\"red.8\"}>\n              -{c.deletions}\n            </Text>\n          </Text>\n          <Group align=\"center\" style={{ marginLeft: \"auto\" }} gap=\"sm\">\n            <ActionMenu\n              commitOid={commit.oid}\n              defaultBranchName={repo.defaultBranchRef?.name}\n              filename={c.filename}\n              name={repo.name}\n              owner={repo.owner.login}\n              parentCommitOid={parent?.oid}\n            />\n            {toggle}\n          </Group>\n        </Group>\n      </Card.Section>\n      {!isHidden && (\n        <Card.Section style={{ padding: 0 }}>\n          {c.patch == null ? (\n            <Text pl=\"sm\">No diff for this file</Text>\n          ) : (\n            <FileDiffer2\n              fileName={c.filename}\n              patch={c.patch}\n              pr={pr}\n            />\n          )}\n        </Card.Section>\n      )}\n    </Card>\n  );\n}\n","import { useAtomValue } from \"jotai\";\nimport { ReactElement, useRef } from \"react\";\nimport { graphql, useFragment } from \"react-relay\";\nimport { useGetCompareCommits } from \"../../api\";\nimport { reviewSplitByCommitSelector } from \"../../state/settings\";\nimport { Styles } from \"../../styles\";\nimport { filterNulls, only } from \"../../utils\";\nimport { useToggle } from \"../layout/Toggle\";\nimport CommitFile from \"./CommitFile\";\nimport { CommitViewFragment$key } from \"./__generated__/CommitViewFragment.graphql\";\nimport { CommitViewPullRequestFragment$key } from \"./__generated__/CommitViewPullRequestFragment.graphql\";\nimport { CommitViewRepositoryFragment$key } from \"./__generated__/CommitViewRepositoryFragment.graphql\";\nimport { Alert, Group } from \"@mantine/core\";\n\n\nconst fragment = graphql`\n  fragment CommitViewFragment on Commit {\n    ...CommitFileCommitFragment\n    oid\n    messageHeadline\n    additions\n    deletions\n    message\n    parents(first: 2) {\n      edges {\n        node {\n          oid\n          message\n        }\n      }\n    }\n  }\n`;\n\nconst repositoryFragment = graphql`\n  fragment CommitViewRepositoryFragment on Repository {\n    ...CommitFileRepositoryFragment\n  }\n`;\n\nconst prFragment = graphql`\n  fragment CommitViewPullRequestFragment on PullRequest {\n    ...CommitFileFragment\n  }\n`;\n\nexport default function CommitView({\n  owner,\n  name,\n  commit: commitRef,\n  pr: prRef,\n  repo: repoRef,\n  baseRef,\n}: Readonly<{\n  name: string;\n  commit: CommitViewFragment$key;\n  repo: CommitViewRepositoryFragment$key;\n  pr: CommitViewPullRequestFragment$key;\n  baseRef: string;\n  owner: string;\n}>): ReactElement | null {\n  const commit = useFragment(fragment, commitRef);\n  const repo = useFragment(repositoryFragment, repoRef);\n  const pr = useFragment(prFragment, prRef);\n  const reviewSplitByCommit = useAtomValue(reviewSplitByCommitSelector);\n  const parents = filterNulls(\n    commit?.parents?.edges?.map((e) => e?.node) ?? []\n  );\n  const parent = only(parents);\n  const compareData = useGetCompareCommits(\n    owner,\n    name,\n    baseRef,\n    commit.oid,\n    !reviewSplitByCommit || parent != null\n  );\n  const ref = useRef<HTMLDivElement>(null);\n  const [commitIsHidden, commitToggle] = useToggle();\n  if (reviewSplitByCommit && parents?.length > 1) {\n    // TODO probably better way to do this...\n    return (\n      <Alert className=\"commit-header\" ref={ref} variant=\"info\">\n        {commit.message}\n      </Alert>\n    );\n  }\n  return (\n    <>\n      {reviewSplitByCommit ? \n        <Alert className=\"commit-header\" ref={ref} variant=\"info\">\n          <Group>\n            <div>\n              Commit: {commit.messageHeadline} -{\" \"}\n              <span className={Styles.colorSuccess}>+{commit.additions}</span>{\" \"}\n              <span className={Styles.colorDanger}>-{commit.deletions}</span>\n            </div>\n            {commitToggle}\n          </Group>\n        </Alert> : null}\n      {!commitIsHidden &&\n        compareData?.files?.map((c) => (\n          <CommitFile\n            commit={commit}\n            compareData={c}\n            key={c.filename}\n            pr={pr}\n            repo={repo}\n          />\n        ))}\n    </>\n  );\n}\n","import { useAtomValue } from \"jotai\";\nimport { type ReactElement } from \"react\";\nimport { graphql, useFragment, useLazyLoadQuery } from \"react-relay\";\nimport { useGetCompareCommits } from \"../../api\";\nimport { reviewSplitByCommitSelector } from \"../../state/settings\";\nimport { filterNulls, last, only } from \"../../utils\";\nimport ErrorBoundary from \"../ErrorBoundary\";\nimport CommitView from \"./CommitView\";\nimport { CommitsViewPullRequestFragment$key } from \"./__generated__/CommitsViewPullRequestFragment.graphql\";\nimport { CommitsViewRepositoryFragment$key } from \"./__generated__/CommitsViewRepositoryFragment.graphql\";\nimport { CommitsViewSelectedCommitsQuery } from \"./__generated__/CommitsViewSelectedCommitsQuery.graphql\";\nimport { activeVersionAtom, baseActiveVersionAtom } from \"./settings\";\nimport { Alert } from \"@mantine/core\";\n\n\nconst reviewFragment = graphql`\n  fragment CommitsViewPullRequestFragment on PullRequest {\n    __typename\n    baseRef {\n      name\n    }\n    commits(first: 30) {\n      totalCount\n      edges {\n        node {\n          commit {\n            id\n            ...CommitViewFragment\n            parents(first: 2) {\n              edges {\n                node {\n                  oid\n                  message\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    ...CommitViewPullRequestFragment\n  }\n`;\n\nconst selectedCommitsQuery = graphql`\n  query CommitsViewSelectedCommitsQuery($ids: [ID!]!) {\n    nodes(ids: $ids) {\n      ... on Commit {\n        ...CommitViewFragment\n        id\n        parents(first: 2) {\n          edges {\n            node {\n              oid\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst repositoryFragment = graphql`\n  fragment CommitsViewRepositoryFragment on Repository {\n    ...CommitViewRepositoryFragment\n  }\n`;\n\ntype Props = Readonly<{\n  owner: string;\n  name: string;\n  defaultBranchName: string;\n  pr: CommitsViewPullRequestFragment$key;\n  repo: CommitsViewRepositoryFragment$key;\n}>;\n\nfunction CommitsViewImpl({\n  owner,\n  name,\n  pr: prRef,\n  repo: repoRef,\n}: Props): ReactElement | null {\n  const pr = useFragment(reviewFragment, prRef);\n  const repo = useFragment(repositoryFragment, repoRef);\n  const baseActiveVersion = useAtomValue(baseActiveVersionAtom);\n  const activeVersion = useAtomValue(activeVersionAtom);\n  const reviewSplitByCommit = useAtomValue(reviewSplitByCommitSelector);\n  const commitsFromBaseVersion = useGetCompareCommits(\n    owner,\n    name,\n    baseActiveVersion?.oid,\n    activeVersion?.headOid,\n  );\n  const commitsFromVersionData =\n    useLazyLoadQuery<CommitsViewSelectedCommitsQuery>(\n      selectedCommitsQuery,\n      {\n        ids:\n          commitsFromBaseVersion?.commits.map((e) => e.node_id) ??\n          activeVersion?.nodeIds ??\n          [],\n      },\n      {\n        fetchPolicy:\n          activeVersion == null && baseActiveVersion == null\n            ? \"store-only\"\n            : \"store-or-network\",\n        fetchKey: `${activeVersion?.headOid}...${baseActiveVersion?.oid}`\n      }\n    ) ?? null;\n\n  const prCommits = filterNulls(pr.commits.edges?.map((e) => e?.node?.commit));\n\n  const commits =\n    activeVersion == null ? prCommits : commitsFromVersionData.nodes ?? [];\n\n  const numMissingCommits = (pr.commits?.totalCount ?? 0) - commits.length;\n  const lastCommit = last(commits);\n  if (lastCommit == null) {\n    return null;\n  }\n  if (!reviewSplitByCommit) {\n    return (\n      <CommitView\n        baseRef={\n          (baseActiveVersion?.oid ??\n            activeVersion?.baseRef ??\n            pr.baseRef?.name)!\n        }\n        commit={lastCommit}\n        name={name}\n        owner={owner}\n        pr={pr}\n        repo={repo}\n      />\n    );\n  }\n\n  const commitComponents = commits.map((commit) => {\n    if (commit == null || repo == null) {\n      return null;\n    }\n    const baseRef = only(commit.parents?.edges?.map((e) => e?.node));\n    return (\n      <CommitView\n        baseRef={baseActiveVersion?.oid ?? baseRef?.oid}\n        commit={commit}\n        key={commit.id}\n        name={name}\n        owner={owner}\n        pr={pr}\n        repo={repo}\n      />\n    );\n  });\n  return (\n    <>\n      {numMissingCommits > 0 && (\n        <Alert variant=\"warning\">\n          <span>\n            {numMissingCommits} more commits and pagination is not implemented!\n          </span>\n        </Alert>\n      )}\n      {commitComponents}\n    </>\n  );\n}\n\nexport default function CommitsView(props: Props) {\n  return (\n    <ErrorBoundary>\n      <CommitsViewImpl {...props} />\n    </ErrorBoundary>\n  );\n}\n","/**\n * @generated SignedSource<<d6f0ccbae347b8ccb72ff1265eb5c639>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ConcreteRequest } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type SummaryPanelFragment2$variables = {\n  id: string;\n  includeTeam: boolean;\n};\nexport type SummaryPanelFragment2$data = {\n  readonly node: {\n    readonly \" $fragmentSpreads\": FragmentRefs<\"SummaryPanelFragment\">;\n  } | null | undefined;\n};\nexport type SummaryPanelFragment2 = {\n  response: SummaryPanelFragment2$data;\n  variables: SummaryPanelFragment2$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"id\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"includeTeam\"\n},\nv2 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"id\",\n    \"variableName\": \"id\"\n  }\n],\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"__typename\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"body\",\n  \"storageKey\": null\n},\nv6 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"createdAt\",\n  \"storageKey\": null\n},\nv7 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"state\",\n  \"storageKey\": null\n},\nv8 = [\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"first\",\n    \"value\": 30\n  }\n],\nv9 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"login\",\n  \"storageKey\": null\n},\nv10 = {\n  \"kind\": \"InlineFragment\",\n  \"selections\": [\n    (v4/*: any*/)\n  ],\n  \"type\": \"Node\",\n  \"abstractKey\": \"__isNode\"\n},\nv11 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": null,\n  \"kind\": \"LinkedField\",\n  \"name\": \"author\",\n  \"plural\": false,\n  \"selections\": [\n    (v3/*: any*/),\n    (v9/*: any*/),\n    (v10/*: any*/)\n  ],\n  \"storageKey\": null\n},\nv12 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n},\nv13 = [\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"count\",\n    \"storageKey\": null\n  },\n  (v7/*: any*/)\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"SummaryPanelFragment2\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v2/*: any*/),\n        \"concreteType\": null,\n        \"kind\": \"LinkedField\",\n        \"name\": \"node\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"args\": null,\n            \"kind\": \"FragmentSpread\",\n            \"name\": \"SummaryPanelFragment\"\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v1/*: any*/),\n      (v0/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"SummaryPanelFragment2\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v2/*: any*/),\n        \"concreteType\": null,\n        \"kind\": \"LinkedField\",\n        \"name\": \"node\",\n        \"plural\": false,\n        \"selections\": [\n          (v3/*: any*/),\n          (v4/*: any*/),\n          {\n            \"kind\": \"InlineFragment\",\n            \"selections\": [\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"mergeable\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"url\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"title\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"closed\",\n                \"storageKey\": null\n              },\n              (v5/*: any*/),\n              (v6/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"viewerCanMergeAsAdmin\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"number\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"isDraft\",\n                \"storageKey\": null\n              },\n              (v7/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"kind\": \"ScalarField\",\n                \"name\": \"mergeStateStatus\",\n                \"storageKey\": null\n              },\n              {\n                \"alias\": null,\n                \"args\": (v8/*: any*/),\n                \"concreteType\": \"IssueCommentConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"comments\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"IssueCommentEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"IssueComment\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v5/*: any*/),\n                          (v4/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"comments(first:30)\"\n              },\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Ref\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"baseRef\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"BranchProtectionRule\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"branchProtectionRule\",\n                    \"plural\": false,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"requiresCodeOwnerReviews\",\n                        \"storageKey\": null\n                      },\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"kind\": \"ScalarField\",\n                        \"name\": \"requiredApprovingReviewCount\",\n                        \"storageKey\": null\n                      },\n                      (v4/*: any*/)\n                    ],\n                    \"storageKey\": null\n                  },\n                  (v4/*: any*/)\n                ],\n                \"storageKey\": null\n              },\n              (v11/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": (v8/*: any*/),\n                \"concreteType\": \"PullRequestReviewConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"reviews\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"PullRequestReviewEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"PullRequestReview\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          (v7/*: any*/),\n                          (v6/*: any*/),\n                          (v11/*: any*/),\n                          (v4/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"reviews(first:30)\"\n              },\n              {\n                \"alias\": null,\n                \"args\": (v8/*: any*/),\n                \"concreteType\": \"ReviewRequestConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"reviewRequests\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"ReviewRequestEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"ReviewRequest\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"kind\": \"ScalarField\",\n                            \"name\": \"asCodeOwner\",\n                            \"storageKey\": null\n                          },\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"concreteType\": null,\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"requestedReviewer\",\n                            \"plural\": false,\n                            \"selections\": [\n                              (v3/*: any*/),\n                              {\n                                \"kind\": \"InlineFragment\",\n                                \"selections\": [\n                                  (v9/*: any*/)\n                                ],\n                                \"type\": \"User\",\n                                \"abstractKey\": null\n                              },\n                              {\n                                \"condition\": \"includeTeam\",\n                                \"kind\": \"Condition\",\n                                \"passingValue\": true,\n                                \"selections\": [\n                                  {\n                                    \"kind\": \"InlineFragment\",\n                                    \"selections\": [\n                                      (v12/*: any*/)\n                                    ],\n                                    \"type\": \"Team\",\n                                    \"abstractKey\": null\n                                  }\n                                ]\n                              },\n                              (v10/*: any*/)\n                            ],\n                            \"storageKey\": null\n                          },\n                          (v4/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"reviewRequests(first:30)\"\n              },\n              {\n                \"alias\": \"lastCommit\",\n                \"args\": [\n                  {\n                    \"kind\": \"Literal\",\n                    \"name\": \"last\",\n                    \"value\": 1\n                  }\n                ],\n                \"concreteType\": \"PullRequestCommitConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"commits\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"PullRequestCommitEdge\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"edges\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"PullRequestCommit\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"node\",\n                        \"plural\": false,\n                        \"selections\": [\n                          {\n                            \"alias\": null,\n                            \"args\": null,\n                            \"concreteType\": \"Commit\",\n                            \"kind\": \"LinkedField\",\n                            \"name\": \"commit\",\n                            \"plural\": false,\n                            \"selections\": [\n                              {\n                                \"alias\": null,\n                                \"args\": null,\n                                \"concreteType\": \"StatusCheckRollup\",\n                                \"kind\": \"LinkedField\",\n                                \"name\": \"statusCheckRollup\",\n                                \"plural\": false,\n                                \"selections\": [\n                                  (v7/*: any*/),\n                                  {\n                                    \"alias\": null,\n                                    \"args\": [\n                                      {\n                                        \"kind\": \"Literal\",\n                                        \"name\": \"first\",\n                                        \"value\": 50\n                                      }\n                                    ],\n                                    \"concreteType\": \"StatusCheckRollupContextConnection\",\n                                    \"kind\": \"LinkedField\",\n                                    \"name\": \"contexts\",\n                                    \"plural\": false,\n                                    \"selections\": [\n                                      {\n                                        \"alias\": null,\n                                        \"args\": null,\n                                        \"kind\": \"ScalarField\",\n                                        \"name\": \"totalCount\",\n                                        \"storageKey\": null\n                                      },\n                                      {\n                                        \"alias\": null,\n                                        \"args\": null,\n                                        \"concreteType\": \"CheckRunStateCount\",\n                                        \"kind\": \"LinkedField\",\n                                        \"name\": \"checkRunCountsByState\",\n                                        \"plural\": true,\n                                        \"selections\": (v13/*: any*/),\n                                        \"storageKey\": null\n                                      },\n                                      {\n                                        \"alias\": null,\n                                        \"args\": null,\n                                        \"concreteType\": \"StatusContextStateCount\",\n                                        \"kind\": \"LinkedField\",\n                                        \"name\": \"statusContextCountsByState\",\n                                        \"plural\": true,\n                                        \"selections\": (v13/*: any*/),\n                                        \"storageKey\": null\n                                      },\n                                      {\n                                        \"alias\": null,\n                                        \"args\": null,\n                                        \"concreteType\": \"StatusCheckRollupContextEdge\",\n                                        \"kind\": \"LinkedField\",\n                                        \"name\": \"edges\",\n                                        \"plural\": true,\n                                        \"selections\": [\n                                          {\n                                            \"alias\": null,\n                                            \"args\": null,\n                                            \"concreteType\": null,\n                                            \"kind\": \"LinkedField\",\n                                            \"name\": \"node\",\n                                            \"plural\": false,\n                                            \"selections\": [\n                                              (v3/*: any*/),\n                                              {\n                                                \"kind\": \"InlineFragment\",\n                                                \"selections\": [\n                                                  (v4/*: any*/),\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"detailsUrl\",\n                                                    \"storageKey\": null\n                                                  },\n                                                  (v12/*: any*/),\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"status\",\n                                                    \"storageKey\": null\n                                                  },\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"conclusion\",\n                                                    \"storageKey\": null\n                                                  }\n                                                ],\n                                                \"type\": \"CheckRun\",\n                                                \"abstractKey\": null\n                                              },\n                                              {\n                                                \"kind\": \"InlineFragment\",\n                                                \"selections\": [\n                                                  (v4/*: any*/),\n                                                  (v7/*: any*/),\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"description\",\n                                                    \"storageKey\": null\n                                                  },\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"context\",\n                                                    \"storageKey\": null\n                                                  },\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"avatarUrl\",\n                                                    \"storageKey\": null\n                                                  },\n                                                  {\n                                                    \"alias\": null,\n                                                    \"args\": null,\n                                                    \"kind\": \"ScalarField\",\n                                                    \"name\": \"targetUrl\",\n                                                    \"storageKey\": null\n                                                  }\n                                                ],\n                                                \"type\": \"StatusContext\",\n                                                \"abstractKey\": null\n                                              },\n                                              (v10/*: any*/)\n                                            ],\n                                            \"storageKey\": null\n                                          }\n                                        ],\n                                        \"storageKey\": null\n                                      }\n                                    ],\n                                    \"storageKey\": \"contexts(first:50)\"\n                                  },\n                                  (v4/*: any*/)\n                                ],\n                                \"storageKey\": null\n                              },\n                              (v4/*: any*/)\n                            ],\n                            \"storageKey\": null\n                          },\n                          (v4/*: any*/)\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"commits(last:1)\"\n              }\n            ],\n            \"type\": \"PullRequest\",\n            \"abstractKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"cacheID\": \"f2cd296a85281845bc409f058bf9a197\",\n    \"id\": null,\n    \"metadata\": {},\n    \"name\": \"SummaryPanelFragment2\",\n    \"operationKind\": \"query\",\n    \"text\": \"query SummaryPanelFragment2(\\n  $includeTeam: Boolean!\\n  $id: ID!\\n) {\\n  node(id: $id) {\\n    __typename\\n    ...SummaryPanelFragment\\n    id\\n  }\\n}\\n\\nfragment PRTitleFragment on PullRequest {\\n  title\\n  body\\n  number\\n  isDraft\\n  state\\n  mergeStateStatus\\n  comments(first: 30) {\\n    edges {\\n      node {\\n        body\\n        id\\n      }\\n    }\\n  }\\n}\\n\\nfragment SummaryPanelFragment on PullRequest {\\n  mergeable\\n  url\\n  title\\n  closed\\n  body\\n  createdAt\\n  viewerCanMergeAsAdmin\\n  ...PRTitleFragment\\n  baseRef {\\n    branchProtectionRule {\\n      requiresCodeOwnerReviews\\n      requiredApprovingReviewCount\\n      id\\n    }\\n    id\\n  }\\n  author {\\n    __typename\\n    login\\n    ... on Node {\\n      __isNode: __typename\\n      id\\n    }\\n  }\\n  reviews(first: 30) {\\n    edges {\\n      node {\\n        state\\n        createdAt\\n        author {\\n          __typename\\n          login\\n          ... on Node {\\n            __isNode: __typename\\n            id\\n          }\\n        }\\n        id\\n      }\\n    }\\n  }\\n  reviewRequests(first: 30) {\\n    edges {\\n      node {\\n        asCodeOwner\\n        requestedReviewer {\\n          __typename\\n          ... on User {\\n            login\\n          }\\n          ... on Team @include(if: $includeTeam) {\\n            name\\n          }\\n          ... on Node {\\n            __isNode: __typename\\n            id\\n          }\\n        }\\n        id\\n      }\\n    }\\n  }\\n  lastCommit: commits(last: 1) {\\n    edges {\\n      node {\\n        commit {\\n          statusCheckRollup {\\n            state\\n            contexts(first: 50) {\\n              totalCount\\n              checkRunCountsByState {\\n                count\\n                state\\n              }\\n              statusContextCountsByState {\\n                count\\n                state\\n              }\\n              edges {\\n                node {\\n                  __typename\\n                  ... on CheckRun {\\n                    __typename\\n                    id\\n                    detailsUrl\\n                    name\\n                    status\\n                    conclusion\\n                  }\\n                  ... on StatusContext {\\n                    __typename\\n                    id\\n                    state\\n                    description\\n                    context\\n                    avatarUrl\\n                    targetUrl\\n                  }\\n                  ... on Node {\\n                    __isNode: __typename\\n                    id\\n                  }\\n                }\\n              }\\n            }\\n            id\\n          }\\n          id\\n        }\\n        id\\n      }\\n    }\\n  }\\n  id\\n}\\n\"\n  }\n};\n})();\n\n(node as any).hash = \"c923c3bd9f9a1a761c9a797470b35540\";\n\nexport default node;\n","/**\n * @generated SignedSource<<27326e1510c6776983066abdee26c0a0>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nexport type CheckConclusionState = \"ACTION_REQUIRED\" | \"CANCELLED\" | \"FAILURE\" | \"NEUTRAL\" | \"SKIPPED\" | \"STALE\" | \"STARTUP_FAILURE\" | \"SUCCESS\" | \"TIMED_OUT\" | \"%future added value\";\nexport type CheckRunState = \"ACTION_REQUIRED\" | \"CANCELLED\" | \"COMPLETED\" | \"FAILURE\" | \"IN_PROGRESS\" | \"NEUTRAL\" | \"PENDING\" | \"QUEUED\" | \"SKIPPED\" | \"STALE\" | \"STARTUP_FAILURE\" | \"SUCCESS\" | \"TIMED_OUT\" | \"WAITING\" | \"%future added value\";\nexport type CheckStatusState = \"COMPLETED\" | \"IN_PROGRESS\" | \"PENDING\" | \"QUEUED\" | \"REQUESTED\" | \"WAITING\" | \"%future added value\";\nexport type MergeableState = \"CONFLICTING\" | \"MERGEABLE\" | \"UNKNOWN\" | \"%future added value\";\nexport type PullRequestReviewState = \"APPROVED\" | \"CHANGES_REQUESTED\" | \"COMMENTED\" | \"DISMISSED\" | \"PENDING\" | \"%future added value\";\nexport type StatusState = \"ERROR\" | \"EXPECTED\" | \"FAILURE\" | \"PENDING\" | \"SUCCESS\" | \"%future added value\";\nimport { FragmentRefs } from \"relay-runtime\";\nexport type SummaryPanelFragment$data = {\n  readonly author: {\n    readonly login: string;\n  } | null | undefined;\n  readonly baseRef: {\n    readonly branchProtectionRule: {\n      readonly requiredApprovingReviewCount: number | null | undefined;\n      readonly requiresCodeOwnerReviews: boolean;\n    } | null | undefined;\n  } | null | undefined;\n  readonly body: string;\n  readonly closed: boolean;\n  readonly createdAt: any;\n  readonly id: string;\n  readonly lastCommit: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly commit: {\n          readonly statusCheckRollup: {\n            readonly contexts: {\n              readonly checkRunCountsByState: ReadonlyArray<{\n                readonly count: number;\n                readonly state: CheckRunState;\n              }> | null | undefined;\n              readonly edges: ReadonlyArray<{\n                readonly node: {\n                  readonly __typename: \"CheckRun\";\n                  readonly conclusion: CheckConclusionState | null | undefined;\n                  readonly detailsUrl: any | null | undefined;\n                  readonly id: string;\n                  readonly name: string;\n                  readonly status: CheckStatusState;\n                } | {\n                  readonly __typename: \"StatusContext\";\n                  readonly avatarUrl: any | null | undefined;\n                  readonly context: string;\n                  readonly description: string | null | undefined;\n                  readonly id: string;\n                  readonly state: StatusState;\n                  readonly targetUrl: any | null | undefined;\n                } | {\n                  // This will never be '%other', but we need some\n                  // value in case none of the concrete values match.\n                  readonly __typename: \"%other\";\n                } | null | undefined;\n              } | null | undefined> | null | undefined;\n              readonly statusContextCountsByState: ReadonlyArray<{\n                readonly count: number;\n                readonly state: StatusState;\n              }> | null | undefined;\n              readonly totalCount: number;\n            };\n            readonly state: StatusState;\n          } | null | undefined;\n        };\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly mergeable: MergeableState;\n  readonly reviewRequests: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly asCodeOwner: boolean;\n        readonly requestedReviewer: {\n          readonly login?: string;\n          readonly name?: string;\n        } | null | undefined;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  } | null | undefined;\n  readonly reviews: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly author: {\n          readonly login: string;\n        } | null | undefined;\n        readonly createdAt: any;\n        readonly state: PullRequestReviewState;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  } | null | undefined;\n  readonly title: string;\n  readonly url: any;\n  readonly viewerCanMergeAsAdmin: boolean;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"PRTitleFragment\">;\n  readonly \" $fragmentType\": \"SummaryPanelFragment\";\n};\nexport type SummaryPanelFragment$key = {\n  readonly \" $data\"?: SummaryPanelFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"SummaryPanelFragment\">;\n};\n\nimport SummaryPanelFragment2_graphql from './SummaryPanelFragment2.graphql';\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"createdAt\",\n  \"storageKey\": null\n},\nv1 = [\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"login\",\n    \"storageKey\": null\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"concreteType\": null,\n  \"kind\": \"LinkedField\",\n  \"name\": \"author\",\n  \"plural\": false,\n  \"selections\": (v1/*: any*/),\n  \"storageKey\": null\n},\nv3 = [\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"first\",\n    \"value\": 30\n  }\n],\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"state\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n},\nv6 = [\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"count\",\n    \"storageKey\": null\n  },\n  (v4/*: any*/)\n],\nv7 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"__typename\",\n  \"storageKey\": null\n},\nv8 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [\n    {\n      \"kind\": \"RootArgument\",\n      \"name\": \"includeTeam\"\n    }\n  ],\n  \"kind\": \"Fragment\",\n  \"metadata\": {\n    \"refetch\": {\n      \"connection\": null,\n      \"fragmentPathInResult\": [\n        \"node\"\n      ],\n      \"operation\": SummaryPanelFragment2_graphql,\n      \"identifierInfo\": {\n        \"identifierField\": \"id\",\n        \"identifierQueryVariableName\": \"id\"\n      }\n    }\n  },\n  \"name\": \"SummaryPanelFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"mergeable\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"url\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"title\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"closed\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"body\",\n      \"storageKey\": null\n    },\n    (v0/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"viewerCanMergeAsAdmin\",\n      \"storageKey\": null\n    },\n    {\n      \"args\": null,\n      \"kind\": \"FragmentSpread\",\n      \"name\": \"PRTitleFragment\"\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"concreteType\": \"Ref\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"baseRef\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"BranchProtectionRule\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"branchProtectionRule\",\n          \"plural\": false,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"kind\": \"ScalarField\",\n              \"name\": \"requiresCodeOwnerReviews\",\n              \"storageKey\": null\n            },\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"kind\": \"ScalarField\",\n              \"name\": \"requiredApprovingReviewCount\",\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": null\n    },\n    (v2/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": (v3/*: any*/),\n      \"concreteType\": \"PullRequestReviewConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"reviews\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestReviewEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestReview\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                (v4/*: any*/),\n                (v0/*: any*/),\n                (v2/*: any*/)\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"reviews(first:30)\"\n    },\n    {\n      \"alias\": null,\n      \"args\": (v3/*: any*/),\n      \"concreteType\": \"ReviewRequestConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"reviewRequests\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"ReviewRequestEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"ReviewRequest\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"kind\": \"ScalarField\",\n                  \"name\": \"asCodeOwner\",\n                  \"storageKey\": null\n                },\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"concreteType\": null,\n                  \"kind\": \"LinkedField\",\n                  \"name\": \"requestedReviewer\",\n                  \"plural\": false,\n                  \"selections\": [\n                    {\n                      \"kind\": \"InlineFragment\",\n                      \"selections\": (v1/*: any*/),\n                      \"type\": \"User\",\n                      \"abstractKey\": null\n                    },\n                    {\n                      \"condition\": \"includeTeam\",\n                      \"kind\": \"Condition\",\n                      \"passingValue\": true,\n                      \"selections\": [\n                        {\n                          \"kind\": \"InlineFragment\",\n                          \"selections\": [\n                            (v5/*: any*/)\n                          ],\n                          \"type\": \"Team\",\n                          \"abstractKey\": null\n                        }\n                      ]\n                    }\n                  ],\n                  \"storageKey\": null\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"reviewRequests(first:30)\"\n    },\n    {\n      \"alias\": \"lastCommit\",\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"last\",\n          \"value\": 1\n        }\n      ],\n      \"concreteType\": \"PullRequestCommitConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"commits\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"PullRequestCommitEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"PullRequestCommit\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                {\n                  \"alias\": null,\n                  \"args\": null,\n                  \"concreteType\": \"Commit\",\n                  \"kind\": \"LinkedField\",\n                  \"name\": \"commit\",\n                  \"plural\": false,\n                  \"selections\": [\n                    {\n                      \"alias\": null,\n                      \"args\": null,\n                      \"concreteType\": \"StatusCheckRollup\",\n                      \"kind\": \"LinkedField\",\n                      \"name\": \"statusCheckRollup\",\n                      \"plural\": false,\n                      \"selections\": [\n                        (v4/*: any*/),\n                        {\n                          \"alias\": null,\n                          \"args\": [\n                            {\n                              \"kind\": \"Literal\",\n                              \"name\": \"first\",\n                              \"value\": 50\n                            }\n                          ],\n                          \"concreteType\": \"StatusCheckRollupContextConnection\",\n                          \"kind\": \"LinkedField\",\n                          \"name\": \"contexts\",\n                          \"plural\": false,\n                          \"selections\": [\n                            {\n                              \"alias\": null,\n                              \"args\": null,\n                              \"kind\": \"ScalarField\",\n                              \"name\": \"totalCount\",\n                              \"storageKey\": null\n                            },\n                            {\n                              \"alias\": null,\n                              \"args\": null,\n                              \"concreteType\": \"CheckRunStateCount\",\n                              \"kind\": \"LinkedField\",\n                              \"name\": \"checkRunCountsByState\",\n                              \"plural\": true,\n                              \"selections\": (v6/*: any*/),\n                              \"storageKey\": null\n                            },\n                            {\n                              \"alias\": null,\n                              \"args\": null,\n                              \"concreteType\": \"StatusContextStateCount\",\n                              \"kind\": \"LinkedField\",\n                              \"name\": \"statusContextCountsByState\",\n                              \"plural\": true,\n                              \"selections\": (v6/*: any*/),\n                              \"storageKey\": null\n                            },\n                            {\n                              \"alias\": null,\n                              \"args\": null,\n                              \"concreteType\": \"StatusCheckRollupContextEdge\",\n                              \"kind\": \"LinkedField\",\n                              \"name\": \"edges\",\n                              \"plural\": true,\n                              \"selections\": [\n                                {\n                                  \"alias\": null,\n                                  \"args\": null,\n                                  \"concreteType\": null,\n                                  \"kind\": \"LinkedField\",\n                                  \"name\": \"node\",\n                                  \"plural\": false,\n                                  \"selections\": [\n                                    {\n                                      \"kind\": \"InlineFragment\",\n                                      \"selections\": [\n                                        (v7/*: any*/),\n                                        (v8/*: any*/),\n                                        {\n                                          \"alias\": null,\n                                          \"args\": null,\n                                          \"kind\": \"ScalarField\",\n                                          \"name\": \"detailsUrl\",\n                                          \"storageKey\": null\n                                        },\n                                        (v5/*: any*/),\n                                        {\n                                          \"alias\": null,\n                                          \"args\": null,\n                                          \"kind\": \"ScalarField\",\n                                          \"name\": \"status\",\n                                          \"storageKey\": null\n                                        },\n                                        {\n                                          \"alias\": null,\n                                          \"args\": null,\n                                          \"kind\": \"ScalarField\",\n                                          \"name\": \"conclusion\",\n                                          \"storageKey\": null\n                                        }\n                                      ],\n                                      \"type\": \"CheckRun\",\n                                      \"abstractKey\": null\n                                    },\n                                    {\n                                      \"kind\": \"InlineFragment\",\n                                      \"selections\": [\n                                        (v7/*: any*/),\n                                        (v8/*: any*/),\n                                        (v4/*: any*/),\n                                        {\n                                          \"alias\": null,\n                                          \"args\": null,\n                                          \"kind\": \"ScalarField\",\n                                          \"name\": \"description\",\n                                          \"storageKey\": null\n                                        },\n                                        {\n                                          \"alias\": null,\n                                          \"args\": null,\n                                          \"kind\": \"ScalarField\",\n                                          \"name\": \"context\",\n                                          \"storageKey\": null\n                                        },\n                                        {\n                                          \"alias\": null,\n                                          \"args\": null,\n                                          \"kind\": \"ScalarField\",\n                                          \"name\": \"avatarUrl\",\n                                          \"storageKey\": null\n                                        },\n                                        {\n                                          \"alias\": null,\n                                          \"args\": null,\n                                          \"kind\": \"ScalarField\",\n                                          \"name\": \"targetUrl\",\n                                          \"storageKey\": null\n                                        }\n                                      ],\n                                      \"type\": \"StatusContext\",\n                                      \"abstractKey\": null\n                                    }\n                                  ],\n                                  \"storageKey\": null\n                                }\n                              ],\n                              \"storageKey\": null\n                            }\n                          ],\n                          \"storageKey\": \"contexts(first:50)\"\n                        }\n                      ],\n                      \"storageKey\": null\n                    }\n                  ],\n                  \"storageKey\": null\n                }\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"commits(last:1)\"\n    },\n    (v8/*: any*/)\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"c923c3bd9f9a1a761c9a797470b35540\";\n\nexport default node;\n","/**\n * @generated SignedSource<<008584f1ce5b756ab25267d7f8cfc7e1>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { ReaderFragment } from 'relay-runtime';\nexport type MergeStateStatus = \"BEHIND\" | \"BLOCKED\" | \"CLEAN\" | \"DIRTY\" | \"DRAFT\" | \"HAS_HOOKS\" | \"UNKNOWN\" | \"UNSTABLE\" | \"%future added value\";\nexport type PullRequestState = \"CLOSED\" | \"MERGED\" | \"OPEN\" | \"%future added value\";\nimport { FragmentRefs } from \"relay-runtime\";\nexport type PRTitleFragment$data = {\n  readonly body: string;\n  readonly comments: {\n    readonly edges: ReadonlyArray<{\n      readonly node: {\n        readonly body: string;\n      } | null | undefined;\n    } | null | undefined> | null | undefined;\n  };\n  readonly isDraft: boolean;\n  readonly mergeStateStatus: MergeStateStatus;\n  readonly number: number;\n  readonly state: PullRequestState;\n  readonly title: string;\n  readonly \" $fragmentType\": \"PRTitleFragment\";\n};\nexport type PRTitleFragment$key = {\n  readonly \" $data\"?: PRTitleFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"PRTitleFragment\">;\n};\n\nconst node: ReaderFragment = (function(){\nvar v0 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"body\",\n  \"storageKey\": null\n};\nreturn {\n  \"argumentDefinitions\": [],\n  \"kind\": \"Fragment\",\n  \"metadata\": null,\n  \"name\": \"PRTitleFragment\",\n  \"selections\": [\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"title\",\n      \"storageKey\": null\n    },\n    (v0/*: any*/),\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"number\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"isDraft\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"state\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": null,\n      \"kind\": \"ScalarField\",\n      \"name\": \"mergeStateStatus\",\n      \"storageKey\": null\n    },\n    {\n      \"alias\": null,\n      \"args\": [\n        {\n          \"kind\": \"Literal\",\n          \"name\": \"first\",\n          \"value\": 30\n        }\n      ],\n      \"concreteType\": \"IssueCommentConnection\",\n      \"kind\": \"LinkedField\",\n      \"name\": \"comments\",\n      \"plural\": false,\n      \"selections\": [\n        {\n          \"alias\": null,\n          \"args\": null,\n          \"concreteType\": \"IssueCommentEdge\",\n          \"kind\": \"LinkedField\",\n          \"name\": \"edges\",\n          \"plural\": true,\n          \"selections\": [\n            {\n              \"alias\": null,\n              \"args\": null,\n              \"concreteType\": \"IssueComment\",\n              \"kind\": \"LinkedField\",\n              \"name\": \"node\",\n              \"plural\": false,\n              \"selections\": [\n                (v0/*: any*/)\n              ],\n              \"storageKey\": null\n            }\n          ],\n          \"storageKey\": null\n        }\n      ],\n      \"storageKey\": \"comments(first:30)\"\n    }\n  ],\n  \"type\": \"PullRequest\",\n  \"abstractKey\": null\n};\n})();\n\n(node as any).hash = \"339970ed74e4c9e4458ec2d5c0f5b05a\";\n\nexport default node;\n","const regex =\n  /Stack from \\[ghstack\\].+?\\(oldest at bottom\\):\\r?\\n(?:\\*[^\\n]+\\r?\\n?)+/gm;\nconst hashPattern = /#[0-9]{1,}/g;\n\nexport function getGHStackInfo(body: string): number[] {\n  const blocks = body.match(regex);\n\n  return (\n    blocks\n      ?.flatMap((block) => block.match(hashPattern) ?? [])\n      ?.map((s) => parseInt(s.slice(1))) ?? []\n  );\n}\n\nexport function getBodyWithoutGHStack(body: string): string {\n  const matches = body.match(regex);\n  if (matches && matches.length > 0) {\n    return body.replace(matches[0], \"\");\n  }\n  return body;\n}\n\nconst graphiteRegex =\n  /(?:\\*[\\n]+\\n)+This stack of pull requests is manged by \\[Graphite\\]/gm;\nexport function getGraphiteStackInfo(body: string): number[] {\n  const blocks = body.match(graphiteRegex);\n\n  return (\n    blocks\n      ?.flatMap((block) => block.match(hashPattern) ?? [])\n      ?.map((s) => parseInt(s.slice(1))) ?? []\n  );\n}\n","import { graphql } from \"relay-runtime\";\nimport { PRTitleFragment$data, PRTitleFragment$key } from \"./__generated__/PRTitleFragment.graphql\";\nimport { Badge, Button, Group, Popover, ScrollArea, Stack, Text, Title } from \"@mantine/core\";\nimport { useFragment } from \"react-relay\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useGithubQueryWithPath } from \"../../api\";\nimport { useQueries, UseQueryResult } from \"@tanstack/react-query\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { getGHStackInfo, getGraphiteStackInfo } from \"./stack\";\nimport { IconChevronDown } from \"@tabler/icons-react\";\nimport { first } from \"../../utils\";\n\nconst regex = /(?:https:\\/\\/github\\.com\\/[^\\/\\s]+\\/[^\\/\\s]+\\/(?:pull|issues)\\/|#)(\\d+)/g;\n\nconst fragment = graphql`\n  fragment PRTitleFragment on PullRequest {\n    title\n    body\n    number\n    isDraft\n    state\n    mergeStateStatus\n    comments(first: 30) {\n      edges {\n        node {\n          body\n        }\n      }\n    }\n  }\n`;\n\ntype PRResponse = {\n  number: string;\n  title: string;\n  base: {\n    sha: string;\n    ref: string;\n  };\n  head: {\n    sha: string;\n    ref: string;\n  };\n};\n\nfunction useGetPRs(owner: string, name: string, numbers: number[]): UseQueryResult<PRResponse, Error>[] {\n  const queryFn = useGithubQueryWithPath<PRResponse>();\n  const data = useQueries({\n    queries: numbers.map((n) => ({\n      queryFn: () => queryFn(`repos/${owner}/${name}/pulls/${n}`),\n      queryKey: [\"GetPR\", owner, name, n],\n      staleTime: Infinity,\n    })),\n  });\n  return data;\n}\n\nfunction StatusBadge({ state }: { state: PRTitleFragment$data[\"state\"] }) {\n  let text = null;\n  let color = null;\n  if (state === \"MERGED\") {\n    text = \"Merged\";\n    color = \"violet\";\n  } else if (state === \"CLOSED\") {\n    text = \"Closed\";\n    color = \"red\";\n  } else {\n    return;\n  }\n  return (\n    <Badge variant=\"light\" color={color} ml=\"sm\" radius=\"sm\">\n      {text}\n    </Badge>\n  );\n}\n\nexport default function PRTitle({ pr: prRef }: { pr: PRTitleFragment$key }) {\n  // @ts-expect-error 2769\n  const pr = useFragment(fragment, prRef);\n  const relatedPrs =\n    getGHStackInfo(pr.body) ??\n    first(\n      pr.comments.edges\n        ?.map((e) => e?.node?.body)\n        ?.map((c) => (c == null ? null : getGraphiteStackInfo(c)))\n        ?.filter((c) => c != null)\n    )?.reverse() ??\n    [];\n  const params = useParams();\n  const paramWildcard = params[\"*\"];\n  const [owner, name] = paramWildcard?.split(\"/\") ?? [];\n  const data = useGetPRs(owner, name, relatedPrs);\n  const prs = data.map((pr) => pr.data).filter((data) => data != null);\n  const number = relatedPrs?.findIndex((p) => p === pr.number);\n  const prefix = relatedPrs.length === 0 ? null : `[${number + 1}/${relatedPrs.length}]`;\n  const navigate = useNavigate();\n  const [isOpened, setIsOpened] = useState(false);\n  const title = (\n    <Title size=\"md\" lineClamp={1}>\n      {prefix}\n      {pr.title}\n      <StatusBadge state={pr.state} />\n    </Title>\n  );\n  // Effect to close the popover when the route changes\n  useEffect(() => {\n    setIsOpened(false);\n  }, [location.pathname, pr.number]); // Depend on pathname or specific PR identifier\n  if (relatedPrs.length === 0) {\n    return title;\n  }\n  return (\n    <Popover opened={isOpened} onDismiss={() => setIsOpened(false)} onChange={setIsOpened}>\n      <Popover.Target>\n        <Button variant=\"subtle\" p={0} color=\"default\" onClick={() => setIsOpened((o) => !o)}>\n          {prefix && <IconChevronDown />}\n          {title}\n          <StatusBadge state={pr.state} />\n        </Button>\n      </Popover.Target>\n      <Popover.Dropdown>\n        <ScrollArea h={500}>\n          <Stack align=\"flex-start\">\n            {prs.map((p, idx) => (\n              <Button\n                key={p.number}\n                onClick={() => {\n                  setIsOpened((o) => !o);\n                  navigate(`/review/${owner}/${name}/${p.number}`);\n                }}\n                variant=\"subtle\"\n              >\n                [{idx + 1}/{relatedPrs.length}]{p.title}\n              </Button>\n            ))}\n          </Stack>\n        </ScrollArea>\n      </Popover.Dropdown>\n    </Popover>\n  );\n}\n","import { ActionIcon, Badge, Card, Group, Stack, Text, Title } from \"@mantine/core\";\nimport { IconAlertCircle, IconCheck, IconExclamationCircle, IconExternalLink } from \"@tabler/icons-react\";\nimport { ReactElement, Suspense } from \"react\";\nimport { useRefetchableFragment } from \"react-relay\";\nimport { graphql } from \"relay-runtime\";\nimport { filterNulls, isEmpty, only } from \"../../utils\";\nimport { useToggle } from \"../layout/Toggle\";\nimport LoadingSpinner from \"../LoadingSpinner\";\nimport TimeDiffer from \"../TimeDiffer\";\nimport {\n  PullRequestReviewState,\n  SummaryPanelFragment$data,\n  SummaryPanelFragment$key,\n} from \"./__generated__/SummaryPanelFragment.graphql\";\nimport User from \"./User\";\nimport dayjs from \"dayjs\";\nimport PRTitle from \"./PRTitle\";\nimport { MarkdownRenderer } from \"../markdown/LazyMarkdownRenderer\";\nimport { getBodyWithoutGHStack } from \"./stack\";\nimport { useAtom, useAtomValue } from \"jotai\";\nimport { userLoginAtom } from \"../../state/user\";\n\nconst fragment = graphql`\n  fragment SummaryPanelFragment on PullRequest @refetchable(queryName: \"SummaryPanelFragment2\") {\n    mergeable\n    url\n    title\n    closed\n    body\n    createdAt\n    viewerCanMergeAsAdmin\n    ...PRTitleFragment\n    baseRef {\n      branchProtectionRule {\n        requiresCodeOwnerReviews\n        requiredApprovingReviewCount\n      }\n    }\n    author {\n      login\n    }\n    reviews(first: 30) {\n      edges {\n        node {\n          state\n          createdAt\n          author {\n            login\n          }\n        }\n      }\n    }\n    reviewRequests(first: 30) {\n      edges {\n        node {\n          asCodeOwner\n          requestedReviewer {\n            ... on User {\n              login\n            }\n            ... on Team @include(if: $includeTeam) {\n              name\n            }\n          }\n        }\n      }\n    }\n    lastCommit: commits(last: 1) {\n      edges {\n        node {\n          commit {\n            statusCheckRollup {\n              state\n              contexts(first: 50) {\n                totalCount\n                checkRunCountsByState {\n                  count\n                  state\n                }\n                statusContextCountsByState {\n                  count\n                  state\n                }\n                edges {\n                  node {\n                    ... on CheckRun {\n                      __typename\n                      id\n                      detailsUrl\n                      name\n                      status\n                      conclusion\n                    }\n                    ... on StatusContext {\n                      __typename\n                      id\n                      state\n                      description\n                      context\n                      avatarUrl\n                      targetUrl\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\ntype Props = Readonly<{\n  pr: SummaryPanelFragment$key;\n}>;\n\nexport default function SummaryPanel(props: Props): ReactElement {\n  return (\n    <Suspense fallback={<LoadingSpinner />}>\n      <SummaryPanelImpl {...props} />\n    </Suspense>\n  );\n}\n\nfunction getCheckOrStatusRuns(\n  obj:\n    | NonNullable<SummaryPanelFragment$data[\"lastCommit\"][\"edges\"][]>[number][\"node\"]\n    | NonNullable<SummaryPanelFragment$data[\"lastCommit\"][\"edges\"]>[number][\"node\"]\n) {\n  return {};\n}\n\nfunction sortState(state: PullRequestReviewState | null | undefined) {\n  switch (state) {\n    case \"CHANGES_REQUESTED\":\n      return 50;\n    case \"APPROVED\":\n      return 40;\n    case \"COMMENTED\":\n      return 30;\n    default:\n      return 10;\n  }\n}\n\nfunction SummaryPanelImpl({ pr: prRef }: Props): ReactElement {\n  // @ts-expect-error 2769\n  const [pullRequest, refetch] = useRefetchableFragment(fragment, prRef);\n  const body = getBodyWithoutGHStack(pullRequest.body).trim();\n  const lastCommit = only(filterNulls(pullRequest.lastCommit.edges?.map((e) => e?.node)))?.commit;\n  const checkRuns = filterNulls(lastCommit?.statusCheckRollup?.contexts?.edges?.map((e) => e?.node));\n  const currentUser = useAtomValue(userLoginAtom);\n  const numRunsPassed =\n    (only(lastCommit?.statusCheckRollup?.contexts?.checkRunCountsByState?.filter((cr) => cr.state === \"SUCCESS\"))\n      ?.count ?? 0) +\n    (only(lastCommit?.statusCheckRollup?.contexts.statusContextCountsByState?.filter((sc) => sc.state === \"SUCCESS\"))\n      ?.count ?? 0);\n  const allCIPassing = lastCommit?.statusCheckRollup?.contexts?.totalCount === numRunsPassed;\n  const [isHidden, toggle] = useToggle(allCIPassing);\n  const reviewers = new Map<\n    string,\n    {\n      participated: boolean;\n      required: boolean;\n      state?: PullRequestReviewState;\n      date?: dayjs.Dayjs;\n      isTeam?: boolean;\n    }\n  >();\n  pullRequest.reviewRequests?.edges?.reduce((acc, curr) => {\n    const login = curr?.node?.requestedReviewer?.login;\n    if (login != null) {\n      acc.set(login, {\n        participated: false,\n        required:\n          acc.get(login)?.required ||\n          ((curr?.node?.asCodeOwner &&\n            !pullRequest.viewerCanMergeAsAdmin &&\n            pullRequest.baseRef?.branchProtectionRule?.requiresCodeOwnerReviews) ??\n            false),\n      });\n    }\n    const name = curr?.node?.requestedReviewer?.name;\n    if (name != null) {\n      acc.set(name, {\n        participated: false,\n        required:\n          acc.get(name)?.required ||\n          ((curr?.node?.asCodeOwner &&\n            !pullRequest.viewerCanMergeAsAdmin &&\n            pullRequest.baseRef?.branchProtectionRule?.requiresCodeOwnerReviews) ??\n            false),\n        isTeam: true,\n      });\n    }\n    return acc;\n  }, reviewers);\n  pullRequest.reviews?.edges?.reduce((acc, curr) => {\n    const login = curr?.node?.author?.login;\n    if (login == null) {\n      return acc;\n    }\n    const existing = acc.get(login);\n    acc.set(login, {\n      participated: true,\n      required: existing?.required ?? false,\n    });\n    if (\n      existing == null ||\n      existing.date == null ||\n      (existing.date < dayjs(curr?.node?.createdAt) && curr?.node?.state !== \"COMMENTED\")\n    ) {\n      acc.set(login, {\n        participated: true,\n        required: existing?.required ?? false,\n        state: curr?.node?.state ?? existing?.state,\n        date: dayjs(curr?.node?.createdAt),\n      });\n    }\n    return acc;\n  }, reviewers);\n  const allReviews = Array.from(reviewers.entries());\n  allReviews\n    .filter(([user, _]) => user != currentUser)\n    .sort(([_a, { state: stateA }], [_b, { state: stateB }]) => {\n      return sortState(stateA) - sortState(stateB);\n    });\n  const checkRunsComponent = (\n    <Stack style={{ maxHeight: 200, overflow: \"scroll\", marginTop: 16 }}>\n      {filterNulls(checkRuns)\n        .sort((a, b) => {\n          return -1;\n        })\n        .map((check) => {\n          if (check.__typename !== \"CheckRun\" && check.__typename !== \"StatusContext\") {\n            return null;\n          }\n          const body =\n            check.__typename === \"CheckRun\"\n              ? `${check.name}`\n              : check.__typename === \"StatusContext\"\n              ? `${check.context}: ${check.description}`\n              : \"\";\n          const checkIsSuccessful =\n            (check.__typename === \"CheckRun\" && check.conclusion === \"SUCCESS\") ||\n            (check.__typename === \"StatusContext\" && check.state === \"SUCCESS\");\n          const checkInProgress =\n            (check.__typename === \"CheckRun\" && check.status === \"IN_PROGRESS\") ||\n            (check.__typename === \"StatusContext\" && check.state === \"PENDING\");\n          const avatarUrl = check.__typename === \"StatusContext\" ? check.avatarUrl : null;\n          const detailsUrl =\n            check.__typename === \"StatusContext\"\n              ? check.targetUrl\n              : check.__typename === \"CheckRun\"\n              ? check.detailsUrl\n              : null;\n          return (\n            <Stack key={check.id}>\n              <Group align=\"center\">\n                {checkIsSuccessful ? (\n                  <IconCheck color=\"var(--mantine-color-green-8)\" />\n                ) : checkInProgress ? (\n                  <IconAlertCircle color=\"var(--mantine-color-yellow-8)\" />\n                ) : (\n                  <IconExclamationCircle color=\"var(--mantine-color-red-8)\" />\n                )}\n                {avatarUrl != null && (\n                  <img\n                    src={avatarUrl}\n                    style={{\n                      width: 16,\n                      marginRight: 4,\n                      objectFit: \"contain\",\n                    }}\n                  />\n                )}\n                {body}\n                <div className=\"float-right\">\n                  <a href={detailsUrl} rel=\"noreferrer\" target=\"_blank\">\n                    Details\n                  </a>\n                </div>\n              </Group>\n            </Stack>\n          );\n        })}\n    </Stack>\n  );\n  const ciStatusComponent = (\n    <Card.Section withBorder inheritPadding p=\"xs\">\n      <Group justify=\"space-between\">\n        <Group>\n          <Badge\n            radius=\"sm\"\n            color={\n              pullRequest.mergeable === \"MERGEABLE\"\n                ? \"green.8\"\n                : pullRequest.mergeable === \"CONFLICTING\"\n                ? \"red\"\n                : \"gray\"\n            }\n            style={{ marginRight: 8 }}\n          >\n            {!pullRequest.closed && pullRequest.mergeable === \"MERGEABLE\"\n              ? \"Mergeable\"\n              : pullRequest.mergeable === \"CONFLICTING\"\n              ? \"Merge Conflicts\"\n              : \"Unknown merge state\"}\n          </Badge>\n          {(lastCommit?.statusCheckRollup?.contexts?.totalCount ?? 0) > 0 && (\n            <Badge\n              radius=\"sm\"\n              color={\n                lastCommit?.statusCheckRollup?.state === \"SUCCESS\"\n                  ? \"green.8\"\n                  : lastCommit?.statusCheckRollup?.state === \"FAILURE\"\n                  ? \"red\"\n                  : \"yellow.7\"\n              }\n              style={{ marginRight: 8 }}\n            >\n              CI ({numRunsPassed}/{lastCommit?.statusCheckRollup?.contexts?.totalCount})\n            </Badge>\n          )}\n        </Group>\n        {allCIPassing && toggle}\n      </Group>\n      {!isHidden && checkRunsComponent}\n    </Card.Section>\n  );\n  return (\n    <Card mb=\"md\" withBorder px=\"md\">\n      <Card.Section inheritPadding p=\"xs\" withBorder>\n        <Group justify=\"space-between\" align=\"center\" wrap=\"nowrap\">\n          <PRTitle pr={pullRequest} />\n          <Group justify=\"flex-end\" align=\"center\">\n            <ActionIcon component=\"a\" variant=\"default\" href={pullRequest.url} target=\"_blank\">\n              <IconExternalLink stroke={1} />\n            </ActionIcon>\n          </Group>\n        </Group>\n        <Text size=\"sm\" lineClamp={1} span>\n          <TimeDiffer from={dayjs(pullRequest.createdAt)} prefix=\"Created \" /> by{\" \"}\n          <User login={pullRequest.author?.login} size=\"sm\" />\n        </Text>\n      </Card.Section>\n      <Card.Section withBorder inheritPadding py=\"xs\">\n        <MarkdownRenderer>{body == null || isEmpty(body) ? \"*No description provided*\" : body}</MarkdownRenderer>\n      </Card.Section>\n      <Card.Section withBorder inheritPadding p=\"xs\">\n        <Group>\n          <Title size=\"sm\">Reviewers</Title>\n          <Group gap={0} justify=\"space-between\">\n            <Group>\n              {Array.from(allReviews).map(([login, { participated, required, state }]) => (\n                <User\n                  size=\"sm\"\n                  key={login}\n                  login={login}\n                  reviewState={state ?? (participated ? \"COMMENTED\" : \"requested\")}\n                  required={required}\n                />\n              ))}\n            </Group>\n            <Group gap={0}>\n              {pullRequest.baseRef?.branchProtectionRule?.requiresCodeOwnerReviews &&\n                pullRequest.viewerCanMergeAsAdmin && <Text>Codeowners are required</Text>}\n              {pullRequest.baseRef?.branchProtectionRule?.requiredApprovingReviewCount != null && (\n                <Text>\n                  Requires {pullRequest.baseRef?.branchProtectionRule?.requiredApprovingReviewCount} approvals\n                </Text>\n              )}\n            </Group>\n          </Group>\n        </Group>\n      </Card.Section>\n      {ciStatusComponent}\n    </Card>\n  );\n}\n","import { css } from \"@emotion/react\";\nimport { Group, Skeleton } from \"@mantine/core\";\nimport { useAtomValue, useSetAtom } from \"jotai\";\nimport { ReactElement, ReactNode, Suspense } from \"react\";\nimport { graphql, useLazyLoadQuery } from \"react-relay\";\nimport { useParams } from \"react-router-dom\";\nimport { sidepanelLayoutAtom } from \"../../state/settings\";\nimport { userLoginAtom } from \"../../state/user\";\nimport ActivityPanel from \"./ActivityPanel\";\nimport CommitsView from \"./CommitsView\";\nimport SummaryPanel from \"./SummaryPanel\";\nimport { PRReviewCommitsQuery } from \"./__generated__/PRReviewCommitsQuery.graphql\";\nimport { useGetScopes } from \"../../api\";\nimport { Scopes } from \"../../constants\";\n\nexport const PADDING_PX = 16;\n\nconst commitsQuery = graphql`\n  query PRReviewCommitsQuery($owner: String!, $name: String!, $id: Int!, $includeTeam: Boolean!) {\n    viewer {\n      login\n    }\n    repository(owner: $owner, name: $name) {\n      ...CommitsViewRepositoryFragment\n      defaultBranchRef {\n        name\n      }\n      pullRequest(number: $id) {\n        ...ActivityPanelFragment\n        ...FooterPullRequestFragment\n        ...CommitsViewPullRequestFragment\n        ...SummaryPanelFragment\n      }\n    }\n  }\n`;\n\nfunction LoadingState() {\n  return (\n    <Layout\n      summaryPanel={<Skeleton h=\"30vh\" mb=\"md\" />}\n      commitsView={<Skeleton h=\"50vh\" style={{ flexGrow: 1 }} />}\n      sidePanel={<Skeleton h=\"80vh\" />}\n    />\n  );\n}\n\nexport default function PRReview(): ReactElement {\n  return (\n    <Suspense fallback={<LoadingState />}>\n      <PRReviewImpl />\n    </Suspense>\n  );\n}\n\nfunction Layout({\n  summaryPanel,\n  commitsView,\n  sidePanel,\n}: {\n  summaryPanel: ReactNode;\n  commitsView: ReactNode;\n  sidePanel: ReactNode;\n}) {\n  return (\n    <Group\n      css={css({\n        height: \"100vh\",\n        overflowY: \"hidden\",\n        flexWrap: \"nowrap\",\n      })}\n      gap=\"sm\"\n      p=\"sm\"\n    >\n      <div\n        id=\"commits-container\"\n        style={{\n          flexBasis: \"60vw\",\n          overflowY: \"auto\",\n          height: \"100%\",\n        }}\n      >\n        {summaryPanel}\n        {commitsView}\n      </div>\n      {/* <Stack style={{ width: 25 }} gap={0}>\n        <ScrollBar />\n      </Stack> */}\n      <div\n        style={{\n          flexBasis: \"30vw\",\n          flexGrow: 1,\n          height: \"100%\",\n          overflowX: \"hidden\",\n        }}\n      >\n        {sidePanel}\n      </div>\n    </Group>\n  );\n}\n\nfunction PRReviewImpl(): ReactElement | null {\n  const params = useParams();\n  const paramWildcard = params[\"*\"];\n  const [owner, name, id, _commit, _base] = paramWildcard?.split(\"/\") ?? [];\n  const setUserLogin = useSetAtom(userLoginAtom);\n  const sidepanelLayout = useAtomValue(sidepanelLayoutAtom);\n  const scopes = useGetScopes();\n  const data = useLazyLoadQuery<PRReviewCommitsQuery>(\n    commitsQuery,\n    {\n      owner: owner,\n      name: name,\n      id: parseInt(id),\n      includeTeam: scopes.has(Scopes.READ_ORG),\n    },\n    {\n      fetchPolicy: \"store-and-network\",\n      // this causes the store to not work when combined with pending comments?\n      // networkCacheConfig: {\n      //   poll: 1000 * 60 * 5,\n      // },\n    }\n  );\n  setUserLogin(data.viewer.login);\n  const pullRequest = data.repository?.pullRequest;\n  const repo = data.repository;\n  const defaultBranchName = data.repository?.defaultBranchRef?.name;\n  if (repo == null || paramWildcard == null || pullRequest == null || defaultBranchName == null) {\n    return null;\n  }\n\n  return (\n    <Layout\n      summaryPanel={<SummaryPanel pr={pullRequest} />}\n      commitsView={\n        <CommitsView defaultBranchName={defaultBranchName} name={name} owner={owner} pr={pullRequest} repo={repo} />\n      }\n      sidePanel={sidepanelLayout === \"timeline\" && <ActivityPanel pr={pullRequest} />}\n    />\n  );\n}\n","import PRReview from \"./PRReview\";\n\n// This file is just a hack to lazy load with react router\nexport function Component() {\n  return <PRReview />;\n}"],"file":"assets/PRReviewLazy-BCuHaP2N.js"}